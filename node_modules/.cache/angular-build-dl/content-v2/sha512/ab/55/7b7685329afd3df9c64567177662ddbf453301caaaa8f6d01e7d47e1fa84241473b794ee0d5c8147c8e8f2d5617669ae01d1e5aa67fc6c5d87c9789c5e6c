(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}));var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n,r=null!==(e=null==t?void 0:t.identifier)&&void 0!==e?e:"[DEFAULT]",i=null!==(n=null==t?void 0:t.optional)&&void 0!==n&&n,o=this.normalizeInstanceIdentifier(r);if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(s){if(i)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Object(r.e)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=t.options,s=void 0===o?{}:o,a=this.normalizeInstanceIdentifier(void 0===i?"[DEFAULT]":i);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var c=Object(r.g)(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var h=Object(r.e)(l.value,2),d=h[1];a===this.normalizeInstanceIdentifier(h[0])&&d.resolve(u)}}catch(f){e={error:f}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(u,a),u},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i;try{for(var o=Object(r.g)(this.onInitCallbacks),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f}));let r=1;const i=(()=>Promise.resolve())(),o={};function s(t){return t in o&&(delete o[t],!0)}const a={setImmediate(t){const e=r++;return o[e]=!0,i.then(()=>s(e)&&t()),e},clearImmediate(t){s(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(c),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.6.5","app"),r.a.SDK_VERSION="8.6.5"},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return ts})),n.d(e,"b",(function(){return rc})),n.d(e,"c",(function(){return Ju})),n.d(e,"d",(function(){return Xu})),n.d(e,"e",(function(){return Zu})),n.d(e,"f",(function(){return Kc})),n.d(e,"g",(function(){return Vc})),n.d(e,"h",(function(){return so})),n.d(e,"i",(function(){return pc})),n.d(e,"j",(function(){return Sa})),n.d(e,"k",(function(){return sc})),n.d(e,"l",(function(){return Aa})),n.d(e,"m",(function(){return An})),n.d(e,"n",(function(){return ku})),n.d(e,"o",(function(){return K})),n.d(e,"p",(function(){return h})),n.d(e,"q",(function(){return W})),n.d(e,"r",(function(){return Ro})),n.d(e,"s",(function(){return Wa})),n.d(e,"t",(function(){return Ka})),n.d(e,"u",(function(){return oc})),n.d(e,"v",(function(){return ut})),n.d(e,"w",(function(){return Fc})),n.d(e,"x",(function(){return at})),n.d(e,"y",(function(){return Rc})),n.d(e,"z",(function(){return mc})),n.d(e,"A",(function(){return d})),n.d(e,"B",(function(){return nc})),n.d(e,"C",(function(){return ec})),n.d(e,"D",(function(){return Tu})),n.d(e,"E",(function(){return Jo})),n.d(e,"F",(function(){return Pa})),n.d(e,"G",(function(){return Ia})),n.d(e,"H",(function(){return Ta})),n.d(e,"I",(function(){return ja})),n.d(e,"J",(function(){return gr})),n.d(e,"K",(function(){return p})),n.d(e,"L",(function(){return qc})),n.d(e,"M",(function(){return Za})),n.d(e,"N",(function(){return Oc})),n.d(e,"O",(function(){return uo})),n.d(e,"P",(function(){return Da})),n.d(e,"Q",(function(){return Na})),n.d(e,"R",(function(){return $a})),n.d(e,"S",(function(){return mt})),n.d(e,"T",(function(){return jc})),n.d(e,"U",(function(){return zn})),n.d(e,"V",(function(){return P})),n.d(e,"W",(function(){return rt})),n.d(e,"X",(function(){return Qn})),n.d(e,"Y",(function(){return zc})),n.d(e,"Z",(function(){return kc})),n.d(e,"ab",(function(){return ic})),n.d(e,"bb",(function(){return yo})),n.d(e,"cb",(function(){return gu})),n.d(e,"db",(function(){return fr})),n.d(e,"eb",(function(){return Xn})),n.d(e,"fb",(function(){return Dn})),n.d(e,"gb",(function(){return Vn})),n.d(e,"hb",(function(){return Bn})),n.d(e,"ib",(function(){return Fn})),n.d(e,"jb",(function(){return Ln})),n.d(e,"kb",(function(){return Un})),n.d(e,"lb",(function(){return hu})),n.d(e,"mb",(function(){return Qc})),n.d(e,"nb",(function(){return du})),n.d(e,"ob",(function(){return fu})),n.d(e,"pb",(function(){return Mn})),n.d(e,"qb",(function(){return L})),n.d(e,"rb",(function(){return os})),n.d(e,"sb",(function(){return xs})),n.d(e,"tb",(function(){return Cs})),n.d(e,"ub",(function(){return lu})),n.d(e,"vb",(function(){return Kt})),n.d(e,"wb",(function(){return k})),n.d(e,"xb",(function(){return Nn})),n.d(e,"yb",(function(){return ha})),n.d(e,"zb",(function(){return Bt})),n.d(e,"Ab",(function(){return xa})),n.d(e,"Bb",(function(){return Nr})),n.d(e,"Cb",(function(){return ls})),n.d(e,"Db",(function(){return Qs})),n.d(e,"Eb",(function(){return aa})),n.d(e,"Fb",(function(){return Hs})),n.d(e,"Gb",(function(){return Hu})),n.d(e,"Hb",(function(){return _t})),n.d(e,"Ib",(function(){return kt})),n.d(e,"Jb",(function(){return y})),n.d(e,"Kb",(function(){return v})),n.d(e,"Lb",(function(){return Ot})),n.d(e,"Mb",(function(){return It})),n.d(e,"Nb",(function(){return ps})),n.d(e,"Ob",(function(){return ws})),n.d(e,"Pb",(function(){return vs})),n.d(e,"Qb",(function(){return ys})),n.d(e,"Rb",(function(){return _s})),n.d(e,"Sb",(function(){return xn})),n.d(e,"Tb",(function(){return ua})),n.d(e,"Ub",(function(){return nt})),n.d(e,"Vb",(function(){return gs})),n.d(e,"Wb",(function(){return Es})),n.d(e,"Xb",(function(){return Wu})),n.d(e,"Yb",(function(){return Is})),n.d(e,"Zb",(function(){return Su})),n.d(e,"ac",(function(){return Au})),n.d(e,"bc",(function(){return Rs})),n.d(e,"cc",(function(){return Ps})),n.d(e,"dc",(function(){return bs})),n.d(e,"ec",(function(){return js})),n.d(e,"fc",(function(){return _u})),n.d(e,"gc",(function(){return Cu})),n.d(e,"hc",(function(){return xu})),n.d(e,"ic",(function(){return Fu})),n.d(e,"jc",(function(){return fs})),n.d(e,"kc",(function(){return rn})),n.d(e,"lc",(function(){return de})),n.d(e,"mc",(function(){return br})),n.d(e,"nc",(function(){return St})),n.d(e,"oc",(function(){return Qu})),n.d(e,"pc",(function(){return Uu})),n.d(e,"qc",(function(){return qs})),n.d(e,"rc",(function(){return Os})),n.d(e,"sc",(function(){return ca})),n.d(e,"tc",(function(){return ds})),n.d(e,"uc",(function(){return na})),n.d(e,"vc",(function(){return ra})),n.d(e,"wc",(function(){return ia})),n.d(e,"xc",(function(){return oa})),n.d(e,"yc",(function(){return sa})),n.d(e,"zc",(function(){return Bu}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function u(t){return{toString:t}.toString()}const c="__parameters__";function l(t,e,n){return u(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(c)?t[c]:Object.defineProperty(t,c,{value:[]})[c];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const h=l("Inject",t=>({token:t})),d=l("Optional"),f=l("Self"),p=l("SkipSelf");var g=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function b(t){for(let e in t)if(t[e]===b)return e;throw Error("Could not find renamed property on target object.")}function m(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function v(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function w(t){return _(t,t[x])||_(t,t[S])}function _(t,e){return e&&e.token===t?e:null}function C(t){return t&&(t.hasOwnProperty(E)||t.hasOwnProperty(A))?t[E]:null}const x=b({\u0275prov:b}),E=b({\u0275inj:b}),O=b({\u0275provFallback:b}),S=b({ngInjectableDef:b}),A=b({ngInjectorDef:b});function k(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(k).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function I(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const T=b({__forward_ref__:b});function P(t){return t.__forward_ref__=P,t.toString=function(){return k(this())},t}function R(t){return j(t)?t():t}function j(t){return"function"==typeof t&&t.hasOwnProperty(T)&&t.__forward_ref__===P}const N="undefined"!=typeof globalThis&&globalThis,D="undefined"!=typeof window&&window,M="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,L=N||V||D||M,F=b({\u0275cmp:b}),U=b({\u0275dir:b}),B=b({\u0275pipe:b}),q=b({\u0275mod:b}),H=b({\u0275loc:b}),Q=b({\u0275fac:b}),z=b({__NG_ELEMENT_ID__:b});class W{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=y({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const K=new W("INJECTOR",-1),G={},Y=/\n/gm,X=b({provide:String,useValue:b});let Z,J=void 0;function $(t){const e=J;return J=t,e}function tt(t){const e=Z;return Z=t,e}function et(t,e=g.Default){if(void 0===J)throw new Error("inject() must be called from an injection context");return null===J?it(t,void 0,e):J.get(t,e&g.Optional?null:void 0,e)}function nt(t,e=g.Default){return(Z||et)(R(t),e)}const rt=nt;function it(t,e,n){const r=w(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&g.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${k(t)}]`)}function ot(t){const e=[];for(let n=0;n<t.length;n++){const r=R(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=g.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof d||"Optional"===i.ngMetadataName||i===d?n|=g.Optional:i instanceof p||"SkipSelf"===i.ngMetadataName||i===p?n|=g.SkipSelf:i instanceof f||"Self"===i.ngMetadataName||i===f?n|=g.Self:t=i instanceof h||i===h?i.token:i}e.push(nt(t,n))}else e.push(nt(r))}return e}class st{get(t,e=G){if(e===G){const e=new Error(`NullInjectorError: No provider for ${k(t)}!`);throw e.name="NullInjectorError",e}return e}}class at{}class ut{}function ct(t,e){t.forEach(t=>Array.isArray(t)?ct(t,e):e(t))}function lt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ht(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dt(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function ft(t,e,n){let r=gt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function pt(t,e){const n=gt(t,e);if(n>=0)return t[1|n]}function gt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var bt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),mt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const yt={},vt=[];let wt=0;function _t(t){return u(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||vt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||mt.Emulated,id:"c",styles:t.styles||vt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=wt++,n.inputs=At(t.inputs,e),n.outputs=At(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Ct):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(xt):null,n})}function Ct(t){return Tt(t)||function(t){return t[U]||null}(t)}function xt(t){return function(t){return t[B]||null}(t)}const Et={};function Ot(t){const e={type:t.type,bootstrap:t.bootstrap||vt,declarations:t.declarations||vt,imports:t.imports||vt,exports:t.exports||vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&u(()=>{Et[t.id]=t.type}),e}function St(t,e){return u(()=>{const n=Rt(t,!0);n.declarations=e.declarations||vt,n.imports=e.imports||vt,n.exports=e.exports||vt})}function At(t,e){if(null==t)return yt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const kt=_t;function It(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Tt(t){return t[F]||null}function Pt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}function Rt(t,e){const n=t[q]||null;if(!n&&!0===e)throw new Error(`Type ${k(t)} does not have '\u0275mod' property.`);return n}function jt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Nt(t){return Array.isArray(t)&&!0===t[1]}function Dt(t){return 0!=(8&t.flags)}function Mt(t){return 2==(2&t.flags)}function Vt(t){return 1==(1&t.flags)}function Lt(t){return null!==t.template}function Ft(t){return 0!=(512&t[2])}class Ut{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Bt(){return qt}function qt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Qt),Ht}function Ht(){const t=zt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===yt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Qt(t,e,n,r){const i=zt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:yt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Ut(u&&u.currentValue,e,s===yt),t[r]=e}function zt(t){return t.__ngSimpleChanges__||null}Bt.ngInherit=!0;let Wt=void 0;function Kt(t){Wt=t}function Gt(t){return!!t.listen}const Yt={createRenderer:(t,e)=>void 0!==Wt?Wt:"undefined"!=typeof document?document:void 0};function Xt(t){for(;Array.isArray(t);)t=t[0];return t}function Zt(t,e){return Xt(e[t+20])}function Jt(t,e){return Xt(e[t.index])}function $t(t,e){return t.data[e+20]}function te(t,e){return t[e+20]}function ee(t,e){const n=e[t];return jt(n)?n:n[0]}function ne(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function re(t){return 4==(4&t[2])}function ie(t){return 128==(128&t[2])}function oe(t,e){return null===t||null==e?null:t[e]}function se(t){t[18]=0}function ae(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ue={lFrame:Pe(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ce(){return ue.bindingsEnabled}function le(){return ue.lFrame.lView}function he(){return ue.lFrame.tView}function de(t){ue.lFrame.contextLView=t}function fe(){return ue.lFrame.previousOrParentTNode}function pe(t,e){ue.lFrame.previousOrParentTNode=t,ue.lFrame.isParent=e}function ge(){return ue.lFrame.isParent}function be(){ue.lFrame.isParent=!1}function me(){return ue.checkNoChangesMode}function ye(t){ue.checkNoChangesMode=t}function ve(){const t=ue.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function we(){return ue.lFrame.bindingIndex}function _e(){return ue.lFrame.bindingIndex++}function Ce(t){const e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function xe(t,e){const n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ee(e)}function Ee(t){ue.lFrame.currentDirectiveIndex=t}function Oe(t){const e=ue.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Se(){return ue.lFrame.currentQueryIndex}function Ae(t){ue.lFrame.currentQueryIndex=t}function ke(t,e){const n=Te();ue.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Ie(t,e){const n=Te(),r=t[1];ue.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Te(){const t=ue.lFrame,e=null===t?null:t.child;return null===e?Pe(t):e}function Pe(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Re(){const t=ue.lFrame;return ue.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const je=Re;function Ne(){const t=Re();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function De(){return ue.lFrame.selectedIndex}function Me(t){ue.lFrame.selectedIndex=t}function Ve(){const t=ue.lFrame;return $t(t.tView,t.selectedIndex)}function Le(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Fe(t,e,n){qe(t,e,3,n)}function Ue(t,e,n,r){(3&t[2])===n&&qe(t,e,n,r)}function Be(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function qe(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(He(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function He(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class Qe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function ze(t,e,n){const r=Gt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ke(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function We(t){return 3===t||4===t||6===t}function Ke(t){return 64===t.charCodeAt(0)}function Ge(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ye(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ye(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Xe(t){return-1!==t}function Ze(t){return 32767&t}function Je(t){return t>>16}function $e(t,e){let n=Je(t),r=e;for(;n>0;)r=r[15],n--;return r}function tn(t){return"string"==typeof t?t:null==t?"":""+t}function en(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():tn(t)}const nn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(L))();function rn(t){return{name:"document",target:t.ownerDocument}}function on(t){return t instanceof Function?t():t}let sn=!0;function an(t){const e=sn;return sn=t,e}let un=0;function cn(t,e){const n=hn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,ln(r.data,t),ln(e,null),ln(r.blueprint,null));const i=dn(t,e),o=t.injectorIndex;if(Xe(i)){const t=Ze(i),n=$e(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function ln(t,e){t.push(0,0,0,0,0,0,0,0,e)}function hn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function dn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function fn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(z)&&(r=n[z]),null==r&&(r=n[z]=un++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function pn(t,e,n,r=g.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(z)?t[z]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){ke(e,t);try{const t=i();if(null!=t||r&g.Optional)return t;throw new Error(`No provider for ${en(n)}!`)}finally{je()}}else if("number"==typeof i){if(-1===i)return new _n(t,e);let o=null,s=hn(t,e),a=-1,u=r&g.Host?e[16][6]:null;for((-1===s||r&g.SkipSelf)&&(a=-1===s?dn(t,e):e[s+8],wn(r,!1)?(o=e[1],s=Ze(a),e=$e(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if(vn(i,s,t.data)){const t=bn(s,e,n,o,r,u);if(t!==gn)return t}wn(r,e[1].data[s+8]===u)&&vn(i,s,e)?(o=t,s=Ze(a),e=$e(a,e)):s=-1}}}if(r&g.Optional&&void 0===i&&(i=null),0==(r&(g.Self|g.Host))){const t=e[9],o=tt(void 0);try{return t?t.get(n,i,r&g.Optional):it(n,i,r&g.Optional)}finally{tt(o)}}if(r&g.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${en(n)}]`)}const gn={};function bn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=mn(a,s,n,null==r?Mt(a)&&sn:r!=s&&3===a.type,i&g.Host&&o===a);return null!==u?yn(e,s,u,a):gn}function mn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&Lt(t)&&t.type===n)return u}return null}function yn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Qe){const s=i;if(s.resolving)throw new Error("Circular dep for "+en(o[n]));const a=an(s.canSeeViewProviders);let u;s.resolving=!0,s.injectImpl&&(u=tt(s.injectImpl)),ke(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=qt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&tt(u),an(a),s.resolving=!1,je()}}return i}function vn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function wn(t,e){return!(t&g.Self||t&g.Host&&e)}class _n{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return pn(this._tNode,this._lView,t,void 0,e)}}function Cn(t){const e=t;if(j(t))return()=>{const t=Cn(R(e));return t?t():null};let n=Pt(e);if(null===n){const t=C(e);n=t&&t.factory}return n||null}function xn(t){return u(()=>{const e=t.prototype.constructor,n=e[Q]||Cn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Q]||Cn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function En(t){return t.ngDebugContext}function On(t){return t.ngOriginalError}function Sn(t,...e){t.error(...e)}class An{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Sn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?En(t)?En(t):this._findContext(On(t)):null}_findOriginalError(t){let e=On(t);for(;e&&On(e);)e=On(e);return e}}class kn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class In extends kn{getTypeName(){return"HTML"}}class Tn extends kn{getTypeName(){return"Style"}}class Pn extends kn{getTypeName(){return"Script"}}class Rn extends kn{getTypeName(){return"URL"}}class jn extends kn{getTypeName(){return"ResourceURL"}}function Nn(t){return t instanceof kn?t.changingThisBreaksApplicationSecurity:t}function Dn(t,e){const n=Mn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Mn(t){return t instanceof kn&&t.getTypeName()||null}function Vn(t){return new In(t)}function Ln(t){return new Tn(t)}function Fn(t){return new Pn(t)}function Un(t){return new Rn(t)}function Bn(t){return new jn(t)}let qn=!0,Hn=!1;function Qn(){return Hn=!0,qn}function zn(){if(Hn)throw new Error("Cannot enable prod mode after platform setup.");qn=!1}class Wn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Kn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Gn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xn(t){return(t=String(t)).match(Gn)||t.match(Yn)?t:(Qn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Zn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Jn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const $n=Zn("area,br,col,hr,img,wbr"),tr=Zn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),er=Zn("rp,rt"),nr=Jn(er,tr),rr=Jn($n,Jn(tr,Zn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jn(er,Zn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nr),ir=Zn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),or=Zn("srcset"),sr=Jn(ir,or,Zn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ar=Zn("script,style,template");class ur{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!rr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ar.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!sr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ir[o]&&(s=Xn(s)),or[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Xn(t.trim())).join(", ")),this.buf.push(" ",e,'="',hr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();rr.hasOwnProperty(e)&&!$n.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(hr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lr=/([^\#-~ |!])/g;function hr(t){return t.replace(/&/g,"&amp;").replace(cr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(lr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dr;function fr(t,e){let n=null;try{dr=dr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Wn:new Kn(t)}(t);let r=e?String(e):"";n=dr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=dr.getInertBodyElement(r)}while(r!==o);const s=new ur,a=s.sanitizeChildren(pr(n)||n);return Qn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=pr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function pr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var gr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function br(t){const e=function(){const t=le();return t&&t[12]}();return e?e.sanitize(gr.URL,t)||"":Dn(t,"URL")?Nn(t):Xn(tn(t))}function mr(t,e){t.__ngContext__=e}function yr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function vr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==yr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function wr(t){return 0===t.type&&"ng-template"!==t.tagName}function _r(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Cr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(We(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!_r(t,u,n)||""===u&&1===e.length){if(xr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!vr(t.attrs,c,n)){if(xr(r))return!1;s=!0}continue}const l=Er(8&r?"class":u,i,wr(t),n);if(-1===l){if(xr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==yr(e,c,0)||2&r&&c!==t){if(xr(r))return!1;s=!0}}}}else{if(!s&&!xr(r)&&!xr(u))return!1;if(s&&xr(u))continue;s=!1,r=u|1&r}}return xr(r)||s}function xr(t){return 0==(1&t)}function Er(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Or(t,e,n=!1){for(let r=0;r<e.length;r++)if(Cr(t,e[r],n))return!0;return!1}function Sr(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Ar(t,e){return t?":not("+e.trim()+")":e}function kr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||xr(s)||(e+=Ar(o,i),i=""),r=s,o=o||!xr(r);n++}return""!==i&&(e+=Ar(o,i)),e}const Ir={};function Tr(t){const e=t[3];return Nt(e)?e[3]:e}function Pr(t){return jr(t[13])}function Rr(t){return jr(t[4])}function jr(t){for(;null!==t&&!Nt(t);)t=t[4];return t}function Nr(t){Dr(he(),le(),De()+t,me())}function Dr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Fe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ue(e,r,0,n)}Me(n)}function Mr(t,e){return t<<17|e<<2}function Vr(t){return t>>17&32767}function Lr(t){return 2|t}function Fr(t){return(131068&t)>>2}function Ur(t,e){return-131069&t|e<<2}function Br(t){return 1|t}function qr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Ae(i),n.contentQueries(2,e[o],o)}}}function Hr(t,e,n){return Gt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Qr(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,se(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function zr(t,e,n,r,i,o){const s=n+20,a=t.data[s]||function(t,e,n,r,i,o){const s=fe(),a=ge(),u=a?s:s&&s.parent,c=t.data[n]=ei(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(t,e,s,r,i,o);return pe(a,!0),a}function Wr(t,e,n){Ie(e,e[6]);try{const r=t.viewQuery;null!==r&&xi(1,r,n);const i=t.template;null!==i&&Yr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&qr(t,e),t.staticViewQueries&&xi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)yi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Ne()}}function Kr(t,e,n,r){const i=e[2];if(256==(256&i))return;Ie(e,e[6]);const o=me();try{se(e),ue.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Yr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Fe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ue(e,n,0,null),Be(e,0)}if(function(t){for(let e=Pr(t);null!==e;e=Rr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ae(r,1),n[2]|=1024}}}(e),function(t){for(let e=Pr(t);null!==e;e=Rr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];ie(n)&&Kr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&qr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Fe(e,n)}else{const n=t.contentHooks;null!==n&&Ue(e,n,1),Be(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,Me(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(xe(r,i),s(2,e[i])),i++)}}}finally{Me(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)mi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&xi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Fe(e,n)}else{const n=t.viewHooks;null!==n&&Ue(e,n,2),Be(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ae(e[3],-1))}finally{Ne()}}function Gr(t,e,n,r){const i=e[10],o=!me(),s=re(e);try{o&&!s&&i.begin&&i.begin(),s&&Wr(t,e,r),Kr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Yr(t,e,n,r,i){const o=De();try{Me(-1),2&r&&e.length>20&&Dr(t,e,0,me()),n(r,i)}finally{Me(o)}}function Xr(t,e,n){ce()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||cn(n,e),mr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Lt(r);o&&fi(e,n,r);const u=yn(e,t,a,n);mr(u,e),null!==s&&pi(0,a-i,u,r,0,s),o&&(ee(n.index,e)[8]=u)}}(t,e,n,Jt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-20,u=ue.lFrame.currentDirectiveIndex;try{Me(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Ee(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ai(r,i):s&&o.push(null)}}finally{Me(-1),Ee(u)}}(t,e,n))}function Zr(t,e,n=Jt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Jr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=$r(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function $r(t,e,n,r,i,o,s,a,u,c){const l=20+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ir);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function ti(t,e,n,r){const i=Oi(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function ei(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ni(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ri(t,e,n,r,i,o,s,a){const u=Jt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(ki(t,n,c,r,i),Mt(e)&&function(t,e){const n=ee(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.tagName||"",r):i,Gt(o)?o.setProperty(u,r,i):Ke(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ii(t,e,n,r){let i=!1;if(ce()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Or(n,s.selectors,!1)&&(i||(i=[]),fn(cn(n,e),t,s.type),Lt(s)?(ci(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,hi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}ui(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ge(n.mergedAttrs,c.hostAttrs),di(t,e,c),li(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),u=!0),oi(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||wr(e)?null:gi(n,i);o.push(c),s=ni(n,u,s),a=ni(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),si(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ge(n.mergedAttrs,n.attrs),i}function oi(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function si(t,e,n){for(let r=0;r<n;r++)e.push(Ir),t.blueprint.push(Ir),t.data.push(null)}function ai(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ui(t,e,n){const r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function ci(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function li(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Lt(e)&&(n[""]=t)}}function hi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function di(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Pt(n.type)),i=new Qe(r,Lt(n),null);t.blueprint.push(i),e.push(i)}function fi(t,e,n){const r=Jt(e,t),i=Jr(n),o=t[10],s=vi(t,Qr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function pi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function gi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function bi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function mi(t,e){const n=ee(e,t);if(ie(n)){const t=n[1];80&n[2]?Kr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Pr(e);null!==r;r=Rr(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Kr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=ee(n[r],e);ie(i)&&i[5]>0&&t(i)}}(n)}}function yi(t,e){const n=ee(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Wr(r,n,n[8])}function vi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function wi(t){for(;t;){t[2]|=64;const e=Tr(t);if(Ft(t)&&!e)return t;t=e}return null}function _i(t,e,n){const r=e[10];r.begin&&r.begin();try{Kr(t,e,t.template,n)}catch(i){throw Ai(e,i),i}finally{r.end&&r.end()}}function Ci(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ne(n),i=r[1];Gr(i,r,i.template,n)}}(t[8])}function xi(t,e,n){Ae(0),e(t,n)}const Ei=(()=>Promise.resolve(null))();function Oi(t){return t[7]||(t[7]=[])}function Si(t,e,n){return(null===t||Lt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Ai(t,e){const n=t[9],r=n?n.get(An,null):null;r&&r.handleError(e)}function ki(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ii(t,e,n){const r=Zt(e,t),i=t[11];Gt(i)?i.setValue(r,n):r.textContent=n}function Ti(t,e){const n=e[3];return-1===t.index?Nt(n)?n:null:n}function Pi(t,e){const n=Ti(t,e);return n?Hi(e[11],n[7]):null}function Ri(t,e,n,r,i){if(null!=r){let o,s=!1;Nt(r)?o=r:jt(r)&&(s=!0,r=r[0]);const a=Xt(r);0===t&&null!==n?null==i?Bi(e,n,a):Ui(e,n,a,i||null):1===t&&null!==n?Ui(e,n,a,i||null):2===t?function(t,e,n){const r=Hi(t,e);r&&function(t,e,n,r){Gt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Xt(n)&&Ri(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];Gi(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function ji(t,e,n,r){const i=Pi(t.node,e);i&&Gi(t,e,e[11],n?1:2,i,r)}function Ni(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ae(i,-1)),n.splice(r,1)}function Di(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Ni(i,r),e>0&&(t[n-1][4]=r[4]);const o=ht(t,10+e);ji(r[1],r,!1,null);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Mi(t,e){if(!(256&e[2])){const n=e[11];Gt(n)&&n.destroyNode&&Gi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Li(t[1],t);for(;e;){let n=null;if(jt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)jt(e)&&Li(e[1],e),e=Vi(e,t);null===e&&(e=t),jt(e)&&Li(e[1],e),n=e&&e[4]}e=n}}(e)}}function Vi(t,e){let n;return jt(t)&&(n=t[6])&&2===n.type?Ti(n,t):t[3]===e?null:t[3]}function Li(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Qe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Xt(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Gt(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Nt(e[3])){r!==e[3]&&Ni(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Fi(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Pi(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Jt(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==mt.ShadowDom&&n!==mt.Native)return null}return Jt(r,n)}function Ui(t,e,n,r){Gt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Bi(t,e,n){Gt(t)?t.appendChild(e,n):e.appendChild(n)}function qi(t,e,n,r){null!==r?Ui(t,e,n,r):Bi(t,e,n)}function Hi(t,e){return Gt(t)?t.parentNode(e):e.parentNode}function Qi(t,e){if(2===t.type){const n=Ti(t,e);return null===n?null:Wi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Jt(t,e):null}function zi(t,e,n,r){const i=Fi(t,r,e);if(null!=i){const t=e[11],o=Qi(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)qi(t,i,n[e],o);else qi(t,i,n,o)}}function Wi(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Jt(n,e);if(0===r)return Wi(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Nt(t)?Wi(-1,t):Xt(t)}}{const r=e[16],i=r[6],o=Tr(r),s=i.projection[n.projection];return null!=s?t(o,s):t(e,n.next)}}return null}(t,r)}return e[7]}function Ki(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&mr(Xt(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Ki(t,e,n.child,r,i,o,!1),Ri(e,t,i,a,o)):1===u?Yi(t,e,r,n,i,o):Ri(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Gi(t,e,n,r,i,o){Ki(n,r,t.node.child,e,i,o,!1)}function Yi(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ri(e,t,i,a[u],o);else Ki(t,e,a,s[3],i,o,!0)}function Xi(t,e,n){Gt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Zi(t,e,n){Gt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Ji{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Xt(s)),Nt(s))for(let e=10;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=Tr(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Mi(this._lView[1],this._lView)}onDestroy(t){ti(this._lView[1],this._lView,null,t)}markForCheck(){wi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){_i(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ye(!0);try{_i(t,e,n)}finally{ye(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Gi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class $i extends Ji{constructor(t){super(t),this._view=t}detectChanges(){Ci(this._view)}checkNoChanges(){!function(t){ye(!0);try{Ci(t)}finally{ye(!1)}}(this._view)}get context(){return null}}let to,eo,no;function ro(t,e,n){return to||(to=class extends t{}),new to(Jt(e,n))}function io(t,e,n,r){return eo||(eo=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Qr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Wr(e,n,t),new Ji(n)}}),0===n.type?new eo(r,n,ro(e,n,r)):null}function oo(t,e,n,r){let i;no||(no=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return ro(e,this._hostTNode,this._hostView)}get injector(){return new _n(this._hostTNode,this._hostView)}get parentInjector(){const t=dn(this._hostTNode,this._hostView),e=$e(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Je(t),i=e,o=e[6];for(;r>1;)i=i[15],o=i[6],r--;return o}(t,this._hostView,this._hostTNode);return Xe(t)&&null!=n?new _n(n,e):new _n(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(at,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Nt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new no(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],lt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),ji(r,n,!0,Wi(i,this._lContainer)),t.attachToViewContainerRef(this),lt(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Di(this._lContainer,e);n&&(ht(this._lContainer[8],e),Mi(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Di(this._lContainer,e);return n&&null!=ht(this._lContainer[8],e)?new Ji(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Nt(o))i=o;else{let t;if(4===n.type)t=Xt(o);else if(t=r[11].createComment(""),Ft(r)){const e=r[11],i=Jt(n,r);Ui(e,Hi(e,i),t,function(t,e){return Gt(t)?t.nextSibling(e):e.nextSibling}(e,i))}else zi(r[1],r,t,n);r[n.index]=i=bi(o,r,t,n),vi(r,i)}return new no(i,n,r)}let so=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ao(),t})();const ao=function(t=!1){return function(t,e,n){if(!n&&Mt(t)){const n=ee(t.index,e);return new Ji(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Ji(e[16],e):null}(fe(),le(),t)},uo=Function;function co(t){return"function"==typeof t}const lo=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|[^()]+\(arguments\))\)/,ho=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,fo=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,po=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class go{constructor(t){this._reflect=t||L.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=dt(void 0===t?e.length:t.length);for(let r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(n=t.toString(),lo.test(n)||po.test(n)||ho.test(n)&&!fo.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==e.ctorParameters){const t="function"==typeof r?r():r,e=t.map(t=>t&&t.type),n=t.map(t=>t&&bo(t.decorators));return this._zipTypesAndAnnotations(e,n)}const i=t.hasOwnProperty(c)&&t[c],o=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return o||i?this._zipTypesAndAnnotations(o,i):dt(t.length)}parameters(t){if(!co(t))return[];const e=mo(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?bo(t.decorators):t.hasOwnProperty("__annotations__")?t.__annotations__:null}annotations(t){if(!co(t))return[];const e=mo(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=bo(e[t])}),n}return t.hasOwnProperty("__prop__metadata__")?t.__prop__metadata__:null}propMetadata(t){if(!co(t))return{};const e=mo(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}ownPropMetadata(t){return co(t)&&this._ownPropMetadata(t,mo(t))||{}}hasLifecycleHook(t,e){return t instanceof uo&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+k(t)}resourceUri(t){return"./"+k(t)}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function bo(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function mo(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}const yo=new W("Set Injector scope."),vo={},wo={},_o=[];let Co=void 0;function xo(){return void 0===Co&&(Co=new st),Co}function Eo(t,e=null,n=null,r){return new Oo(t,n,e||xo(),r)}class Oo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ct(e,n=>this.processProvider(n,t,e)),ct([t],t=>this.processInjectorType(t,[],i)),this.records.set(K,ko(void 0,this));const o=this.records.get(yo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:k(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=G,n=g.Default){this.assertNotDestroyed();const r=$(this);try{if(!(n&g.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof W)&&w(t);e=n&&this.injectableDefInScope(n)?ko(So(t),vo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&g.Self?xo():this.parent).get(t,e=n&g.Optional&&e===G?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(k(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=k(e);if(Array.isArray(e))i=e.map(k).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):k(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Y,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{$(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(k(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=R(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{ct(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ct(r,t=>this.processProvider(t,n,r||_o))}}this.injectorDefTypes.add(o),this.records.set(o,ko(r.factory,vo));const a=r.providers;if(null!=a&&!s){const e=t;ct(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=To(t=R(t))?t:R(t&&t.provide);const i=function(t,e,n){return Io(t)?ko(void 0,t.useValue):ko(Ao(t),vo)}(t);if(To(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ko(void 0,vo,!0),e.factory=()=>ot(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===vo&&(e.value=wo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function So(t){const e=w(t),n=null!==e?e.factory:Pt(t);if(null!==n)return n;const r=C(t);if(null!==r)return r.factory;if(t instanceof W)throw new Error(`Token ${k(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=dt(e,"?");throw new Error(`Can't resolve all parameters for ${k(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[S]||t[O]&&t[O]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ao(t,e,n){let r=void 0;if(To(t)){const e=R(t);return Pt(e)||So(e)}if(Io(t))r=()=>R(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ot(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>nt(R(t.useExisting));else{const e=R(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Pt(e)||So(e);r=()=>new e(...ot(t.deps))}var i;return r}function ko(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Io(t){return null!==t&&"object"==typeof t&&X in t}function To(t){return"function"==typeof t}const Po=function(t,e,n){return function(t,e=null,n=null,r){const i=Eo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Ro=(()=>{class t{static create(t,e){return Array.isArray(t)?Po(t,e,""):Po(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=G,t.NULL=new st,t.\u0275prov=y({token:t,providedIn:"any",factory:()=>nt(K)}),t.__NG_ELEMENT_ID__=-1,t})();function jo(t){return t.length>1?" ("+function(t){const e=[];for(let n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(t=>k(t.token)).join(" -> ")+")":""}function No(t,e,n,r){const i=[e],o=n(i),s=r?function(t,e){const n=`${t} caused by: ${e instanceof Error?e.message:e}`,r=Error(n);return r.ngOriginalError=e,r}(o,r):Error(o);return s.addKey=Do,s.keys=i,s.injectors=[t],s.constructResolvingMessage=n,s.ngOriginalError=r,s}function Do(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function Mo(t,e){const n=[];for(let r=0,i=e.length;r<i;r++){const t=e[r];n.push(t&&0!=t.length?t.map(k).join(" "):"?")}return Error("Cannot resolve all parameters for '"+k(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+k(t)+"' is decorated with Injectable.")}class Vo{constructor(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=k(this.token)}static get(t){return Fo.get(R(t))}static get numberOfKeys(){return Fo.numberOfKeys}}class Lo{constructor(){this._allKeys=new Map}get(t){if(t instanceof Vo)return t;if(this._allKeys.has(t))return this._allKeys.get(t);const e=new Vo(t,Vo.numberOfKeys);return this._allKeys.set(t,e),e}get numberOfKeys(){return this._allKeys.size}}const Fo=new Lo;class Uo{constructor(t){this.reflectionCapabilities=t}updateCapabilities(t){this.reflectionCapabilities=t}factory(t){return this.reflectionCapabilities.factory(t)}parameters(t){return this.reflectionCapabilities.parameters(t)}annotations(t){return this.reflectionCapabilities.annotations(t)}propMetadata(t){return this.reflectionCapabilities.propMetadata(t)}hasLifecycleHook(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)}getter(t){return this.reflectionCapabilities.getter(t)}setter(t){return this.reflectionCapabilities.setter(t)}method(t){return this.reflectionCapabilities.method(t)}importUri(t){return this.reflectionCapabilities.importUri(t)}resourceUri(t){return this.reflectionCapabilities.resourceUri(t)}resolveIdentifier(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)}resolveEnum(t,e){return this.reflectionCapabilities.resolveEnum(t,e)}}const Bo=new Uo(new go);class qo{constructor(t,e,n){this.key=t,this.optional=e,this.visibility=n}static fromKey(t){return new qo(t,!1,null)}}const Ho=[];class Qo{constructor(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class zo{constructor(t,e){this.factory=t,this.dependencies=e}}function Wo(t){let e,n;if(t.useClass){const r=R(t.useClass);e=Bo.factory(r),n=Go(r)}else t.useExisting?(e=t=>t,n=[qo.fromKey(Vo.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){const n=e.map(t=>[t]);return e.map(e=>Yo(t,e,n))}return Go(t)}(t.useFactory,t.deps)):(e=()=>t.useValue,n=Ho);return new zo(e,n)}function Ko(t){return new Qo(Vo.get(t.provide),[Wo(t)],t.multi||!1)}function Go(t){const e=Bo.parameters(t);if(!e)return[];if(e.some(t=>null==t))throw Mo(t,e);return e.map(n=>Yo(t,n,e))}function Yo(t,e,n){let r=null,i=!1;if(!Array.isArray(e))return Xo(e instanceof h?e.token:e,i,null);let o=null;for(let s=0;s<e.length;++s){const t=e[s];t instanceof uo?r=t:t instanceof h?r=t.token:t instanceof d?i=!0:t instanceof f||t instanceof p?o=t:t instanceof W&&(r=t)}if(r=R(r),null!=r)return Xo(r,i,o);throw Mo(t,n)}function Xo(t,e,n){return new qo(Vo.get(t),e,n)}const Zo={};class Jo{static resolve(t){return function(t){const e=function(t,e){for(let n=0;n<t.length;n++){const r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${i} ${r}`);if(r.multiProvider)for(let t=0;t<r.resolvedFactories.length;t++)i.resolvedFactories.push(r.resolvedFactories[t]);else e.set(r.key.id,r)}else{let t;t=r.multiProvider?new Qo(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,t)}}return e}(function t(e,n){return e.forEach(e=>{if(e instanceof uo)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!Array.isArray(e))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+e);t(e,n)}}),n}(t,[]).map(Ko),new Map);return Array.from(e.values())}(t)}static resolveAndCreate(t,e){const n=Jo.resolve(t);return Jo.fromResolvedProviders(n,e)}static fromResolvedProviders(t,e){return new $o(t,e)}}let $o=(()=>{class t{constructor(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;const n=t.length;this.keyIds=[],this.objs=[];for(let r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=Zo}get(t,e=G){return this._getByKey(Vo.get(t),null,e)}resolveAndCreateChild(t){const e=Jo.resolve(t);return this.createChildFromResolved(e)}createChildFromResolved(e){const n=new t(e);return n.parent=this,n}resolveAndInstantiate(t){return this.instantiateResolved(Jo.resolve([t])[0])}instantiateResolved(t){return this._instantiateProvider(t)}getProviderAtIndex(t){if(t<0||t>=this._providers.length)throw function(t){return Error(`Index ${t} is out-of-bounds.`)}(t);return this._providers[t]}_new(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw No(this,t.key,(function(t){return"Cannot instantiate cyclic dependency!"+jo(t)}));return this._instantiateProvider(t)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(t){if(t.multiProvider){const e=[];for(let n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])}_instantiate(t,e){const n=e.factory;let r,i;try{r=e.dependencies.map(t=>this._getByReflectiveDependency(t))}catch(s){throw s.addKey&&s.addKey(this,t.key),s}try{i=n(...r)}catch(s){throw No(this,t.key,(function(t){const e=k(t[0].token);return`${o.message}: Error during instantiation of ${e}!${jo(t)}.`}),o=s)}var o;return i}_getByReflectiveDependency(t){return this._getByKey(t.key,t.visibility,t.optional?null:G)}_getByKey(e,n,r){return e===t.INJECTOR_KEY?this:n instanceof f?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)}_getObjByKeyId(t){for(let e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===Zo&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return Zo}_throwOrNull(t,e){if(e!==G)return e;throw function(t,e){return No(t,e,(function(t){return`No provider for ${k(t[0].token)}!${jo(t)}`}))}(this,t)}_getByKeySelf(t,e){const n=this._getObjByKeyId(t.id);return n!==Zo?n:this._throwOrNull(t,e)}_getByKeyDefault(e,n,r){let i;for(i=r instanceof p?this.parent:this;i instanceof t;){const t=i,n=t._getObjByKeyId(e.id);if(n!==Zo)return n;i=t.parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)}get displayName(){return`ReflectiveInjector(providers: [${function(t,e){const n=[];for(let r=0;r<t._providers.length;++r)n[r]=' "'+t.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", ")}])`}toString(){return this.displayName}}return t.INJECTOR_KEY=Vo.get(Ro),t})();const ts=new W("AnalyzeForEntryComponents");function es(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=I(i,t):2==o&&(r=I(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let ns=null;function rs(){if(!ns){const t=L.Symbol;if(t&&t.iterator)ns=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ns=n)}}}return ns}class is{constructor(t){this.wrapped=t}static wrap(t){return new is(t)}static unwrap(t){return is.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof is}}function os(t){return!!ss(t)&&(Array.isArray(t)||!(t instanceof Map)&&rs()in t)}function ss(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function as(t,e,n){return t[e]=n}function us(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function cs(t,e,n,r){const i=us(t,e,n);return us(t,e+1,r)||i}function ls(t,e,n,r){const i=le();return us(i,_e(),e)&&(he(),function(t,e,n,r,i,o){const s=Jt(t,e),a=e[11];if(null==r)Gt(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?tn(r):i(r,t.tagName||"",n);Gt(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(Ve(),i,t,e,n,r)),ls}function hs(t,e,n,r){return us(t,_e(),n)?e+tn(n)+r:Ir}function ds(t,e,n,r,i,o,s,a){const u=le(),c=he(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=zr(e,n[6],t,0,s||null,oe(c,a));ii(e,n,l,oe(c,u)),Le(e,l);const h=l.tViews=$r(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),d=ei(0,null,2,-1,null,null);return d.injectorIndex=l.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];pe(h,!1);const d=u[11].createComment("");zi(c,u,d,h),mr(d,u),vi(u,u[l]=bi(d,u,d,h)),Vt(h)&&Xr(c,u,h),null!=s&&Zr(u,h,a)}function fs(t){return te(ue.lFrame.contextLView,t)}function ps(t,e=g.Default){const n=le();return null==n?nt(t,e):pn(fe(),n,R(t),e)}function gs(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(We(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(fe(),t)}function bs(t,e,n){const r=le();return us(r,_e(),e)&&ri(he(),Ve(),r,t,e,r[11],n,!1),bs}function ms(t,e,n,r,i){const o=i?"class":"style";ki(t,n,e.inputs[o],o,r)}function ys(t,e,n,r){const i=le(),o=he(),s=20+t,a=i[11],u=i[s]=Hr(e,a,ue.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=oe(a,o),c=zr(e,n[6],t,3,i,u);return ii(e,n,c,oe(a,s)),null!==c.attrs&&es(c,c.attrs,!1),null!==c.mergedAttrs&&es(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];pe(c,!0);const l=c.mergedAttrs;null!==l&&ze(a,u,l);const h=c.classes;null!==h&&Zi(a,u,h);const d=c.styles;null!==d&&Xi(a,u,d),zi(o,i,u,c),0===ue.lFrame.elementDepthCount&&mr(u,i),ue.lFrame.elementDepthCount++,Vt(c)&&(Xr(o,i,c),function(t,e,n){if(Dt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Zr(i,c)}function vs(){let t=fe();ge()?be():(t=t.parent,pe(t,!1));const e=t;ue.lFrame.elementDepthCount--;const n=he();n.firstCreatePass&&(Le(n,t),Dt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&ms(n,e,le(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&ms(n,e,le(),e.stylesWithoutHost,!1)}function ws(t,e,n,r){ys(t,e,n,r),vs()}function _s(){return le()}function Cs(t){return!!t&&"function"==typeof t.then}function xs(t){return!!t&&"function"==typeof t.subscribe}function Es(t,e,n=!1,r){const i=le(),o=he(),s=fe();return Ss(o,i,i[11],s,t,e,n,r),Es}function Os(t,e,n=!1,r){const i=fe(),o=le(),s=he();return Ss(s,o,Si(Oe(s.data),i,o),i,t,e,n,r),Os}function Ss(t,e,n,r,i,o,s=!1,a){const u=Vt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Oi(e);let h=!0;if(3===r.type){const d=Jt(r,e),f=a?a(d):yt,p=f.target||d,g=l.length,b=a?t=>a(Xt(t[r.index])).target:r.index;if(Gt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=ks(r,e,o,!1);const t=n.listen(f.name||p,i,o);l.push(o,t),c&&c.push(i,b,g,g+1)}}else o=ks(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,b,g,s)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}function As(t,e,n){try{return!1!==e(n)}catch(r){return Ai(t,r),!1}}function ks(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?ee(t.index,e):e;0==(32&e[2])&&wi(s);let a=As(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=As(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Is(t=1){return function(t){return(ue.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ue.lFrame.contextLView))[8]}(t)}function Ts(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Or(t,o,!0):Sr(r,o))return i}else n=i}return n}function Ps(t){const e=le()[16][6];if(!e.projection){const n=e.projection=dt(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Ts(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Rs(t,e=0,n){const r=le(),i=he(),o=zr(i,r[6],t,1,null,n||null);null===o.projection&&(o.projection=e),be(),function(t,e,n){Yi(e[11],0,e,n,Fi(t,n,e),Qi(n.parent||e[6],e))}(i,r,o)}function js(t,e,n){return Ns(t,"",e,"",n),js}function Ns(t,e,n,r,i){const o=le(),s=hs(o,e,n,r);return s!==Ir&&ri(he(),Ve(),o,t,s,o[11],i,!1),Ns}const Ds=[];function Ms(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Vr(o):Fr(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Vs(t[a],e)&&(u=!0,t[a+1]=r?Br(n):Lr(n)),a=r?Vr(n):Fr(n)}u&&(t[n+1]=r?Lr(o):Br(o))}function Vs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&gt(t,e)>=0}const Ls={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Fs(t){return t.substring(Ls.key,Ls.keyEnd)}function Us(t,e){const n=Ls.textEnd;return n===e?-1:(e=Ls.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ls.key=e,n),Bs(t,e,n))}function Bs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function qs(t,e,n){return Ws(t,e,n,!1),qs}function Hs(t,e){return Ws(t,e,null,!0),Hs}function Qs(t){Ks(ft,zs,t,!0)}function zs(t,e){for(let n=function(t){return function(t){Ls.key=0,Ls.keyEnd=0,Ls.value=0,Ls.valueEnd=0,Ls.textEnd=t.length}(t),Us(t,Bs(t,0,Ls.textEnd))}(e);n>=0;n=Us(e,n))ft(t,Fs(e),!0)}function Ws(t,e,n,r){const i=le(),o=he(),s=Ce(2);o.firstUpdatePass&&Ys(o,t,s,r),e!==Ir&&us(i,s,e)&&Js(o,o.data[De()+20],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=k(Nn(t)))),t}(e,n),r,s)}function Ks(t,e,n,r){const i=he(),o=Ce(2);i.firstUpdatePass&&Ys(i,null,o,r);const s=le();if(n!==Ir&&us(s,o,n)){const a=i.data[De()+20];if(ea(a,r)&&!Gs(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=I(t,n||"")),ms(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===Ir&&(i=Ds);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const d=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let p=null,g=void 0;l===h?(u+=2,c+=2,d!==f&&(p=h,g=f)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,g=f),null!==p&&Js(t,e,n,r,p,g,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Ds;const r=[],i=Nn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Gs(t,e){return e>=t.expandoStartIndex}function Ys(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[De()+20],s=Gs(t,n);ea(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=Oe(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Zs(n=Xs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Xs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Fr(r))return t[Vr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Xs(null,t,e,n[1],r),n=Zs(n,e.attrs,r),function(t,e,n,r){t[Vr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Zs(r,t[o].hostAttrs,n);return Zs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Vr(s),u=Fr(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||gt(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Vr(t[a+1]);t[r+1]=Mr(e,a),0!==e&&(t[e+1]=Ur(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Mr(a,0),0!==a&&(t[a+1]=Ur(t[a+1],r)),a=r;else t[r+1]=Mr(u,0),0===a?a=r:t[u+1]=Ur(t[u+1],r),u=r;l&&(t[r+1]=Lr(t[r+1])),Ms(t,c,r,!0),Ms(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&gt(o,e)>=0&&(n[r+1]=Br(n[r+1]))}(e,c,t,r,o),s=Mr(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Xs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Zs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Zs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ft(t,s,!!n||e[++o]))}return void 0===t?null:t}function Js(t,e,n,r,i,o,s,a){if(3!==e.type)return;const u=t.data,c=u[a+1];ta(1==(1&c)?$s(u,e,n,i,Fr(c),s):void 0)||(ta(o)||2==(2&c)&&(o=$s(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Gt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,Zt(De(),n),i,o))}function $s(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===Ir&&(l=c?Ds:void 0);let h=c?pt(l,r):u===r?l:void 0;if(o&&!ta(h)&&(h=pt(e,r)),ta(h)&&(a=h,s))return a;const d=t[i+1];i=s?Vr(d):Fr(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=pt(t,r))}return a}function ta(t){return void 0!==t}function ea(t,e){return 0!=(t.flags&(e?16:32))}function na(t,e=""){const n=le(),r=he(),i=t+20,o=r.firstCreatePass?zr(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return Gt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);zi(r,n,s,o),pe(o,!1)}function ra(t){return ia("",t,""),ra}function ia(t,e,n){const r=le(),i=hs(r,t,e,n);return i!==Ir&&Ii(r,De(),i),ia}function oa(t,e,n,r,i){const o=le(),s=function(t,e,n,r,i,o){const s=cs(t,we(),n,i);return Ce(2),s?e+tn(n)+r+tn(i)+o:Ir}(o,t,e,n,r,i);return s!==Ir&&Ii(o,De(),s),oa}function sa(t,e,n,r,i,o,s){const a=le(),u=function(t,e,n,r,i,o,s,a){const u=function(t,e,n,r,i){const o=cs(t,e,n,r);return us(t,e+2,i)||o}(t,we(),n,i,s);return Ce(3),u?e+tn(n)+r+tn(i)+o+tn(s)+a:Ir}(a,t,e,n,r,i,o,s);return u!==Ir&&Ii(a,De(),u),sa}function aa(t,e,n){Ks(ft,zs,hs(le(),t,e,n),!0)}function ua(t,e,n){const r=le();return us(r,_e(),e)&&ri(he(),Ve(),r,t,e,r[11],n,!0),ua}function ca(t,e,n){const r=le();if(us(r,_e(),e)){const i=he(),o=Ve();ri(i,o,r,t,e,Si(Oe(i.data),o,r),n,!0)}return ca}function la(t,e){const n=ne(t)[1],r=n.data.length-1;Le(n,{directiveStart:r,directiveEnd:r+1})}function ha(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Lt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=da(t.inputs),e.declaredInputs=da(t.declaredInputs),e.outputs=da(t.outputs);const n=i.hostBindings;n&&ga(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&fa(t,o),s&&pa(t,s),m(t.inputs,i.inputs),m(t.declaredInputs,i.declaredInputs),m(t.outputs,i.outputs),Lt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===ha&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ge(i.hostAttrs,n=Ge(n,i.hostAttrs))}}(r)}function da(t){return t===yt?{}:t===vt?[]:t}function fa(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function pa(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ga(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}function ba(t,e,n,r,i){if(t=R(t),Array.isArray(t))for(let o=0;o<t.length;o++)ba(t[o],e,n,r,i);else{const o=he(),s=le();let a=To(t)?t:R(t.provide),u=Ao(t);const c=fe(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(To(t)||!t.multi){const r=new Qe(u,i,ps),f=va(a,e,i?l:l+d,h);-1===f?(fn(cn(c,s),o,a),ma(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=va(a,e,l+d,h),p=va(a,e,l,l+d),g=f>=0&&n[f],b=p>=0&&n[p];if(i&&!b||!i&&!g){fn(cn(c,s),o,a);const l=function(t,e,n,r,i){const o=new Qe(t,n,ps);return o.multi=[],o.index=e,o.componentProviders=0,ya(o,i,r&&!n),o}(i?_a:wa,n.length,i,r,u);!i&&b&&(n[p].providerFactory=l),ma(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else ma(o,t,f>-1?f:p,ya(n[i?p:f],u,!i&&r));!i&&r&&b&&n[p].componentProviders++}}}function ma(t,e,n,r){const i=To(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ya(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function va(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function wa(t,e,n,r){return Ca(this.multi,[])}function _a(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=yn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Ca(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ca(i,o);return o}function Ca(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function xa(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=he();if(r.firstCreatePass){const i=Lt(t);ba(n,r.data,r.blueprint,i,!0),ba(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Ea{}class Oa{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${k(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Sa=(()=>{class t{}return t.NULL=new Oa,t})(),Aa=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>ka(t),t})();const ka=function(t){return ro(t,fe(),le())};class Ia{}var Ta=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Pa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ra(),t})();const Ra=function(){const t=le(),e=ee(fe().index,t);return function(t){const e=t[11];if(Gt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(jt(e)?e:t)};let ja=(()=>{class t{}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>null}),t})();class Na{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Da=new Na("10.1.2");class Ma{constructor(){}supports(t){return os(t)}create(t){return new La(t)}}const Va=(t,e)=>e;class La{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Va}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<qa(n,r,i)?e:n,s=qa(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!os(t))throw new Error(`Error trying to diff '${k(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[rs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Fa(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ba),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ba),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Fa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ua{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ba{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ua,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ha{constructor(){}supports(t){return t instanceof Map||ss(t)}create(){return new Qa}}class Qa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ss(t)))throw new Error(`Error trying to diff '${k(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new za(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class za{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Wa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new d]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>new t([new Ma])}),t})(),Ka=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new d]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>new t([new Ha])}),t})();const Ga=[new Ha],Ya=new Wa([new Ma]),Xa=new Ka(Ga);let Za=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ja(t,Aa),t})();const Ja=function(t,e){return io(t,e,fe(),le())};let $a=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>tu(t,Aa),t})();const tu=function(t,e){return oo(t,e,fe(),le())},eu={};class nu extends Sa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Tt(t);return new ou(e,this.ngModule)}}function ru(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const iu=new W("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>nn});class ou extends Ea{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(kr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ru(this.componentDef.inputs)}get outputs(){return ru(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,eu,i);return o!==eu||r===eu?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ia,Yt),s=i.get(ja,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Gt(t))return t.selectRootElement(e,n===mt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Hr(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:nn,clean:Ei,playerHandler:null,flags:0},d=$r(0,-1,null,1,0,null,null,null,null,null),f=Qr(null,d,h,l,null,null,o,a,s,i);let p,g;Ie(f,null);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=zr(s,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(es(a,u,!0),null!==t&&(ze(i,t,u),null!==a.classes&&Zi(i,t,a.classes),null!==a.styles&&Xi(i,t,a.styles)));const c=r.createRenderer(t,e),l=Qr(n,Jr(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return s.firstCreatePass&&(fn(cn(a,n),s,e.type),ci(s,a),hi(a,n.length,1)),vi(n,l),n[20]=l}(c,this.componentDef,f,o,a);if(c)if(n)ze(a,c,["ng-version",Da.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!xr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&ze(a,c,t),e&&e.length>0&&Zi(a,c,e.join(" "))}if(g=$t(d,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=fe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ui(t,r,1),di(t,e,n));const i=yn(e,t,e.length-1,r);mr(i,e);const o=Jt(r,e);return o&&mr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=fe();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Me(a.index-20);const t=n[1];oi(t,e),si(t,n,e.hostVars),ai(e,s)}return s}(t,this.componentDef,f,h,[la]),Wr(d,f,null)}finally{Ne()}const b=new su(this.componentType,p,ro(Aa,g,f),f,g);return d.node.child=g,b}}class su extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new $i(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=ei(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new _n(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const au=void 0;var uu=["en",[["a","p"],["AM","PM"],au],[["AM","PM"],au,au],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],au,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],au,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",au,"{1} 'at' {0}",au],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let cu={};function lu(t,e,n){"string"!=typeof e&&(n=e,e=t[gu.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),cu[e]=t,n&&(cu[e][gu.ExtraData]=n)}function hu(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=pu(e);if(n)return n;const r=e.split("-")[0];if(n=pu(r),n)return n;if("en"===r)return uu;throw new Error(`Missing locale data for the locale "${t}".`)}function du(t){return hu(t)[gu.CurrencyCode]||null}function fu(t){return hu(t)[gu.PluralCase]}function pu(t){return t in cu||(cu[t]=L.ng&&L.ng.common&&L.ng.common.locales&&L.ng.common.locales[t]),cu[t]}var gu=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let bu="en-US";function mu(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(bu=t.toLowerCase().replace(/_/g,"-"))}const yu=new Map;class vu extends at{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new nu(this);const n=Rt(t),r=t[H]||null;r&&mu(r),this._bootstrapComponents=on(n.bootstrap),this._r3Injector=Eo(t,e,[{provide:at,useValue:this},{provide:Sa,useValue:this.componentFactoryResolver}],k(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ro.THROW_IF_NOT_FOUND,n=g.Default){return t===Ro||t===at||t===K?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class wu extends ut{constructor(t){super(),this.moduleType=t,null!==Rt(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${k(e)} vs ${k(e.name)}`)})(t,yu.get(t),e),yu.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new vu(this.moduleType,t)}}function _u(t,e,n){const r=ve()+t,i=le();return i[r]===Ir?as(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Cu(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return us(t,s,i)?as(t,s+1,o?r.call(o,i):r(i)):Eu(t,s+1)}(le(),ve(),t,e,n,r)}function xu(t,e,n,r,i){return Ou(le(),ve(),t,e,n,r,i)}function Eu(t,e){const n=t[e];return n===Ir?void 0:n}function Ou(t,e,n,r,i,o,s){const a=e+n;return cs(t,a,i,o)?as(t,a+2,s?r.call(s,i,o):r(i,o)):Eu(t,a+2)}function Su(t,e){const n=he();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Pt(r.type)),s=tt(ps),a=an(!1),u=o();return an(a),tt(s),function(t,e,n,r){const i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,le(),t,u),u}function Au(t,e,n,r){const i=le(),o=te(i,t);return function(t,e){return is.isWrapped(e)&&(e=is.unwrap(e),t[we()]=Ir),e}(i,function(t,e){return t[1].data[e+20].pure}(i,t)?Ou(i,ve(),e,o.transform,n,r,o):o.transform(n,r))}const ku=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Iu(){return this._results[rs()]()}class Tu{constructor(){this.dirty=!0,this._results=[],this.changes=new ku,this.length=0;const t=rs(),e=Tu.prototype;e[t]||(e[t]=Iu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Pu{constructor(t){this.queryList=t,this.matches=null}clone(){return new Pu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ru{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ru(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Yu(t,e).matches&&this.queries[e].setDirty()}}class ju{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Nu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Nu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Du{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Du(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Mu(e,i)),this.matchTNodeWithReadOption(t,e,mn(e,t,i,!1,!1))}else n===Za?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,mn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Aa||r===$a||r===Za&&0===e.type)this.addMatch(e.index,-2);else{const n=mn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Mu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Vu(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?ro(Aa,t,e):0===t.type?io(Za,Aa,t,e):null}(e,t):-2===n?function(t,e,n){return n===Aa?ro(Aa,e,t):n===Za?io(Za,Aa,e,t):n===$a?oo($a,Aa,e,t):void 0}(t,e,r):yn(t,t[1],n,e)}function Lu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Vu(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Fu(t){const e=le(),n=he(),r=Se();Ae(r+1);const i=Yu(n,r);if(t.dirty&&re(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=Lu(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):Lu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Uu(t,e,n){qu(he(),le(),t,e,n,!0)}function Bu(t,e,n){qu(he(),le(),t,e,n,!1)}function qu(t,e,n,r,i,o){t.firstCreatePass&&(Gu(t,new ju(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),Ku(t,e)}function Hu(t,e,n,r){zu(he(),le(),e,n,r,!1,fe(),t)}function Qu(t,e,n,r){zu(he(),le(),e,n,r,!0,fe(),t)}function zu(t,e,n,r,i,o,s,a){t.firstCreatePass&&(Gu(t,new ju(n,r,o,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),o&&(t.staticContentQueries=!0)),Ku(t,e)}function Wu(){return t=le(),e=Se(),t[19].queries[e].queryList;var t,e}function Ku(t,e){const n=new Tu;ti(t,e,n,n.destroy),null===e[19]&&(e[19]=new Ru),e[19].queries.push(new Pu(n))}function Gu(t,e,n){null===t.queries&&(t.queries=new Nu),t.queries.track(new Du(e,n))}function Yu(t,e){return t.queries.getByIndex(e)}const Xu=new W("Application Initializer");let Zu=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Cs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(nt(Xu,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const Ju=new W("AppId"),$u={provide:Ju,useFactory:function(){return`${tc()}${tc()}${tc()}`},deps:[]};function tc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ec=new W("Platform Initializer"),nc=new W("Platform ID"),rc=new W("appBootstrapListener");let ic=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const oc=new W("LocaleId"),sc=new W("DefaultCurrencyCode");class ac{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const uc=function(t){return new wu(t)},cc=uc,lc=function(t){return Promise.resolve(uc(t))},hc=function(t){const e=uc(t),n=on(Rt(t).declarations).reduce((t,e)=>{const n=Tt(e);return n&&t.push(new ou(n)),t},[]);return new ac(e,n)},dc=hc,fc=function(t){return Promise.resolve(hc(t))};let pc=(()=>{class t{constructor(){this.compileModuleSync=cc,this.compileModuleAsync=lc,this.compileModuleAndAllComponentsSync=dc,this.compileModuleAndAllComponentsAsync=fc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const gc=(()=>Promise.resolve(0))();function bc(t){"undefined"==typeof Zone?gc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class mc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ku(!1),this.onMicrotaskEmpty=new ku(!1),this.onStable=new ku(!1),this.onError=new ku(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=L.requestAnimationFrame,e=L.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(L,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,_c(t),wc(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),_c(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return Cc(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),xc(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Cc(t),e.invoke(r,i,o,s,a)}finally{xc(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,_c(t),wc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(mc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,vc,yc,yc);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function yc(){}const vc={};function wc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function _c(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Cc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xc(t){t._nesting--,wc(t)}class Ec{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ku,this.onMicrotaskEmpty=new ku,this.onStable=new ku,this.onError=new ku}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Oc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mc.assertNotInAngularZone(),bc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(nt(mc))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),Sc=(()=>{class t{constructor(){this._applications=new Map,Tc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Tc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();class Ac{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function kc(t){Tc=t}let Ic,Tc=new Ac;const Pc=new W("AllowMultipleToken");class Rc{constructor(t,e){this.name=t,this.token=e}}function jc(t,e,n=[]){const r="Platform: "+e,i=new W(r);return(e=[])=>{let o=Nc();if(!o||o.injector.get(Pc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:yo,useValue:"platform"});!function(t){if(Ic&&!Ic.destroyed&&!Ic.injector.get(Pc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ic=t.get(Dc);const e=t.get(ec,null);e&&e.forEach(t=>t())}(Ro.create({providers:t,name:r}))}return function(t){const e=Nc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Nc(){return Ic&&!Ic.destroyed?Ic:null}let Dc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Ec:("zone.js"===t?void 0:t)||new mc({enableLongStackTrace:Qn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:mc,useValue:n}];return n.run(()=>{const e=Ro.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(An,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Lc(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Cs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Zu);return t.runInitializers(),t.donePromise.then(()=>(mu(i.injector.get(oc,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Mc({},e);return function(t,e,n){const r=new wu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Vc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${k(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(nt(Ro))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function Mc(t,e){return Array.isArray(e)?e.reduce(Mc,t):Object.assign(Object.assign({},t),e)}let Vc=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Qn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{mc.assertNotInAngularZone(),bc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{mc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ea?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(at),i=n.create(Ro.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Oc,null);return o&&i.injector.get(Sc).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Qn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Lc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(rc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Lc(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(nt(mc),nt(ic),nt(Ro),nt(An),nt(Sa),nt(Zu))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function Lc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Fc{}class Uc{}const Bc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let qc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Bc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Hc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Hc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(nt(pc),nt(Uc,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function Hc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Qc=function(t){return null},zc=jc(null,"core",[{provide:nc,useValue:"unknown"},{provide:Dc,deps:[Ro]},{provide:Sc,deps:[]},{provide:ic,deps:[]}]),Wc=[{provide:Vc,useClass:Vc,deps:[mc,ic,Ro,An,Sa,Zu]},{provide:iu,deps:[mc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Zu,useClass:Zu,deps:[[new d,Xu]]},{provide:pc,useClass:pc,deps:[]},$u,{provide:Wa,useFactory:function(){return Ya},deps:[]},{provide:Ka,useFactory:function(){return Xa},deps:[]},{provide:oc,useFactory:function(t){return mu(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new h(oc),new d,new p]]},{provide:sc,useValue:"USD"}];let Kc=(()=>{class t{constructor(t){}}return t.\u0275mod=Ot({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)(nt(Vc))},providers:Wc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("z6cu");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return C})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return x})),n.d(e,"g",(function(){return o})),n.d(e,"h",(function(){return s})),n.d(e,"i",(function(){return S})),n.d(e,"j",(function(){return c})),n.d(e,"k",(function(){return d})),n.d(e,"l",(function(){return f})),n.d(e,"m",(function(){return g})),n.d(e,"n",(function(){return b})),n.d(e,"o",(function(){return l})),n.d(e,"p",(function(){return h})),n.d(e,"q",(function(){return p})),n.d(e,"r",(function(){return m}));var r=n("30Go"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function d(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function b(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return c().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,v.prototype.create),o}return Object(r.c)(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?w(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new y(i,a,r);return u},t}();function w(t,e){return t.replace(_,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var _=/\{\$([^}]+)}/g;function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function x(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function O(){}function S(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return S})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return _})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return b})),n.d(e,"j",(function(){return C}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],b=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),m=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new u.q("angularfire2.app.options"),v=new u.q("angularfire2.app.nameOrConfig"),w=new u.Q("6.1.5");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&x("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const C=()=>{x("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},x=(t,...e)=>{Object(u.X)()&&"undefined"!=typeof console&&console[t](...e)};function E(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&x("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:_,deps:[y,u.z,[new u.A,v]]};let S=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.P.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=u.Lb({type:t}),t.\u0275inj=u.Kb({factory:function(e){return new(e||t)(u.Ub(u.B))},providers:[O]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("7Hc7"),o=n("Y7HM");class s extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(o.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new s(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(s.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new s(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),s=n("quSY");function a(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends o.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function f(){return new r.a}function p(){return t=>{return a()((e=f,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),p=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.g)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}o(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.6.5",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return f.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.h)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(p);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.h)(e,t)},createSubscribe:s.f,ErrorFactory:s.b,deepExtend:s.h}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.k)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.p)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var v=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new b(t)}),"PRIVATE")),t.registerVersion(h,"0.6.24",void 0),t.registerVersion("fire-js","")}(v),e.a=v},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyCDu51BJHG8Vp2CE0qW54V0jnO8dCvKR8o",authDomain:"vikings-cardapio.firebaseapp.com",projectId:"vikings-cardapio",storageBucket:"vikings-cardapio.appspot.com",messagingSenderId:"857823636347",appId:"1:857823636347:web:1da3960e5053ba37d46bde"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Ub)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=Object(r.Jb)({factory:f,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function f(){return new h(Object(r.Ub)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function b(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Ub)(a).location;return new w(Object(r.Ub)(u),e&&e.origin||"")}const v=new r.q("appBaseHref");let w=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+b(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(u),r.Ub(v,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(u),r.Ub(v,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+b(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(m),r.Ub(u))},t.normalizeQueryParams=b,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Jb)({factory:x,token:t,providedIn:"root"}),t})();function x(){return new C(Object(r.Ub)(m),Object(r.Ub)(u))}function E(t){return t.replace(/\/index.html$/,"")}var O=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),S=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),A=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),k=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),I=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function T(t,e){return M(Object(r.lb)(t)[r.cb.DateFormat],e)}function P(t,e){return M(Object(r.lb)(t)[r.cb.TimeFormat],e)}function R(t,e){return M(Object(r.lb)(t)[r.cb.DateTimeFormat],e)}function j(t,e){const n=Object(r.lb)(t),i=n[r.cb.NumberSymbols][e];if(void 0===i){if(e===I.CurrencyDecimal)return n[r.cb.NumberSymbols][I.Decimal];if(e===I.CurrencyGroup)return n[r.cb.NumberSymbols][I.Group]}return i}const N=r.ob;function D(t){if(!t[r.cb.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.cb.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function M(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function V(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const L=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,F={},U=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var B=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),q=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),H=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function Q(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function z(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function W(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case q.FullYear:return e.getFullYear();case q.Month:return e.getMonth();case q.Date:return e.getDate();case q.Hours:return e.getHours();case q.Minutes:return e.getMinutes();case q.Seconds:return e.getSeconds();case q.FractionalSeconds:return e.getMilliseconds();case q.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===q.Hours)0===a&&-12===n&&(a=12);else if(t===q.FractionalSeconds)return u=e,z(a,3).substr(0,u);var u;const c=j(s,I.MinusSign);return z(a,e,c,r,i)}}function K(t,e,n=S.Format,i=!1){return function(o,s){return function(t,e,n,i,o,s){switch(n){case H.Months:return function(t,e,n){const i=Object(r.lb)(t),o=M([i[r.cb.MonthsFormat],i[r.cb.MonthsStandalone]],e);return M(o,n)}(e,o,i)[t.getMonth()];case H.Days:return function(t,e,n){const i=Object(r.lb)(t),o=M([i[r.cb.DaysFormat],i[r.cb.DaysStandalone]],e);return M(o,n)}(e,o,i)[t.getDay()];case H.DayPeriods:const a=t.getHours(),u=t.getMinutes();if(s){const t=function(t){const e=Object(r.lb)(t);return D(e),(e[r.cb.ExtraData][2]||[]).map(t=>"string"==typeof t?V(t):[V(t[0]),V(t[1])])}(e),n=function(t,e,n){const i=Object(r.lb)(t);D(i);const o=M([i[r.cb.ExtraData][0],i[r.cb.ExtraData][1]],e)||[];return M(o,n)||[]}(e,o,i),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&u>=e.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===u)return!0;return!1});if(-1!==s)return n[s]}return function(t,e,n){const i=Object(r.lb)(t),o=M([i[r.cb.DayPeriodsFormat],i[r.cb.DayPeriodsStandalone]],e);return M(o,n)}(e,o,i)[a<12?0:1];case H.Eras:return function(t,e){return M(Object(r.lb)(t)[r.cb.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(o,s,t,e,n,i)}}function G(t){return function(e,n,r){const i=-1*r,o=j(n,I.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case B.Short:return(i>=0?"+":"")+z(s,2,o)+z(Math.abs(i%60),2,o);case B.ShortGMT:return"GMT"+(i>=0?"+":"")+z(s,1,o);case B.Long:return"GMT"+(i>=0?"+":"")+z(s,2,o)+":"+z(Math.abs(i%60),2,o);case B.Extended:return 0===r?"Z":(i>=0?"+":"")+z(s,2,o)+":"+z(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function Y(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(4-o.getDay()))),e=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}var o;return z(i,t,j(r,I.MinusSign))}}const X={};function Z(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function J(t){return t instanceof Date&&!isNaN(t.valueOf())}class ${}let tt=(()=>{class t extends ${constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(N(e||this.locale)(t)){case O.Zero:return"zero";case O.One:return"one";case O.Two:return"two";case O.Few:return"few";case O.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.u))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),et=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.wb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.s),r.Nb(r.t),r.Nb(r.l),r.Nb(r.F))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class nt{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rt=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.X)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new nt(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new it(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new it(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.R),r.Nb(r.M),r.Nb(r.s))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class it{constructor(t,e){this.record=t,this.view=e}}let ot=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new st,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){at("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){at("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.R),r.Nb(r.M))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class st{constructor(){this.$implicit=null,this.ngIf=null}}function at(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.wb)(e)}'.`)}let ut=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,o){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,i){let o=function(t){if(J(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(L))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}(n)}const e=new Date(t);if(!J(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const i=function(t){return Object(r.lb)(t)[r.cb.LocaleId]}(e);if(F[i]=F[i]||{},F[i][n])return F[i][n];let o="";switch(n){case"shortDate":o=T(e,k.Short);break;case"mediumDate":o=T(e,k.Medium);break;case"longDate":o=T(e,k.Long);break;case"fullDate":o=T(e,k.Full);break;case"shortTime":o=P(e,k.Short);break;case"mediumTime":o=P(e,k.Medium);break;case"longTime":o=P(e,k.Long);break;case"fullTime":o=P(e,k.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");o=Q(R(e,k.Short),[n,r]);break;case"medium":const i=t(e,"mediumTime"),s=t(e,"mediumDate");o=Q(R(e,k.Medium),[i,s]);break;case"long":const a=t(e,"longTime"),u=t(e,"longDate");o=Q(R(e,k.Long),[a,u]);break;case"full":const c=t(e,"fullTime"),l=t(e,"fullDate");o=Q(R(e,k.Full),[c,l])}return o&&(F[i][n]=o),o}(n,e)||e;let s,a=[];for(;e;){if(s=U.exec(e),!s){a.push(e);break}{a=a.concat(s.slice(1));const t=a.pop();if(!t)break;e=t}}let u=o.getTimezoneOffset();i&&(u=Z(i,u),o=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Z(e,r)-r))}(o,i));let c="";return a.forEach(t=>{const e=function(t){if(X[t])return X[t];let e;switch(t){case"G":case"GG":case"GGG":e=K(H.Eras,A.Abbreviated);break;case"GGGG":e=K(H.Eras,A.Wide);break;case"GGGGG":e=K(H.Eras,A.Narrow);break;case"y":e=W(q.FullYear,1,0,!1,!0);break;case"yy":e=W(q.FullYear,2,0,!0,!0);break;case"yyy":e=W(q.FullYear,3,0,!1,!0);break;case"yyyy":e=W(q.FullYear,4,0,!1,!0);break;case"M":case"L":e=W(q.Month,1,1);break;case"MM":case"LL":e=W(q.Month,2,1);break;case"MMM":e=K(H.Months,A.Abbreviated);break;case"MMMM":e=K(H.Months,A.Wide);break;case"MMMMM":e=K(H.Months,A.Narrow);break;case"LLL":e=K(H.Months,A.Abbreviated,S.Standalone);break;case"LLLL":e=K(H.Months,A.Wide,S.Standalone);break;case"LLLLL":e=K(H.Months,A.Narrow,S.Standalone);break;case"w":e=Y(1);break;case"ww":e=Y(2);break;case"W":e=Y(1,!0);break;case"d":e=W(q.Date,1);break;case"dd":e=W(q.Date,2);break;case"E":case"EE":case"EEE":e=K(H.Days,A.Abbreviated);break;case"EEEE":e=K(H.Days,A.Wide);break;case"EEEEE":e=K(H.Days,A.Narrow);break;case"EEEEEE":e=K(H.Days,A.Short);break;case"a":case"aa":case"aaa":e=K(H.DayPeriods,A.Abbreviated);break;case"aaaa":e=K(H.DayPeriods,A.Wide);break;case"aaaaa":e=K(H.DayPeriods,A.Narrow);break;case"b":case"bb":case"bbb":e=K(H.DayPeriods,A.Abbreviated,S.Standalone,!0);break;case"bbbb":e=K(H.DayPeriods,A.Wide,S.Standalone,!0);break;case"bbbbb":e=K(H.DayPeriods,A.Narrow,S.Standalone,!0);break;case"B":case"BB":case"BBB":e=K(H.DayPeriods,A.Abbreviated,S.Format,!0);break;case"BBBB":e=K(H.DayPeriods,A.Wide,S.Format,!0);break;case"BBBBB":e=K(H.DayPeriods,A.Narrow,S.Format,!0);break;case"h":e=W(q.Hours,1,-12);break;case"hh":e=W(q.Hours,2,-12);break;case"H":e=W(q.Hours,1);break;case"HH":e=W(q.Hours,2);break;case"m":e=W(q.Minutes,1);break;case"mm":e=W(q.Minutes,2);break;case"s":e=W(q.Seconds,1);break;case"ss":e=W(q.Seconds,2);break;case"S":e=W(q.FractionalSeconds,1);break;case"SS":e=W(q.FractionalSeconds,2);break;case"SSS":e=W(q.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=G(B.Short);break;case"ZZZZZ":e=G(B.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=G(B.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=G(B.Long);break;default:return null}return X[t]=e,e}(t);c+=e?e(o,n,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}(e,n,o||this.locale,i)}catch(s){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.wb)(t)}'`)}(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.u))},t.\u0275pipe=r.Mb({name:"date",type:t,pure:!0}),t})(),ct=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[{provide:$,useClass:tt}]}),t})();function lt(t){return"server"===t}let ht=(()=>{class t{}return t.\u0275prov=Object(r.Jb)({token:t,providedIn:"root",factory:()=>new dt(Object(r.Ub)(a),window,Object(r.Ub)(r.m))}),t})();class dt{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=ft(this.window.history)||ft(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function ft(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class pt extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new pt,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=bt||(bt=document.querySelector("base"),bt)?bt.getAttribute("href"):null;return null==e?null:(n=e,gt||(gt=document.createElement("a")),gt.setAttribute("href",n),"/"===gt.pathname.charAt(0)?gt.pathname:"/"+gt.pathname);var n}resetBaseElement(){bt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let gt,bt=null;const mt=new r.q("TRANSITION_ID"),yt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[mt,a,r.r],multi:!0}];class vt{static init(){Object(r.Z)(new vt)}addToWindow(t){r.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.qb.getAllAngularRootElements=()=>t.getAllRootElements(),r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(t=>{const e=r.qb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const wt=new r.q("EventManagerPlugins");let _t=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(wt),r.Ub(r.z))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class Ct{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let xt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),Et=(()=>{class t extends xt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const Ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},St=/%COMP%/g;function At(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?At(t,i,n):(i=i.replace(St,t),n.push(i))}return n}function kt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let It=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Tt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.S.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Pt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.S.Native:case r.S.ShadowDom:return new Rt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=At(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(_t),r.Ub(Et),r.Ub(r.c))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class Tt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Ot[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Ot[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Ot[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.H.DashCase?t.style.setProperty(e,n,i&r.H.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.H.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,kt(n)):this.eventManager.addEventListener(t,e,kt(n))}}class Pt extends Tt{constructor(t,e,n,r){super(t),this.component=n;const i=At(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(St,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(St,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Rt extends Tt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.S.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=At(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let jt=(()=>{class t extends Ct{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const Nt=["alt","control","meta","shift"],Dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Vt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Lt=(()=>{class t extends Ct{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Nt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Mt.hasOwnProperty(e)&&(e=Mt[e]))}return Dt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Nt.forEach(r=>{r!=n&&(0,Vt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const Ft=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){pt.makeCurrent(),vt.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.vb)(document),document},deps:[]}],Ut=Object(r.T)(r.Y,"browser",Ft),Bt=[[],{provide:r.bb,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:wt,useClass:jt,multi:!0,deps:[a,r.z,r.B]},{provide:wt,useClass:Lt,multi:!0,deps:[a]},[],{provide:It,useClass:It,deps:[_t,Et,r.c]},{provide:r.G,useExisting:It},{provide:xt,useExisting:Et},{provide:Et,useClass:Et,deps:[a]},{provide:r.N,useClass:r.N,deps:[r.z]},{provide:_t,useClass:_t,deps:[wt,r.z]},[]];let qt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:mt,useExisting:r.c},yt]}}}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)(r.Ub(t,12))},providers:Bt,imports:[ct,r.f]}),t})();"undefined"!=typeof window&&window;var Ht=n("LRne"),Qt=n("Cfvw"),zt=n("XNiG"),Wt=n("9ppp");class Kt extends zt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Wt.a;return this._value}next(t){super.next(this._value=t)}}var Gt=n("z+Ro"),Yt=n("DH7j"),Xt=n("7o/Q");class Zt extends Xt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Jt extends Xt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var $t=n("SeVD"),te=n("HDdC");function ee(t,e,n,r,i=new Jt(t,n,r)){if(!i.closed)return e instanceof te.a?e.subscribe(i):Object($t.a)(e)(i)}var ne=n("yCtX");const re={};class ie{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new oe(t,this.resultSelector))}}class oe extends Zt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(re),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(ee(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===re?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const se=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var ae=n("EY2u");function ue(t){return new te.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Qt.a)(n):Object(ae.b)()).subscribe(e)})}var ce=n("lJxs"),le=n("bHdf");function he(){return Object(le.a)(1)}function de(t,e){return function(n){return n.lift(new fe(t,e))}}class fe{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new pe(t,this.predicate,this.thisArg))}}class pe extends Xt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const ge=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function be(t){return function(e){return 0===t?Object(ae.b)():e.lift(new me(t))}}class me{constructor(t){if(this.total=t,this.total<0)throw new ge}call(t,e){return e.subscribe(new ye(t,this.total))}}class ye extends Xt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ve(t=Ce){return e=>e.lift(new we(t))}class we{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new _e(t,this.errorFactory))}}class _e extends Xt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Tw){t=Tw}this.destination.error(t)}}}function Ce(){return new se}function xe(t=null){return e=>e.lift(new Ee(t))}class Ee{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Oe(t,this.defaultValue))}}class Oe extends Xt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Se=n("SpAZ"),Ae=n("zx2A");function ke(t,e){return"function"==typeof e?n=>n.pipe(ke((n,r)=>Object(Qt.a)(t(n,r)).pipe(Object(ce.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Ie(t))}class Ie{constructor(t){this.project=t}call(t,e){return e.subscribe(new Te(t,this.project))}}class Te extends Ae.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Ae.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Ae.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function Pe(t){return e=>0===t?Object(ae.b)():e.lift(new Re(t))}class Re{constructor(t){if(this.total=t,this.total<0)throw new ge}call(t,e){return e.subscribe(new je(t,this.total))}}class je extends Xt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Ne(...t){return he()(Object(Ht.a)(...t))}function De(...t){const e=t[t.length-1];return Object(Gt.a)(e)?(t.pop(),n=>Ne(t,n,e)):e=>Ne(t,e)}function Me(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ve(t,e,n))}}class Ve{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Le(t,this.accumulator,this.seed,this.hasSeed))}}class Le extends Xt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Fe(t){return function(e){const n=new Ue(t),r=e.lift(n);return n.caught=r}}class Ue{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Be(t,this.selector,this.caught))}}class Be extends Ae.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Ae.a(this);this.add(r);const i=Object(Ae.c)(n,r);i!==r&&this.add(i)}}}var qe=n("5+tZ");function He(t,e){return Object(qe.a)(t,e,1)}function Qe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?de((e,n)=>t(e,n,r)):Se.a,Pe(1),n?xe(e):ve(()=>new se))}var ze=n("vkgz"),We=n("quSY");function Ke(t){return e=>e.lift(new Ge(t))}class Ge{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ye(t,this.callback))}}class Ye extends Xt.a{constructor(t,e){super(t),this.add(new We.a(e))}}class Xe{constructor(t,e){this.id=t,this.url=e}}class Ze extends Xe{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Je extends Xe{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $e extends Xe{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tn extends Xe{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class en extends Xe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nn extends Xe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rn extends Xe{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class on extends Xe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sn extends Xe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class an{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class un{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cn{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ln{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hn{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dn{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fn{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class pn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function gn(t){return new pn(t)}function bn(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function mn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function yn(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!vn(t[i],e[i]))return!1;return!0}function vn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function wn(t){return Array.prototype.concat.apply([],t)}function _n(t){return t.length>0?t[t.length-1]:null}function Cn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function xn(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(Qt.a)(Promise.resolve(t)):Object(Ht.a)(t)}function En(t,e,n){return n?function(t,e){return yn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!kn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>vn(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!kn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!kn(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!kn(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class On{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gn(this.queryParams)),this._queryParamMap}toString(){return Rn.serialize(this)}}class Sn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Cn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jn(this)}}class An{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=gn(this.parameters)),this._parameterMap}toString(){return Fn(this)}}function kn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function In(t,e){let n=[];return Cn(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Cn(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class Tn{}class Pn{parse(t){const e=new Qn(t);return new On(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return jn(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Cn(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=In(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${jn(e)}/${n[0]}`:`${jn(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Dn(e)}=${Dn(t)}`).join("&"):`${Dn(e)}=${Dn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Rn=new Pn;function jn(t){return t.segments.map(t=>Fn(t)).join("/")}function Nn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dn(t){return Nn(t).replace(/%3B/gi,";")}function Mn(t){return Nn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vn(t){return decodeURIComponent(t)}function Ln(t){return Vn(t.replace(/\+/g,"%20"))}function Fn(t){return`${Mn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Mn(t)}=${Mn(e[t])}`).join("")}`;var e}const Un=/^[^\/()?;=#]+/;function Bn(t){const e=t.match(Un);return e?e[0]:""}const qn=/^[^=?&#]+/,Hn=/^[^?&#]+/;class Qn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Sn([],{}):new Sn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Sn(t,e)),n}parseSegment(){const t=Bn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new An(Vn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Bn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Bn(this.remaining);t&&(n=t,this.capture(n))}t[Vn(e)]=Vn(n)}parseQueryParam(t){const e=function(t){const e=t.match(qn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Hn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Ln(e),i=Ln(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Bn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Sn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class zn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Wn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Wn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Kn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Kn(t,this._root).map(t=>t.value)}}function Wn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Wn(t,n);if(e)return e}return null}function Kn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Kn(t,n);if(r.length)return r.unshift(e),r}return[]}class Gn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Yn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Xn extends zn{constructor(t,e){super(t),this.snapshot=e,nr(this,t)}toString(){return this.snapshot.toString()}}function Zn(t,e){const n=function(t,e){const n=new tr([],{},{},"",{},"primary",e,null,t.root,-1,{});return new er("",new Gn(n,[]))}(t,e),r=new Kt([new An("",{})]),i=new Kt({}),o=new Kt({}),s=new Kt({}),a=new Kt(""),u=new Jn(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new Xn(new Gn(u,[]),n)}class Jn{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ce.a)(t=>gn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ce.a)(t=>gn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $n(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class tr{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class er extends zn{constructor(t,e){super(e),this.url=t,nr(this,e)}toString(){return rr(this._root)}}function nr(t,e){e.value._routerState=t,e.children.forEach(e=>nr(t,e))}function rr(t){const e=t.children.length>0?` { ${t.children.map(rr).join(", ")} } `:"";return`${t.value}${e}`}function ir(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),yn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!yn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),yn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function or(t,e){return yn(t.params,e.params)&&function(t,e){return kn(t,e)&&t.every((t,n)=>yn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||or(t.parent,e.parent))}function sr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ar(t,e,n,r,i){let o={};return r&&Cn(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new On(n.root===t?e:function t(e,n,r){const i={};return Cn(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new Sn(e.segments,i)}(n.root,t,e),o,i)}class ur{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&sr(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==_n(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cr{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function lr(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function hr(t,e,n){if(t||(t=new Sn([],{})),0===t.segments.length&&t.hasChildren())return dr(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=lr(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!br(s,a,e))return o;r+=2}else{if(!br(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Sn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Sn(t.segments.slice(r.pathIndex),t.children),dr(e,0,i)}return r.match&&0===i.length?new Sn(t.segments,{}):r.match&&!t.hasChildren()?fr(t,e,n):r.match?dr(t,0,i):fr(t,e,n)}function dr(t,e,n){if(0===n.length)return new Sn(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{primary:t}}(n),i={};return Cn(r,(n,r)=>{null!==n&&(i[r]=hr(t.children[r],e,n))}),Cn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Sn(t.segments,i)}}function fr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=pr(n[i].outlets);return new Sn(r,t)}if(0===i&&sr(n[0])){r.push(new An(t.segments[e].path,n[0])),i++;continue}const o=lr(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&sr(s)?(r.push(new An(o,gr(s))),i+=2):(r.push(new An(o,{})),i++)}return new Sn(r,{})}function pr(t){const e={};return Cn(t,(t,n)=>{null!==t&&(e[n]=fr(new Sn([],{}),0,t))}),e}function gr(t){const e={};return Cn(t,(t,n)=>e[n]=""+t),e}function br(t,e,n){return t==n.path&&yn(e,n.parameters)}class mr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ir(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Yn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Cn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Yn(t),i=t.value.component?n.children:e;Cn(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Yn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new dn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ln(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,o=e?e.value:null;if(ir(i),i===o)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),yr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),o=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=o,e.outlet?e.outlet.activateWith(i,o):Object(r.X)()&&console&&console.warn&&console.warn(`A router outlet has not been instantiated during routes activation. URL Segment: '${i.snapshot._urlSegment}'`),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function yr(t){ir(t.value),t.children.forEach(yr)}class vr{constructor(t,e){this.routes=t,this.module=e}}function wr(t){return"function"==typeof t}function _r(t){return t instanceof On}const Cr=Symbol("INITIAL_VALUE");function xr(){return ke(t=>function(...t){let e=void 0,n=void 0;return Object(Gt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Yt.a)(t[0])&&(t=t[0]),Object(ne.a)(t,n).lift(new ie(e))}(...t.map(t=>t.pipe(Pe(1),De(Cr)))).pipe(Me((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Cr)return t;if(r===Cr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||_r(r))return r}return t},t)},Cr),de(t=>t!==Cr),Object(ce.a)(t=>_r(t)?t:!0===t),Pe(1)))}class Er{constructor(t){this.segmentGroup=t||null}}class Or{constructor(t){this.urlTree=t}}function Sr(t){return new te.a(e=>e.error(new Er(t)))}function Ar(t){return new te.a(e=>e.error(new Or(t)))}function kr(t){return new te.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ir{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(ce.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fe(t=>{if(t instanceof Or)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Er)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(ce.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Fe(t=>{if(t instanceof Er)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Sn([],{primary:t}):t;return new On(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(ce.a)(t=>new Sn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Ht.a)({});const n=[],r=[],i={};return Cn(t,(t,o)=>{const s=e(o,t).pipe(Object(ce.a)(t=>i[o]=t));"primary"===o?n.push(s):r.push(s)}),Ht.a.apply(null,n.concat(r)).pipe(he(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?de((e,n)=>t(e,n,r)):Se.a,be(1),n?xe(e):ve(()=>new se))}(),Object(ce.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(Ht.a)(...n).pipe(He(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Fe(t=>{if(t instanceof Er)return Object(Ht.a)(null);throw t}))),Qe(t=>!!t),Fe((t,n)=>{if(t instanceof se||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Ht.a)(new Sn([],{}));throw new Er(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return jr(r)!==o?Sr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Sr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ar(i):this.lineralizeSegments(n,i).pipe(Object(qe.a)(n=>{const i=new Sn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Tr(e,r,i);if(!s)return Sr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Ar(l):this.lineralizeSegments(r,l).pipe(Object(qe.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(ce.a)(t=>(n._loadedConfig=t,new Sn(r,{})))):Object(Ht.a)(new Sn(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Tr(e,n,r);if(!i)return Sr(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(qe.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Rr(t,e,n)&&"primary"!==jr(n))}(t,n,r)?{segmentGroup:Pr(new Sn(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==jr(r)&&(n[jr(r)]=new Sn([],{}));return n}(r,new Sn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Rr(t,e,n))}(t,n,r)?{segmentGroup:Pr(new Sn(t.segments,function(t,e,n,r){const i={};for(const o of n)Rr(t,e,o)&&!r[jr(o)]&&(i[jr(o)]=new Sn([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(ce.a)(t=>new Sn(o,t))):0===r.length&&0===s.length?Object(Ht.a)(new Sn(o,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(Object(ce.a)(t=>new Sn(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ht.a)(new vr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ht.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(qe.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(ce.a)(t=>(e._loadedConfig=t,t))):function(t){return new te.a(e=>e.error(bn(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ht.a)(new vr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Ht.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&wr(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!wr(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return xn(o)});return Object(Ht.a)(i).pipe(xr(),Object(ze.a)(t=>{if(!_r(t))return;const e=bn(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(ce.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ht.a)(n);if(r.numberOfChildren>1||!r.children.primary)return kr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new On(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Cn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Cn(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Sn(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Tr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||mn)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Pr(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Sn(t.segments.concat(e.segments),e.children)}return t}function Rr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function jr(t){return t.outlet||"primary"}class Nr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Dr{constructor(t,e){this.component=t,this.route=e}}function Mr(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Yn(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!kn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!kn(t.url,e.url)||!yn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!or(t,e)||!yn(t.queryParams,e.queryParams);case"paramsChange":default:return!or(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Nr(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Dr(u&&u.outlet&&u.outlet.component||null,a))}else a&&Lr(n,u,o),o.canActivateChecks.push(new Nr(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Cn(s,(t,e)=>Lr(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function Vr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Lr(t,e,n){const r=Yn(t),i=t.value;Cn(r,(t,r)=>{Lr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Dr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Fr(t,e){return null!==t&&e&&e(new hn(t)),Object(Ht.a)(!0)}function Ur(t,e){return null!==t&&e&&e(new cn(t)),Object(Ht.a)(!0)}function Br(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ht.a)(!0);const i=r.map(r=>ue(()=>{const i=Vr(r,e,n);let o;if(function(t){return t&&wr(t.canActivate)}(i))o=xn(i.canActivate(e,t));else{if(!wr(i))throw new Error("Invalid CanActivate guard");o=xn(i(e,t))}return o.pipe(Qe())}));return Object(Ht.a)(i).pipe(xr())}function qr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>ue(()=>{const i=e.guards.map(i=>{const o=Vr(i,e.node,n);let s;if(function(t){return t&&wr(t.canActivateChild)}(o))s=xn(o.canActivateChild(r,t));else{if(!wr(o))throw new Error("Invalid CanActivateChild guard");s=xn(o(r,t))}return s.pipe(Qe())});return Object(Ht.a)(i).pipe(xr())}));return Object(Ht.a)(i).pipe(xr())}class Hr{}class Qr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Kr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new tr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Gn(n,e),i=new er(this.url,r);return this.inheritParamsAndData(i._root),Object(Ht.a)(i)}catch(Tw){return new te.a(e=>e.error(Tw))}}inheritParamsAndData(t){const e=t.value,n=$n(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=In(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(Tw){if(!(Tw instanceof Hr))throw Tw}if(this.noLeftoversInUrl(e,n,r))return[];throw new Hr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Hr;if((t.outlet||"primary")!==r)throw new Hr;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?_n(n).parameters:{};i=new tr(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xr(t),r,t.component,t,zr(e),Wr(e)+n.length,Zr(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Hr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||mn)(n,t,e);if(!r)throw new Hr;const i={};Cn(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new tr(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xr(t),r,t.component,t,zr(e),Wr(e)+o.length,Zr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Kr(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Gn(i,t)]}if(0===a.length&&0===c.length)return[new Gn(i,[])];const l=this.processSegment(a,u,c,"primary");return[new Gn(i,l)]}}function zr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Wr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Kr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Gr(t,e,n)&&"primary"!==Yr(n))}(t,n,r)){const i=new Sn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==Yr(o)){const n=new Sn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Yr(o)]=n}return i}(t,e,r,new Sn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Gr(t,e,n))}(t,n,r)){const o=new Sn(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Gr(t,n,a)&&!i[Yr(a)]){const n=new Sn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Yr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Sn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Gr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Yr(t){return t.outlet||"primary"}function Xr(t){return t.data||{}}function Zr(t){return t.resolve||{}}function Jr(t){return function(e){return e.pipe(ke(e=>{const n=t(e);return n?Object(Qt.a)(n).pipe(Object(ce.a)(()=>e)):Object(Qt.a)([e])}))}}class $r extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let ti=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Ob(0,"router-outlet")},directives:function(){return[yi]},encapsulation:2}),t})();function ei(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];ni(r,ri(e,r))}}function ni(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&ei(t.children,e)}function ri(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ii(t){const e=t.children&&t.children.map(ii),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=ti),n}const oi=new r.q("ROUTES");class si{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(ce.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new vr(wn(r.injector.get(oi)).map(ii),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Qt.a)(this.loader.load(t)):xn(t()).pipe(Object(qe.a)(t=>t instanceof r.v?Object(Ht.a)(t):Object(Qt.a)(this.compiler.compileModuleAsync(t))))}}class ai{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ui,this.attachRef=null}}class ui{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ai,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ci{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function li(t){throw t}function hi(t,e,n){return e.parse("/")}function di(t,e){return Object(Ht.a)(null)}let fi=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new zt.a,this.errorHandler=li,this.malformedUriErrorHandler=hi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:di,afterPreactivation:di},this.urlHandlingStrategy=new ci,this.routeReuseStrategy=new $r,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.x),this.console=o.get(r.ab);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new On(new Sn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new si(s,a,t=>this.triggerEvent(new an(t)),t=>this.triggerEvent(new un(t))),this.routerState=Zn(this.currentUrlTree,this.rootComponentType),this.transitions=new Kt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(de(t=>0!==t.id),Object(ce.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),ke(t=>{let n=!1,r=!1;return Object(Ht.a)(t).pipe(Object(ze.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ke(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ht.a)(t).pipe(ke(t=>{const n=this.transitions.getValue();return e.next(new Ze(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?ae.a:[t]}),ke(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(ke(t=>function(t,e,n,r,i){return new Ir(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(ce.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(ze.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(qe.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Qr(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(ce.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(ze.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(ze.a)(t=>{const n=new en(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Ze(n,this.serializeUrl(r),i,o);e.next(a);const u=Zn(r,this.rootComponentType).snapshot;return Object(Ht.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ae.a}),Jr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(ze.a)(t=>{const e=new nn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(ce.a)(t=>Object.assign(Object.assign({},t),{guards:Mr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(qe.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Ht.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Qt.a)(t).pipe(Object(qe.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Ht.a)(!0);const s=o.map(o=>{const s=Vr(o,e,i);let a;if(function(t){return t&&wr(t.canDeactivate)}(s))a=xn(s.canDeactivate(t,e,n,r));else{if(!wr(s))throw new Error("Invalid CanDeactivate guard");a=xn(s(t,e,n,r))}return a.pipe(Qe())});return Object(Ht.a)(s).pipe(xr())}(t.component,t.route,n,e,r)),Qe(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(qe.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Qt.a)(e).pipe(He(e=>Object(Qt.a)([Ur(e.route.parent,r),Fr(e.route,r),qr(t,e.path,n),Br(t,e.route,n)]).pipe(he(),Qe(t=>!0!==t,!0))),Qe(t=>!0!==t,!0))}(r,o,t,e):Object(Ht.a)(n)),Object(ce.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(ze.a)(t=>{if(_r(t.guardsResult)){const e=bn(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(ze.a)(t=>{const e=new rn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),de(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new $e(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Jr(t=>{if(t.guards.canActivateChecks.length)return Object(Ht.a)(t).pipe(Object(ze.a)(t=>{const e=new on(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),ke(t=>{let n=!1;return Object(Ht.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(qe.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ht.a)(t);let o=0;return Object(Qt.a)(n).pipe(He(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ht.a)({});const o={};return Object(Qt.a)(i).pipe(Object(qe.a)(i=>function(t,e,n,r){const i=Vr(t,e,r);return xn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(ze.a)(t=>{o[i]=t}))),be(1),Object(qe.a)(()=>Object.keys(o).length===i.length?Object(Ht.a)(o):ae.a))}(t._resolve,t,e,r).pipe(Object(ce.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),$n(t,n).resolve),null)))}(t.route,e,r,i)),Object(ze.a)(()=>o++),be(1),Object(qe.a)(e=>o===n.length?Object(Ht.a)(t):ae.a))}))}),Object(ze.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new $e(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(ze.a)(t=>{const e=new sn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Jr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(ce.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Gn(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Jn(new Kt((i=n.value).url),new Kt(i.params),new Kt(i.queryParams),new Kt(i.fragment),new Kt(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Gn(r,o)}}var i}(t,e._root,n?n._root:void 0);return new Xn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(ze.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),Object(ce.a)(t=>(new mr(o,t.targetRouterState,t.currentRouterState,s).activate(i),t))),Object(ze.a)({next(){n=!0},complete(){n=!0}}),Ke(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new $e(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Fe(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=_r(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new $e(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new tn(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(ed){t.reject(ed)}}var i;return ae.a}));var i,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ei(t),this.config=t.map(ii),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:u}=e;Object(r.X)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return ar(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ur(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Cn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new ur(n,e,r)}(n);if(o.toRoot())return ar(e.root,new Sn([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new cr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new cr(t,t===e.root,0)}const r=sr(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new cr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?dr(s.segmentGroup,s.index,o.commands):hr(s.segmentGroup,s.index,o.commands);return ar(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.X)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=_r(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Tw){e=this.malformedUriErrorHandler(Tw,this.urlSerializer,t)}return e}isActive(t,e){if(_r(t))return En(this.currentUrlTree,t,e);const n=this.parseUrl(t);return En(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Je(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.O),r.Ub(Tn),r.Ub(ui),r.Ub(C),r.Ub(r.r),r.Ub(r.w),r.Ub(r.i),r.Ub(void 0))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),pi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new zt.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.X)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:bi(this.skipLocationChange),replaceUrl:bi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:bi(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:bi(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(fi),r.Nb(Jn),r.Vb("tabindex"),r.Nb(r.F),r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Wb("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.zb]}),t})(),gi=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new zt.a,this.subscription=t.events.subscribe(t=>{t instanceof Je&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.X)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:bi(this.skipLocationChange),replaceUrl:bi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:bi(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:bi(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(fi),r.Nb(Jn),r.Nb(m))},t.\u0275dir=r.Ib({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Wb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(r.Tb("href",e.href,r.mc),r.Cb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.zb]}),t})();function bi(t){return""===t||!!t}let mi=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Je&&this.update()})}ngAfterContentInit(){Object(Qt.a)([this.links.changes,this.linksWithHrefs.changes,Object(Ht.a)(null)]).pipe(Object(le.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(Qt.a)(e).pipe(Object(le.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(fi),r.Nb(r.l),r.Nb(r.F),r.Nb(r.h),r.Nb(pi,8),r.Nb(gi,8))},t.\u0275dir=r.Ib({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Gb(n,pi,!0),r.Gb(n,gi,!0)),2&t&&(r.ic(i=r.Xb())&&(e.links=i),r.ic(i=r.Xb())&&(e.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.zb]}),t})(),yi=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new vi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(ui),r.Nb(r.R),r.Nb(r.j),r.Vb("name"),r.Nb(r.h))},t.\u0275dir=r.Ib({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class vi{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Jn?this.route:t===ui?this.childContexts:this.parent.get(t,e)}}class wi{}class _i{preload(t,e){return Object(Ht.a)(null)}}let Ci=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new si(e,n,e=>t.triggerEvent(new an(e)),e=>t.triggerEvent(new un(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(de(t=>t instanceof Je),He(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Qt.a)(n).pipe(Object(le.a)(),Object(ce.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(qe.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(fi),r.Ub(r.w),r.Ub(r.i),r.Ub(r.r),r.Ub(wi))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),xi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ze?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Je&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof fn&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new fn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(fi),r.Ub(ht),r.Ub(void 0))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const Ei=new r.q("ROUTER_CONFIGURATION"),Oi=new r.q("ROUTER_FORROOT_GUARD"),Si=[C,{provide:Tn,useClass:Pn},{provide:fi,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new fi(null,t,e,n,r,i,o,wn(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[Tn,ui,C,r.r,r.w,r.i,oi,Ei,[class{},new r.A],[class{},new r.A]]},ui,{provide:Jn,useFactory:function(t){return t.routerState.root},deps:[fi]},{provide:r.w,useClass:r.L},Ci,_i,class{preload(t,e){return e().pipe(Fe(()=>Object(Ht.a)(null)))}},{provide:Ei,useValue:{enableTracing:!1}}];function Ai(){return new r.y("Router",fi)}let ki=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Si,Ri(e),{provide:Oi,useFactory:Pi,deps:[[fi,new r.A,new r.K]]},{provide:Ei,useValue:n||{}},{provide:m,useFactory:Ti,deps:[u,[new r.p(v),new r.A],Ei]},{provide:xi,useFactory:Ii,deps:[fi,ht,Ei]},{provide:wi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:_i},{provide:r.y,multi:!0,useFactory:Ai},[ji,{provide:r.d,multi:!0,useFactory:Ni,deps:[ji]},{provide:Mi,useFactory:Di,deps:[ji]},{provide:r.b,multi:!0,useExisting:Mi}]]}}static forChild(e){return{ngModule:t,providers:[Ri(e)]}}}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)(r.Ub(Oi,8),r.Ub(fi,8))}}),t})();function Ii(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new xi(t,e,n)}function Ti(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function Pi(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ri(t){return[{provide:r.a,multi:!0,useValue:t},{provide:oi,multi:!0,useValue:t}]}let ji=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new zt.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(fi),r=this.injector.get(Ei);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ht.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Ei),n=this.injector.get(Ci),i=this.injector.get(xi),o=this.injector.get(fi),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.r))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();function Ni(t){return t.appInitializer.bind(t)}function Di(t){return t.bootstrapListener.bind(t)}const Mi=new r.q("Router Initializer");var Vi=n("XoHu");function Li(t,e){return new te.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(Qt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Fi=new r.q("NgValueAccessor"),Ui={provide:Fi,useExisting:Object(r.V)(()=>Bi),multi:!0};let Bi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.F),r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([Ui])]}),t})();const qi={provide:Fi,useExisting:Object(r.V)(()=>Qi),multi:!0},Hi=new r.q("CompositionEventMode");let Qi=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.F),r.Nb(r.l),r.Nb(Hi,8))},t.\u0275dir=r.Ib({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Wb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.Ab([qi])]}),t})(),zi=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t}),t})(),Wi=(()=>{class t extends zi{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Ki(e||t)},t.\u0275dir=r.Ib({type:t,features:[r.yb]}),t})();const Ki=r.Sb(Wi);class Gi extends zi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class Yi{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Xi=(()=>{class t extends Yi{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Gi,2))},t.\u0275dir=r.Ib({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Fb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.yb]}),t})(),Zi=(()=>{class t extends Yi{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Wi,2))},t.\u0275dir=r.Ib({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Fb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.yb]}),t})();function Ji(t){return null==t||0===t.length}function $i(t){return null!=t&&"number"==typeof t.length}const to=new r.q("NgValidators"),eo=new r.q("NgAsyncValidators"),no=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ro{static min(t){return e=>{if(Ji(e.value)||Ji(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Ji(e.value)||Ji(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Ji(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Ji(t.value)||no.test(t.value)?null:{email:!0}}static minLength(t){return e=>Ji(e.value)||!$i(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>$i(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return ro.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ji(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(io);return 0==e.length?null:function(t){return so(ao(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(io);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Yt.a)(e))return Li(e,null);if(Object(Vi.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Li(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Li(t=1===t.length&&Object(Yt.a)(t[0])?t[0]:t,null).pipe(Object(ce.a)(t=>e(...t)))}return Li(t,null)}(ao(t,e).map(oo)).pipe(Object(ce.a)(so))}}}function io(t){return null!=t}function oo(t){const e=Object(r.tb)(t)?Object(Qt.a)(t):t;return Object(r.sb)(e),e}function so(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ao(t,e){return e.map(e=>e(t))}function uo(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const co={provide:Fi,useExisting:Object(r.V)(()=>lo),multi:!0};let lo=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.F),r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([co])]}),t})();const ho={provide:Fi,useExisting:Object(r.V)(()=>po),multi:!0};let fo=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),po=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Gi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.F),r.Nb(r.l),r.Nb(fo),r.Nb(r.r))},t.\u0275dir=r.Ib({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Ab([ho])]}),t})();const go={provide:Fi,useExisting:Object(r.V)(()=>bo),multi:!0};let bo=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.F),r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([go])]}),t})();const mo={provide:Fi,useExisting:Object(r.V)(()=>vo),multi:!0};function yo(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let vo=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=yo(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.F),r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Ab([mo])]}),t})(),wo=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(yo(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.F),r.Nb(vo,9))},t.\u0275dir=r.Ib({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const _o={provide:Fi,useExisting:Object(r.V)(()=>xo),multi:!0};function Co(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let xo=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.F),r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Ab([_o])]}),t})(),Eo=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Co(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Co(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.F),r.Nb(xo,9))},t.\u0275dir=r.Ib({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function Oo(t,e){t.validator=ro.compose([t.validator,e.validator]),t.asyncValidator=ro.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&So(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&So(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function So(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ao(t){return null!=t?ro.compose(uo(t)):null}function ko(t){return null!=t?ro.composeAsync(uo(t)):null}const Io=[Bi,bo,lo,vo,xo,po];function To(t){return(No(t)?t.validators:t)||null}function Po(t){return Array.isArray(t)?Ao(t):t||null}function Ro(t,e){return(No(e)?e.asyncValidators:t)||null}function jo(t){return Array.isArray(t)?ko(t):t||null}function No(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Do{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Po(this._rawValidators),this._composedAsyncValidatorFn=jo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Po(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=jo(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const e=oo(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Vo?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Lo&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){No(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Mo extends Do{constructor(t=null,e,n){super(To(e),Ro(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Vo extends Do{constructor(t,e,n){super(To(e),Ro(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Mo?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Lo extends Do{constructor(t,e,n){super(To(e),Ro(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Mo?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Fo={provide:Wi,useExisting:Object(r.V)(()=>Bo)},Uo=(()=>Promise.resolve(null))();let Bo=(()=>{class t extends Wi{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new Vo({},Ao(t),ko(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Uo.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Oo(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Uo.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._directives,t)})}addFormGroup(t){Uo.then(()=>{const e=this._findContainer(t.path),n=new Vo({});(function(t,e){t.validator=ro.compose([t.validator,e.validator]),t.asyncValidator=ro.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Uo.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Uo.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(to,10),r.Nb(eo,10))},t.\u0275dir=r.Ib({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Wb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ab([Fo]),r.yb]}),t})();const qo={provide:Gi,useExisting:Object(r.V)(()=>Qo)},Ho=(()=>Promise.resolve(null))();let Qo=(()=>{class t extends Gi{constructor(t,e,n,i){super(),this.control=new Mo,this._registered=!1,this.update=new r.n,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Qi?n=t:(e=t,Io.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Ao(this._rawValidators)}get asyncValidator(){return ko(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Oo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ho.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Ho.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Wi,9),r.Nb(to,10),r.Nb(eo,10),r.Nb(Fi,10))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Ab([qo]),r.yb,r.zb]}),t})(),zo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Wo=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t})(),Ko=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[fo],imports:[Wo]}),t})();const Go=function(){return["/admin/pedidos"]},Yo=function(){return["/admin/categorias"]},Xo=function(){return["/admin/produtos"]},Zo=function(){return["/admin/configuracao"]},Jo=function(){return["/"]};let $o=(()=>{class t{constructor(){this.collapseShow="hidden"}ngOnInit(){}toggleCollapseShow(t){this.collapseShow=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-sidebar"]],decls:46,vars:19,consts:[[1,"md:left-0","md:block","md:fixed","md:top-0","md:bottom-0","md:overflow-y-auto","md:flex-row","md:flex-no-wrap","md:overflow-hidden","shadow-xl","bg-white","flex","flex-wrap","items-center","justify-between","relative","md:w-64","z-10","py-44","px-6"],[1,"md:flex-col","md:items-stretch","md:min-h-full","md:flex-no-wrap","px-0","flex","flex-wrap","items-center","justify-between","w-full","mx-auto"],["type","button",1,"cursor-pointer","text-black","opacity-50","md:hidden","px-3","py-1","text-xl","leading-none","bg-transparent","rounded","border","border-solid","border-transparent",3,"click"],[1,"fas","fa-bars"],[1,"md:block","text-left","md:pb-2","text-gray-700","mr-0","inline-block","whitespace-no-wrap","text-sm","uppercase","font-bold","p-4","px-0"],[1,"block","sm:hidden"],[1,"hidden","sm:block"],[1,"md:flex","md:flex-col","md:items-stretch","md:opacity-100","md:relative","md:mt-4","md:shadow-none","shadow","absolute","top-0","left-0","right-0","z-40","overflow-y-auto","overflow-x-hidden","h-auto","items-center","flex-1","rounded",3,"ngClass"],[1,"md:min-w-full","md:hidden","block","pb-4","mb-4","border-b","border-solid","border-gray-300"],[1,"flex","flex-wrap"],[1,"w-6/12"],[1,"w-6/12","flex","justify-end"],[1,"fas","fa-times"],[1,"mt-6","mb-4","md:hidden"],[1,"mb-3","pt-0"],["type","text","placeholder","Search",1,"px-3","py-2","h-12","border","border-solid","border-gray-600","placeholder-gray-400","text-gray-700","bg-white","rounded","text-base","leading-snug","shadow-none","outline-none","focus:outline-none","w-full","font-normal"],[1,"my-4","md:min-w-full"],[1,"md:flex-col","md:min-w-full","flex","flex-col","list-none"],[1,"items-center"],["routerLinkActive","",1,"text-xs","uppercase","py-3","font-bold","block",3,"routerLink","ngClass"],["adminPedidos","routerLinkActive"],[1,"fas","fa-truck","mr-2","text-sm",3,"ngClass"],["adminCategorias","routerLinkActive"],[1,"fas","fa-tag","mr-2","text-sm",3,"ngClass"],["adminProdutos","routerLinkActive"],[1,"fas","fa-clipboard-list","mr-2","text-sm",3,"ngClass"],["adminDashboard","routerLinkActive"],[1,"fas","fa-cog","mr-2","text-sm",3,"ngClass"],[1,"text-xs","uppercase","py-3","font-bold","block",3,"routerLink"],[1,"fas","fa-sign-out-alt","mr-2","text-sm","text-gray-500"]],template:function(t,e){if(1&t&&(r.Qb(0,"nav",0),r.Qb(1,"div",1),r.Qb(2,"button",2),r.Wb("click",(function(){return e.toggleCollapseShow("bg-white m-2 py-3 px-6")})),r.Ob(3,"i",3),r.Pb(),r.Qb(4,"a",4),r.Ob(5,"span",5),r.Qb(6,"span",6),r.uc(7," Painel Administrativo "),r.Pb(),r.Pb(),r.Qb(8,"div",7),r.Qb(9,"div",8),r.Qb(10,"div",9),r.Qb(11,"div",10),r.Qb(12,"a",4),r.uc(13," Painel Administrativo "),r.Pb(),r.Pb(),r.Qb(14,"div",11),r.Qb(15,"button",2),r.Wb("click",(function(){return e.toggleCollapseShow("hidden")})),r.Ob(16,"i",12),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(17,"form",13),r.Qb(18,"div",14),r.Ob(19,"input",15),r.Pb(),r.Pb(),r.Ob(20,"hr",16),r.Qb(21,"ul",17),r.Qb(22,"li",18),r.Qb(23,"a",19,20),r.Ob(25,"i",21),r.uc(26," Pedidos "),r.Pb(),r.Pb(),r.Qb(27,"li",18),r.Qb(28,"a",19,22),r.Ob(30,"i",23),r.uc(31," Categorias "),r.Pb(),r.Pb(),r.Qb(32,"li",18),r.Qb(33,"a",19,24),r.Ob(35,"i",25),r.uc(36," Produtos "),r.Pb(),r.Pb(),r.Qb(37,"li",18),r.Qb(38,"a",19,26),r.Ob(40,"i",27),r.uc(41," Configura\xe7\xf5es "),r.Pb(),r.Pb(),r.Qb(42,"li",18),r.Qb(43,"a",28),r.Ob(44,"i",29),r.uc(45," Sair "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.jc(24),n=r.jc(29),i=r.jc(34),o=r.jc(39);r.Bb(8),r.dc("ngClass",e.collapseShow),r.Bb(15),r.dc("routerLink",r.fc(14,Go))("ngClass",t.isActive?"text-blue-600 hover:text-blue-700":"text-gray-800 hover:text-gray-600"),r.Bb(2),r.dc("ngClass",t.isActive?"opacity-75":"text-gray-400"),r.Bb(3),r.dc("routerLink",r.fc(15,Yo))("ngClass",n.isActive?"text-blue-600 hover:text-blue-700":"text-gray-800 hover:text-gray-600"),r.Bb(2),r.dc("ngClass",n.isActive?"opacity-75":"text-gray-400"),r.Bb(3),r.dc("routerLink",r.fc(16,Xo))("ngClass",i.isActive?"text-blue-600 hover:text-blue-700":"text-gray-800 hover:text-gray-600"),r.Bb(2),r.dc("ngClass",i.isActive?"opacity-75":"text-gray-400"),r.Bb(3),r.dc("routerLink",r.fc(17,Zo))("ngClass",o.isActive?"text-blue-600 hover:text-blue-700":"text-gray-800 hover:text-gray-600"),r.Bb(2),r.dc("ngClass",o.isActive?"opacity-75":"text-gray-400"),r.Bb(3),r.dc("routerLink",r.fc(18,Jo))}},directives:[et,zo,Zi,Bo,gi,mi],encapsulation:2}),t})(),ts=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-admin-navbar"]],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),es=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-header-stats"]],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),ns=(()=>{class t{constructor(){this.date=(new Date).getFullYear()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-footer-admin"]],decls:9,vars:1,consts:[[1,"block","py-4"],[1,"container","mx-auto","px-4"],[1,"mb-4","border-b-1","border-gray-300"],[1,"flex","flex-wrap","items-center","md:justify-between","justify-center"],[1,"w-full","md:w-4/12","px-4"],[1,"text-sm","text-gray-600","font-semibold","py-1","text-center","md:text-left"],["href","https://www.creative-tim.com?ref=na-footer-admin",1,"text-gray-600","hover:text-gray-800","text-sm","font-semibold","py-1"]],template:function(t,e){1&t&&(r.Qb(0,"footer",0),r.Qb(1,"div",1),r.Ob(2,"hr",2),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Qb(5,"div",5),r.uc(6),r.Qb(7,"a",6),r.uc(8," Eric Alvim "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Bb(6),r.wc(" Copyright \xa9 ",e.date," "))},encapsulation:2}),t})(),rs=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-admin"]],decls:8,vars:0,consts:[[1,"relative","md:ml-64","bg-gray-300"],[1,"px-4","md:px-10","mx-auto","w-full"]],template:function(t,e){1&t&&(r.Qb(0,"div"),r.Ob(1,"app-sidebar"),r.Qb(2,"div",0),r.Ob(3,"app-admin-navbar"),r.Ob(4,"app-header-stats"),r.Qb(5,"div",1),r.Ob(6,"router-outlet"),r.Ob(7,"app-footer-admin"),r.Pb(),r.Pb(),r.Pb())},directives:[$o,ts,es,yi,ns],encapsulation:2}),t})(),is=(()=>{class t{constructor(){this.navbarOpen=!1}ngOnInit(){}setNavbarOpen(){this.navbarOpen=!this.navbarOpen}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-auth-navbar"]],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),os=(()=>{class t{constructor(){this.date=(new Date).getFullYear(),this._absolute=!1}get absolute(){return this._absolute}set absolute(t){this._absolute=void 0!==t&&t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-footer-small"]],inputs:{absolute:"absolute"},decls:9,vars:2,consts:[[1,"pb-6",3,"ngClass"],[1,"container","mx-auto","px-4"],[1,"mb-6","border-b-1","border-gray-700"],[1,"flex","flex-wrap","items-center","md:justify-between","justify-center"],[1,"w-full","md:w-4/12","px-4"],[1,"text-sm","text-white","font-semibold","py-1","text-center","md:text-left"],["href","https://www.creative-tim.com?ref=na-footer-small",1,"text-white","hover:text-gray-400","text-sm","font-semibold","py-1"]],template:function(t,e){1&t&&(r.Qb(0,"footer",0),r.Qb(1,"div",1),r.Ob(2,"hr",2),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Qb(5,"div",5),r.uc(6),r.Qb(7,"a",6),r.uc(8," Eric Alvim "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.dc("ngClass",e.absolute?"absolute w-full bottom-0 bg-gray-900":"relative"),r.Bb(6),r.wc(" Copyright \xa9 ",e.date," "))},directives:[et],encapsulation:2}),t})(),ss=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-auth"]],decls:7,vars:1,consts:[[1,"relative","w-full","h-full","py-40","min-h-screen"],[1,"absolute","top-0","w-full","h-full","bg-gray-900","bg-no-repeat","bg-full",2,"background-color","#d3dae4","background-image","url('assets/img/register_bg_2.png')"],[3,"absolute"]],template:function(t,e){1&t&&(r.Qb(0,"div"),r.Ob(1,"app-auth-navbar"),r.Qb(2,"main"),r.Qb(3,"section",0),r.Ob(4,"div",1),r.Ob(5,"router-outlet"),r.Ob(6,"app-footer-small",2),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Bb(6),r.dc("absolute",!0))},directives:[is,yi,os],encapsulation:2}),t})();var as=n("D0XW");function us(){return t=>t.lift(new cs)}class cs{call(t,e){return e.subscribe(new ls(t))}}class ls extends Xt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class hs{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ds(t,this.compare,this.keySelector))}}class ds extends Xt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var fs=n("pxpQ"),ps=n("spgP"),gs=n("Jgta"),bs=n("zIRd"),ms=n("qOnz"),ys=n("q/0M"),vs=function(t,e){return(vs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ws(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var _s,Cs="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xs=xs||{},Es=Cs||self;function Os(){}function Ss(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function As(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ks="closure_uid_"+(1e9*Math.random()>>>0),Is=0;function Ts(t,e,n){return t.call.apply(t.bind,arguments)}function Ps(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Rs(t,e,n){return(Rs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ts:Ps).apply(null,arguments)}function js(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ns(){return Date.now()}function Ds(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Pb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ms(){this.j=this.j,this.i=this.i}Ms.prototype.j=!1,Ms.prototype.ka=function(){!this.j&&(this.j=!0,this.H(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ks)&&t[ks]||(t[ks]=++Is)}(this)},Ms.prototype.H=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Vs=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ls=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Fs(t){return Array.prototype.concat.apply([],arguments)}function Us(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Bs(t){return/^[\s\xa0]*$/.test(t)}var qs,Hs=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Qs(t,e){return-1!=t.indexOf(e)}function zs(t,e){return t<e?-1:t>e?1:0}t:{var Ws=Es.navigator;if(Ws){var Ks=Ws.userAgent;if(Ks){qs=Ks;break t}}qs=""}function Gs(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ys(t){var e={};for(var n in t)e[n]=t[n];return e}var Xs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zs(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Xs.length;o++)n=Xs[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Js(t){return Js[" "](t),t}Js[" "]=Os;var $s,ta,ea=Qs(qs,"Opera"),na=Qs(qs,"Trident")||Qs(qs,"MSIE"),ra=Qs(qs,"Edge"),ia=ra||na,oa=Qs(qs,"Gecko")&&!(Qs(qs.toLowerCase(),"webkit")&&!Qs(qs,"Edge"))&&!(Qs(qs,"Trident")||Qs(qs,"MSIE"))&&!Qs(qs,"Edge"),sa=Qs(qs.toLowerCase(),"webkit")&&!Qs(qs,"Edge");function aa(){var t=Es.document;return t?t.documentMode:void 0}t:{var ua="",ca=(ta=qs,oa?/rv:([^\);]+)(\)|;)/.exec(ta):ra?/Edge\/([\d\.]+)/.exec(ta):na?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ta):sa?/WebKit\/(\S+)/.exec(ta):ea?/(?:Version)[ \/]?(\S+)/.exec(ta):void 0);if(ca&&(ua=ca?ca[1]:""),na){var la=aa();if(null!=la&&la>parseFloat(ua)){$s=String(la);break t}}$s=ua}var ha={};function da(t){return function(t,e){var n=ha;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Hs(String($s)).split("."),r=Hs(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=zs(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||zs(0==s[2].length,0==a[2].length)||zs(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var fa=Es.document&&na&&(aa()||parseInt($s,10))||void 0,pa=!na||9<=Number(fa),ga=na&&!da("9"),ba=function(){if(!Es.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Es.addEventListener("test",Os,e),Es.removeEventListener("test",Os,e)}catch(n){}return t}();function ma(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ya(t,e){if(ma.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(oa){t:{try{Js(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:va[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ma.prototype.b=function(){this.defaultPrevented=!0},Ds(ya,ma);var va={2:"touch",3:"pen",4:"mouse"};ya.prototype.b=function(){ya.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ga)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var wa="closure_listenable_"+(1e6*Math.random()|0),_a=0;function Ca(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++_a,this.Y=this.Z=!1}function xa(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function Ea(t){this.src=t,this.a={},this.b=0}function Oa(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Vs(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(xa(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Sa(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}Ea.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Sa(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Ca(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Aa="closure_lm_"+(1e6*Math.random()|0),ka={};function Ia(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Va(r),e&&e[wa]?e.xa(n,r,As(i)?!!i.capture:!!i,o):Ta(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ia(t,e[o],n,r,i);return null}return n=Va(n),t&&t[wa]?t.wa(e,n,As(r)?!!r.capture:!!r,i):Ta(t,e,n,!1,r,i)}function Ta(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=As(i)?!!i.capture:!!i;if(s&&!pa)return null;var a=Da(t);if(a||(t[Aa]=a=new Ea(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Na,e=pa?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ba||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ra(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Pa(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[wa])Oa(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ra(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Da(e))?(Oa(n,t),0==n.b&&(n.src=null,e[Aa]=null)):xa(t)}}}function Ra(t){return t in ka?ka[t]:ka[t]="on"+t}function ja(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&Pa(t),n.call(r,e)}function Na(t,e){if(t.Y)return!0;if(!pa){if(!e)t:{e=["window","event"];for(var n=Es,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ja(t,e=new ya(e,this))}return ja(t,new ya(e,this))}function Da(t){return(t=t[Aa])instanceof Ea?t:null}var Ma="__closure_events_fn_"+(1e9*Math.random()>>>0);function Va(t){return"function"==typeof t?t:(t[Ma]||(t[Ma]=function(e){return t.handleEvent(e)}),t[Ma])}function La(){Ms.call(this),this.c=new Ea(this),this.J=this,this.D=null}function Fa(t,e){var n,r=t.D;if(r)for(n=[];r;r=r.D)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ma(e,t);else if(e instanceof ma)e.target=e.target||t;else{var i=e;Zs(e=new ma(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Ua(s,r,!0,e)&&i}if(i=Ua(s=e.a=t,r,!0,e)&&i,i=Ua(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ua(s=e.a=n[o],r,!1,e)&&i}function Ua(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.da||s.src;s.Z&&Oa(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ds(La,Ms),La.prototype[wa]=!0,(_s=La.prototype).addEventListener=function(t,e,n,r){Ia(this,t,e,n,r)},_s.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=As(i)?!!i.capture:!!i,r=Va(r),e&&e[wa]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Sa(s=e.a[n],r,i,o))&&(xa(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Da(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Sa(n,r,i,o)),(r=-1<e?n[e]:null)&&Pa(r))}(this,t,e,n,r)},_s.H=function(){if(La.X.H.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)xa(n[r]);delete e.a[t],e.b--}}this.D=null},_s.wa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},_s.xa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ba=Es.JSON.stringify;function qa(){this.b=this.a=null}var Ha,Qa=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Wa}),(function(t){t.reset()}));function za(){var t=Xa,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Wa(){this.next=this.b=this.a=null}function Ka(t){Es.setTimeout((function(){throw t}),0)}function Ga(t,e){Ha||function(){var t=Es.Promise.resolve(void 0);Ha=function(){t.then(Za)}}(),Ya||(Ha(),Ya=!0),Xa.add(t,e)}qa.prototype.add=function(t,e){var n=Qa.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Wa.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Wa.prototype.reset=function(){this.next=this.b=this.a=null};var Ya=!1,Xa=new qa;function Za(){for(var t;t=za();){try{t.a.call(t.b)}catch(n){Ka(n)}var e=Qa;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ya=!1}function Ja(t,e){La.call(this),this.b=t||1,this.a=e||Es,this.f=Rs(this.eb,this),this.g=Ns()}function $a(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function tu(t,e,n){if("function"==typeof t)n&&(t=Rs(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Rs(t.handleEvent,t)}return 2147483647<Number(e)?-1:Es.setTimeout(t,e||0)}function eu(t){t.a=tu((function(){t.a=null,t.c&&(t.c=!1,eu(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ds(Ja,La),(_s=Ja.prototype).aa=!1,_s.M=null,_s.eb=function(){if(this.aa){var t=Ns()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Fa(this,"tick"),this.aa&&($a(this),this.start()))}},_s.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ns())},_s.H=function(){Ja.X.H.call(this),$a(this),delete this.a};var nu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}vs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:eu(this)},e.prototype.H=function(){t.prototype.H.call(this),this.a&&(Es.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ms);function ru(t){Ms.call(this),this.b=t,this.a={}}Ds(ru,Ms);var iu=[];function ou(t,e,n,r){Array.isArray(n)||(n&&(iu[0]=n.toString()),n=iu);for(var i=0;i<n.length;i++){var o=Ia(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function su(t){Gs(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Pa(t)}),t),t.a={}}function au(){this.a=!0}function uu(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ba(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}ru.prototype.H=function(){ru.X.H.call(this),su(this)},ru.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},au.prototype.info=function(){};var cu={},lu=null;function hu(){return lu=lu||new La}function du(t){ma.call(this,cu.Ga,t)}function fu(t){var e=hu();Fa(e,new du(e,t))}function pu(t,e){ma.call(this,cu.STAT_EVENT,t),this.stat=e}function gu(t){var e=hu();Fa(e,new pu(e,t))}function bu(t){ma.call(this,cu.Ha,t)}function mu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Es.setTimeout((function(){t()}),e)}cu.Ga="serverreachability",Ds(du,ma),cu.STAT_EVENT="statevent",Ds(pu,ma),cu.Ha="timingevent",Ds(bu,ma);var yu={NO_ERROR:0,fb:1,sb:2,rb:3,mb:4,qb:5,tb:6,Ea:7,TIMEOUT:8,wb:9},vu={kb:"complete",Gb:"success",Fa:"error",Ea:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",nb:"downloadprogress",Ob:"uploadprogress"};function wu(){}function _u(){}wu.prototype.b=null;var Cu,xu={OPEN:"a",jb:"b",Fa:"c",vb:"d"};function Eu(){ma.call(this,"d")}function Ou(){ma.call(this,"c")}function Su(){}function Au(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ru(this),this.P=ku,this.R=new Ja(t=ia?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.G=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ds(Eu,ma),Ds(Ou,ma),Ds(Su,wu),Su.prototype.a=function(){return new XMLHttpRequest},Su.prototype.c=function(){return{}},Cu=new Su;var ku=45e3,Iu={},Tu={};function Pu(t,e,n){t.G=1,t.i=$u(Ku(e)),t.j=n,t.I=!0,Ru(t,null)}function Ru(t,e){t.u=Ns(),Du(t),t.l=Ku(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),dc(n.b,"t",r),t.D=0,t.a=sl(t.g,t.g.C?e:null),0<t.O&&(t.F=new nu(Rs(t.Da,t,t.a),t.O)),ou(t.J,t.a,"readystatechange",t.bb),e=t.B?Ys(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),fu(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function ju(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Nu(t,n);if(i==Tu){4==e&&(t.h=4,gu(14),r=!1),uu(t.c,t.f,null,"[Incomplete Response]");break}if(i==Iu){t.h=4,gu(15),uu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}uu(t.c,t.f,i,null),Uu(t,i)}4==e&&0==n.length&&(t.h=1,gu(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jc(e),e.F=!0,gu(11))):(uu(t.c,t.f,n,"[Invalid Chunked Response]"),Fu(t),Lu(t))}function Nu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Tu:(n=Number(e.substring(n,r)),isNaN(n)?Iu:(r+=1)+n>e.length?Tu:(e=e.substr(r,n),t.D=r+n,e))}function Du(t){t.T=Ns()+t.P,Mu(t,t.P)}function Mu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=mu(Rs(t.$a,t),e)}function Vu(t){t.o&&(Es.clearTimeout(t.o),t.o=null)}function Lu(t){0==t.g.v||t.A||el(t.g,t)}function Fu(t){Vu(t);var e=t.F;e&&"function"==typeof e.ka&&e.ka(),t.F=null,$a(t.R),su(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ka())}function Uu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||vc(n.b,t)))if(n.I=t.N,!t.C&&vc(n.b,t)&&3==n.v){try{var r=n.la.a.parse(e)}catch(sw){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;tl(n),Hc(n)}Zc(n),gu(18)}}else n.pa=i[1],0<n.pa-n.P&&37500>i[2]&&n.G&&0==n.o&&!n.m&&(n.m=mu(Rs(n.Xa,n),6e3));if(1>=yc(n.b)&&n.fa){try{n.fa()}catch(sw){}n.fa=void 0}}else rl(n,11)}else if((t.C||n.a==t)&&tl(n),!Bs(e))for(e=r=n.la.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ha=i[2];var o=i[3];null!=o&&(n.ia=o,n.c.info("VER="+n.ia));var s=i[4];null!=s&&(n.qa=s,n.c.info("SVER="+n.qa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Qs(l,"spdy")||Qs(l,"quic")||Qs(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(wc(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.oa=d,Ju(u.B,u.A,d))}}n.v=3,n.f&&n.f.ua(),n.U&&(n.N=Ns()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).ma=ol(u,u.C?u.ha:null,u.ga),f.C){_c(u.b,f);var p=f,g=u.D;g&&p.setTimeout(g),p.o&&(Vu(p),Du(p)),u.a=f}else Xc(u);0<n.g.length&&Wc(n)}else"stop"!=i[0]&&"close"!=i[0]||rl(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?rl(n,7):qc(n):"noop"!=i[0]&&n.f&&n.f.ta(i),n.o=0);fu(4)}catch(sw){}}function Bu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ss(t)||"string"==typeof t)Ls(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ss(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ss(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function qu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof qu)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Hu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Qu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Qu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Qu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(_s=Au.prototype).setTimeout=function(t){this.P=t},_s.bb=function(t){t=t.target;var e=this.F;e&&3==Lc(t)?e.f():this.Da(t)},_s.Da=function(t){try{if(t==this.a)t:{var e=Lc(this.a),n=this.a.va(),r=this.a.W();if(!(3>e||3==e&&!ia&&!this.a.$())){this.A||4!=e||7==n||fu(8==n||0>=r?3:2),Vu(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bs(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,gu(12),Fu(this),Lu(this);break t}uu(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Uu(this,u)}this.I?(ju(this,e,o),ia&&this.b&&3==e&&(ou(this.J,this.R,"tick",this.ab),this.R.start())):(uu(this.c,this.f,o,null),Uu(this,o)),4==e&&Fu(this),this.b&&!this.A&&(4==e?el(this.g,this):(this.b=!1,Du(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,gu(12)):(this.h=0,gu(13)),Fu(this),Lu(this)}}}catch(c){}},_s.ab=function(){if(this.a){var t=Lc(this.a),e=this.a.$();this.D<e.length&&(Vu(this),ju(this,t,e),this.b&&4!=t&&Du(this))}},_s.cancel=function(){this.A=!0,Fu(this)},_s.$a=function(){this.o=null;var t=Ns();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.G&&(fu(3),gu(17)),Fu(this),this.h=2,Lu(this)):Mu(this,this.T-t)},(_s=qu.prototype).K=function(){Hu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},_s.L=function(){return Hu(this),this.a.concat()},_s.get=function(t,e){return Qu(this.b,t)?this.b[t]:e},_s.set=function(t,e){Qu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},_s.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var zu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Wu){this.a=void 0!==e?e:t.a,Gu(this,t.f),this.j=t.j,Yu(this,t.c),Xu(this,t.h),this.g=t.g,e=t.b;var n=new uc;n.c=e.c,e.a&&(n.a=new qu(e.a),n.b=e.b),Zu(this,n),this.i=t.i}else t&&(n=String(t).match(zu))?(this.a=!!e,Gu(this,n[1]||"",!0),this.j=tc(n[2]||""),Yu(this,n[3]||"",!0),Xu(this,n[4]),this.g=tc(n[5]||"",!0),Zu(this,n[6]||"",!0),this.i=tc(n[7]||"")):(this.a=!!e,this.b=new uc(null,this.a))}function Ku(t){return new Wu(t)}function Gu(t,e,n){t.f=n?tc(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Yu(t,e,n){t.c=n?tc(e,!0):e}function Xu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Zu(t,e,n){e instanceof uc?(t.b=e,function(t,e){e&&!t.f&&(cc(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(lc(this,e),dc(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=ec(e,sc)),t.b=new uc(e,t.a))}function Ju(t,e,n){t.b.set(e,n)}function $u(t){return Ju(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ns()).toString(36)),t}function tc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ec(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,nc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function nc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Wu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ec(e,rc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ec(e,rc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ec(n,"/"==n.charAt(0)?oc:ic,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ec(n,ac)),t.join("")};var rc=/[#\/\?@]/g,ic=/[#\?:]/g,oc=/[#\?]/g,sc=/[#\?@]/g,ac=/#/g;function uc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function cc(t){t.a||(t.a=new qu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function lc(t,e){cc(t),e=fc(t,e),Qu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Qu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Hu(t)))}function hc(t,e){return cc(t),e=fc(t,e),Qu(t.a.b,e)}function dc(t,e,n){lc(t,e),0<n.length&&(t.c=null,t.a.set(fc(t,e),Us(n)),t.b+=n.length)}function fc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(_s=uc.prototype).add=function(t,e){cc(this),this.c=null,t=fc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},_s.forEach=function(t,e){cc(this),this.a.forEach((function(n,r){Ls(n,(function(n){t.call(e,n,r,this)}),this)}),this)},_s.L=function(){cc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},_s.K=function(t){cc(this);var e=[];if("string"==typeof t)hc(this,t)&&(e=Fs(e,this.a.get(fc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Fs(e,t[n])}return e},_s.set=function(t,e){return cc(this),this.c=null,hc(this,t=fc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},_s.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},_s.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var pc=function(){return function(t,e){this.b=t,this.a=e}}();function gc(t){this.g=t||bc,t=Es.PerformanceNavigationTiming?0<(t=Es.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Es.ja&&Es.ja.za&&Es.ja.za()&&Es.ja.za().Qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var bc=10;function mc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function yc(t){return t.b?1:t.a?t.a.size:0}function vc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function wc(t,e){t.a?t.a.add(e):t.b=e}function _c(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Cc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=ws(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Us(t.c)}function xc(){}function Ec(){this.a=new xc}function Oc(t,e,n){var r=n||"";try{Bu(t,(function(t,n){var i=t;As(t)&&(i=Ba(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Tw){throw e.push(r+"type="+encodeURIComponent("_badmap")),Tw}}function Sc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}gc.prototype.cancel=function(){var t,e;if(this.c=Cc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ws(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},xc.prototype.stringify=function(t){return Es.JSON.stringify(t,void 0)},xc.prototype.parse=function(t){return Es.JSON.parse(t,void 0)};var Ac=Es.JSON.parse;function kc(t){La.call(this),this.headers=new qu,this.l=t||null,this.b=!1,this.u=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.m=this.A=!1,this.s=0,this.o=null,this.I=Ic,this.F=this.G=!1}Ds(kc,La);var Ic="",Tc=/^https?$/i,Pc=["POST","PUT"];function Rc(t){return"content-type"==t.toLowerCase()}function jc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Nc(t),Mc(t)}function Nc(t){t.A||(t.A=!0,Fa(t,"complete"),Fa(t,"error"))}function Dc(t){if(t.b&&void 0!==xs&&(!t.u[1]||4!=Lc(t)||2!=t.W()))if(t.m&&4==Lc(t))tu(t.Aa,0,t);else if(Fa(t,"readystatechange"),4==Lc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.C).match(zu)[1]||null;if(!o&&Es.self&&Es.self.location){var s=Es.self.location.protocol;o=s.substr(0,s.length-1)}i=!Tc.test(o?o.toLowerCase():"")}e=i}if(e)Fa(t,"complete"),Fa(t,"success");else{t.h=6;try{var a=2<Lc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Nc(t)}}finally{Mc(t)}}}function Mc(t,e){if(t.a){Vc(t);var n=t.a,r=t.u[0]?Os:null;t.a=null,t.u=null,e||Fa(t,"ready");try{n.onreadystatechange=r}catch(Tw){}}}function Vc(t){t.a&&t.F&&(t.a.ontimeout=null),t.o&&(Es.clearTimeout(t.o),t.o=null)}function Lc(t){return t.a?t.a.readyState:0}function Fc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Gs(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ju(t,e,n))}function Uc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Bc(t){this.qa=0,this.g=[],this.c=new au,this.ha=this.ma=this.B=this.ga=this.a=this.oa=this.A=this.V=this.i=this.O=this.l=null,this.Pa=this.R=0,this.Ma=Uc("failFast",!1,t),this.G=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.pa=this.P=-1,this.T=this.o=this.u=0,this.Ia=Uc("baseRetryDelayMs",5e3,t),this.Sa=Uc("retryDelaySeedMs",1e4,t),this.Na=Uc("forwardChannelMaxRetries",2,t),this.na=Uc("forwardChannelRequestTimeoutMs",2e4,t),this.Oa=t&&t.xmlHttpFactory||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new gc(t&&t.concurrentRequestLimit),this.la=new Ec,this.ea=t&&t.fastHandshake||!1,this.Ja=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.ea&&this.S&&t&&t.detectBufferingProxy||!1,this.fa=void 0,this.N=0,this.F=!1,this.s=null,(this.La=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function qc(t){if(Qc(t),3==t.v){var e=t.R++,n=Ku(t.B);Ju(n,"SID",t.J),Ju(n,"RID",e),Ju(n,"TYPE","terminate"),Gc(t,n),(e=new Au(t,t.c,e,void 0)).G=2,e.i=$u(Ku(n)),n=!1,Es.navigator&&Es.navigator.sendBeacon&&(n=Es.navigator.sendBeacon(e.i.toString(),"")),!n&&Es.Image&&((new Image).src=e.i,n=!0),n||(e.a=sl(e.g,null),e.a.ba(e.i)),e.u=Ns(),Du(e)}il(t)}function Hc(t){t.a&&(Jc(t),t.a.cancel(),t.a=null)}function Qc(t){Hc(t),t.j&&(Es.clearTimeout(t.j),t.j=null),tl(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Es.clearTimeout(t.h),t.h=null)}function zc(t,e){t.g.push(new pc(t.Pa++,e)),3==t.v&&Wc(t)}function Wc(t){mc(t.b)||t.h||(t.h=!0,Ga(t.Ca,t),t.u=0)}function Kc(t,e){var n;n=e?e.f:t.R++;var r=Ku(t.B);Ju(r,"SID",t.J),Ju(r,"RID",n),Ju(r,"AID",t.P),Gc(t,r),t.i&&t.l&&Fc(r,t.i,t.l),n=new Au(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Yc(t,n,1e3),n.setTimeout(Math.round(.5*t.na)+Math.round(.5*t.na*Math.random())),wc(t.b,n),Pu(n,r,e)}function Gc(t,e){t.f&&Bu({},(function(t,n){Ju(e,n,t)}))}function Yc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Rs(t.f.Ka,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Oc(l,s,"req"+c+"_")}catch(Hl){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Xc(t){t.a||t.j||(t.T=1,Ga(t.Ba,t),t.o=0)}function Zc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=mu(Rs(t.Ba,t),nl(t,t.o)),t.o++,0))}function Jc(t){null!=t.s&&(Es.clearTimeout(t.s),t.s=null)}function $c(t){t.a=new Au(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ku(t.ma);Ju(e,"RID","rpc"),Ju(e,"SID",t.J),Ju(e,"CI",t.G?"0":"1"),Ju(e,"AID",t.P),Gc(t,e),Ju(e,"TYPE","xmlhttp"),t.i&&t.l&&Fc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ha,n.G=1,n.i=$u(Ku(e)),n.j=null,n.I=!0,Ru(n,t)}function tl(t){null!=t.m&&(Es.clearTimeout(t.m),t.m=null)}function el(t,e){var n=null;if(t.a==e){tl(t),Jc(t),t.a=null;var r=2}else{if(!vc(t.b,e))return;n=e.s,_c(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ns()-e.u;var i=t.u;Fa(r=hu(),new bu(r,n,e,i)),Wc(t)}else Xc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(yc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ma?0:t.Na)||(t.h=mu(Rs(t.Ca,t,e),nl(t,t.u)),t.u++,0)))}(t,e)||2==r&&Zc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:rl(t,5);break;case 4:rl(t,10);break;case 3:rl(t,6);break;default:rl(t,2)}}function nl(t,e){var n=t.Ia+Math.floor(Math.random()*t.Sa);return t.f||(n*=2),n*e}function rl(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Rs(t.cb,t);n||(n=new Wu("//www.google.com/images/cleardot.gif"),Es.location&&"http"==Es.location.protocol||Gu(n,"https"),$u(n)),function(t,e){var n=new au;if(Es.Image){var r=new Image;r.onload=js(Sc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=js(Sc,n,r,"TestLoadImage: error",!1,e),r.onabort=js(Sc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=js(Sc,n,r,"TestLoadImage: timeout",!1,e),Es.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else gu(2);t.v=0,t.f&&t.f.sa(e),il(t),Qc(t)}function il(t){t.v=0,t.I=-1,t.f&&(0==Cc(t.b).length&&0==t.g.length||(t.b.c.length=0,Us(t.g),t.g.length=0),t.f.ra())}function ol(t,e,n){var r=function(t){return t instanceof Wu?Ku(t):new Wu(t,void 0)}(n);if(""!=r.c)e&&Yu(r,e+"."+r.c),Xu(r,r.h);else{var i=Es.location;r=function(t,e,n,r){var i=new Wu(null,void 0);return t&&Gu(i,t),e&&Yu(i,e),n&&Xu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Gs(t.V,(function(t,e){Ju(r,e,t)})),n=t.oa,(e=t.A)&&n&&Ju(r,e,n),Ju(r,"VER",t.ia),Gc(t,r),r}function sl(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new kc(t.Oa)).G=t.C,e}function al(){}function ul(){if(na&&!(10<=Number(fa)))throw Error("Environmental error: no available transport.")}function cl(t,e){La.call(this),this.a=new Bc(e),this.g=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Bs(t)&&(this.a.i=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bs(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new dl(this)}function ll(t){Eu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function hl(){Ou.call(this),this.status=1}function dl(t){this.a=t}function fl(t){this.f=t}function pl(t){La.call(this),this.u=t,this.h=void 0,this.readyState=gl,this.status=0,this.responseType=this.responseText=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.o="",this.a=!1,this.m=this.f=this.g=null}(_s=kc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.l?this.l.a():Cu.a(),this.u=function(t){return t.b||(t.b=t.c())}(this.l?this.l:Cu),this.a.onreadystatechange=Rs(this.Aa,this);try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(o){return void jc(this,o)}t=n||"";var i=new qu(this.headers);r&&Bu(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Rc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Es.FormData&&t instanceof Es.FormData,!(0<=Vs(Pc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.G&&(this.a.withCredentials=this.G);try{Vc(this),0<this.s&&((this.F=function(t){return na&&da(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.s,this.a.ontimeout=Rs(this.ya,this)):this.o=tu(this.ya,this.s,this)),this.m=!0,this.a.send(t),this.m=!1}catch(o){jc(this,o)}},_s.ya=function(){void 0!==xs&&this.a&&(this.f="Timed out after "+this.s+"ms, aborting",this.h=8,Fa(this,"timeout"),this.abort(8))},_s.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Fa(this,"complete"),Fa(this,"abort"),Mc(this))},_s.H=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Mc(this,!0)),kc.X.H.call(this)},_s.Aa=function(){this.j||(this.B||this.m||this.g?Dc(this):this.Za())},_s.Za=function(){Dc(this)},_s.W=function(){try{return 2<Lc(this)?this.a.status:-1}catch(ta){return-1}},_s.$=function(){try{return this.a?this.a.responseText:""}catch(ta){return""}},_s.Qa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ac(e)}},_s.va=function(){return this.h},_s.Ra=function(){return"string"==typeof this.f?this.f:String(this.f)},(_s=Bc.prototype).ia=8,_s.v=1,_s.Ca=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Au(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Zs(r=Ys(r),this.O):r=this.O),null===this.i&&(n.B=r),this.ea)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Yc(this,n,e),Ju(i=Ku(this.B),"RID",t),Ju(i,"CVER",22),this.A&&Ju(i,"X-HTTP-Session-Id",this.A),Gc(this,i),this.i&&r&&Fc(i,this.i,r),wc(this.b,n),this.Ja&&Ju(i,"TYPE","init"),this.ea?(Ju(i,"$req",e),Ju(i,"SID","null"),n.U=!0,Pu(n,i,null)):Pu(n,i,e),this.v=2}}else 3==this.v&&(t?Kc(this,t):0==this.g.length||mc(this.b)||Kc(this))},_s.Ba=function(){if(this.j=null,$c(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=mu(Rs(this.Ya,this),t)}},_s.Ya=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.F=!0,gu(10),Hc(this),$c(this))},_s.Xa=function(){null!=this.m&&(this.m=null,Hc(this),Zc(this),gu(19))},_s.cb=function(t){t?(this.c.info("Successfully pinged google.com"),gu(2)):(this.c.info("Failed to ping google.com"),gu(1))},(_s=al.prototype).ua=function(){},_s.ta=function(){},_s.sa=function(){},_s.ra=function(){},_s.Ka=function(){},ul.prototype.a=function(t,e){return new cl(t,e)},Ds(cl,La),cl.prototype.h=function(){this.a.f=this.f,this.o&&(this.a.C=!0);var t=this.a,e=this.g,n=this.b||void 0;gu(0),t.ga=e,t.V=n||{},t.G=t.S,t.B=ol(t,null,t.ga),Wc(t)},cl.prototype.close=function(){qc(this.a)},cl.prototype.l=function(t){if("string"==typeof t){var e={};e.__data__=t,zc(this.a,e)}else this.m?((e={}).__data__=Ba(t),zc(this.a,e)):zc(this.a,t)},cl.prototype.H=function(){this.a.f=null,delete this.f,qc(this.a),delete this.a,cl.X.H.call(this)},Ds(ll,Eu),Ds(hl,Ou),Ds(dl,al),dl.prototype.ua=function(){Fa(this.a,"a")},dl.prototype.ta=function(t){Fa(this.a,new ll(t))},dl.prototype.sa=function(t){Fa(this.a,new hl(t))},dl.prototype.ra=function(){Fa(this.a,"b")},Ds(fl,wu),fl.prototype.a=function(){return new pl(this.f)},fl.prototype.c=function(t){return function(){return t}}({}),Ds(pl,La);var gl=0;function bl(t){t.f.read().then(t.Ta.bind(t)).catch(t.ca.bind(t))}function ml(t){t.readyState=4,t.g=null,t.f=null,t.m=null,yl(t)}function yl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(_s=pl.prototype).open=function(t,e){if(this.readyState!=gl)throw this.abort(),Error("Error reopening a connection");this.s=t,this.o=e,this.readyState=1,yl(this)},_s.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.o,e)).then(this.Wa.bind(this),this.ca.bind(this))},_s.abort=function(){this.responseText="",this.l=new Headers,this.status=0,this.f&&this.f.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ml(this)),this.readyState=gl},_s.Wa=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,yl(this)),this.a&&(this.readyState=3,yl(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.Ua.bind(this),this.ca.bind(this)):void 0!==Es.ReadableStream&&"body"in t?(this.responseText="",this.f=t.body.getReader(),this.m=new TextDecoder,bl(this)):t.text().then(this.Va.bind(this),this.ca.bind(this)))))},_s.Ta=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.responseText+=e),t.done?ml(this):yl(this),3==this.readyState&&bl(this)}},_s.Va=function(t){this.a&&(this.responseText=t,ml(this))},_s.Ua=function(){this.a&&ml(this)},_s.ca=function(){this.a&&ml(this)},_s.setRequestHeader=function(t,e){this.l.append(t,e)},_s.getResponseHeader=function(t){return this.b&&this.b.get(t.toLowerCase())||""},_s.getAllResponseHeaders=function(){if(!this.b)return"";for(var t=[],e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(pl.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),ul.prototype.createWebChannel=ul.prototype.a,cl.prototype.send=cl.prototype.l,cl.prototype.open=cl.prototype.h,cl.prototype.close=cl.prototype.close,yu.NO_ERROR=0,yu.TIMEOUT=8,yu.HTTP_ERROR=6,vu.COMPLETE="complete",_u.EventType=xu,xu.OPEN="a",xu.CLOSE="b",xu.ERROR="c",xu.MESSAGE="d",La.prototype.listen=La.prototype.wa,kc.prototype.listenOnce=kc.prototype.xa,kc.prototype.getLastError=kc.prototype.Ra,kc.prototype.getLastErrorCode=kc.prototype.va,kc.prototype.getStatus=kc.prototype.W,kc.prototype.getResponseJson=kc.prototype.Qa,kc.prototype.getResponseText=kc.prototype.$,kc.prototype.send=kc.prototype.ba;var vl=yu,wl=vu,_l=cu,Cl=fl,xl=_u,El=kc,Ol=n("30Go"),Sl=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Sl.o=-1;var Al={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},kl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Ol.c)(e,t),e}(Error),Il=new ys.b("@firebase/firestore");function Tl(){return Il.logLevel}function Pl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Il.logLevel<=ys.a.DEBUG){var r=e.map(Nl);Il.debug.apply(Il,Object(Ol.f)(["Firestore (8.6.5): "+t],r))}}function Rl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Il.logLevel<=ys.a.ERROR){var r=e.map(Nl);Il.error.apply(Il,Object(Ol.f)(["Firestore (8.6.5): "+t],r))}}function jl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Il.logLevel<=ys.a.WARN){var r=e.map(Nl);Il.warn.apply(Il,Object(Ol.f)(["Firestore (8.6.5): "+t],r))}}function Nl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Tw){return t}}function Dl(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.5) INTERNAL ASSERTION FAILED: "+t;throw Rl(e),new Error(e)}function Ml(t,e){t||Dl()}function Vl(t,e){return t}function Ll(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Fl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ll(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Ul(t,e){return t<e?-1:t>e?1:0}function Bl(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function ql(t){return t+"\0"}var Hl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new kl(Al.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new kl(Al.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new kl(Al.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new kl(Al.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Ul(this.nanoseconds,t.nanoseconds):Ul(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ql=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Hl(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function zl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Kl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Gl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Dl(),void 0===n?n=t.length-e:n>t.length-e&&Dl(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Yl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ol.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new kl(Al.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Gl),Xl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ol.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Xl.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new kl(Al.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new kl(Al.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new kl(Al.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new kl(Al.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Gl),Jl=function(){function t(t){this.fields=t,t.sort(Zl.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Bl(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),$l=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Ul(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();$l.EMPTY_BYTE_STRING=new $l("");var th=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eh(t){if(Ml(!!t),"string"==typeof t){var e=0,n=th.exec(t);if(Ml(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:nh(t.seconds),nanos:nh(t.nanos)}}function nh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function rh(t){return"string"==typeof t?$l.fromBase64String(t):$l.fromUint8Array(t)}function ih(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function oh(t){var e=eh(t.mapValue.fields.__local_write_time__.timestampValue);return new Hl(e.seconds,e.nanos)}function sh(t){return null==t}function ah(t){return 0===t&&1/t==-1/0}function uh(t){return"number"==typeof t&&Number.isInteger(t)&&!ah(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ch=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Yl.fromString(e))},t.fromName=function(e){return new t(Yl.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Yl.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Yl.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Yl(e.slice()))},t}();function lh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ih(t)?4:10:Dl()}function hh(t,e){var n=lh(t);if(n!==lh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oh(t).isEqual(oh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=eh(t.timestampValue),r=eh(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return rh(t.bytesValue).isEqual(rh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return nh(t.geoPointValue.latitude)===nh(e.geoPointValue.latitude)&&nh(t.geoPointValue.longitude)===nh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return nh(t.integerValue)===nh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=nh(t.doubleValue),r=nh(e.doubleValue);return n===r?ah(n)===ah(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Bl(t.arrayValue.values||[],e.arrayValue.values||[],hh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(zl(n)!==zl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!hh(n[i],r[i])))return!1;return!0}(t,e);default:return Dl()}}function dh(t,e){return void 0!==(t.values||[]).find((function(t){return hh(t,e)}))}function fh(t,e){var n=lh(t),r=lh(e);if(n!==r)return Ul(n,r);switch(n){case 0:return 0;case 1:return Ul(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=nh(t.integerValue||t.doubleValue),r=nh(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ph(t.timestampValue,e.timestampValue);case 4:return ph(oh(t),oh(e));case 5:return Ul(t.stringValue,e.stringValue);case 6:return function(t,e){var n=rh(t),r=rh(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ul(n[i],r[i]);if(0!==o)return o}return Ul(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ul(nh(t.latitude),nh(e.latitude));return 0!==n?n:Ul(nh(t.longitude),nh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=fh(n[i],r[i]);if(o)return o}return Ul(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Ul(r[s],o[s]);if(0!==a)return a;var u=fh(n[r[s]],i[o[s]]);if(0!==u)return u}return Ul(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Dl()}}function ph(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ul(t,e);var n=eh(t),r=eh(e),i=Ul(n.seconds,r.seconds);return 0!==i?i:Ul(n.nanos,r.nanos)}function gh(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=eh(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?rh(e.bytesValue).toBase64():"referenceValue"in e?ch.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Dl();var n}(t)}function bh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function mh(t){return!!t&&"integerValue"in t}function yh(t){return!!t&&"arrayValue"in t}function vh(t){return!!t&&"nullValue"in t}function wh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _h(t){return!!t&&"mapValue"in t}function Ch(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},eh(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return Wl(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=Ch(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ch(t.arrayValue.values[r]);return n}return Object.assign({},t)}var xh=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!_h(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ch(e)},t.prototype.setAll=function(t){var e=this,n=Zl.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Ch(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());_h(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return hh(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];_h(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Wl(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Ch(this.value))},t}();function Eh(t){var e=[];return Wl(t.fields,(function(t,n){var r=new Zl([t]);if(_h(n)){var i=Eh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Jl(e)}var Oh=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Ql.min(),xh.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,xh.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,xh.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=xh.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=xh.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Sh=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Ah(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Sh(t,e,n,r,i,o,s)}function kh(t){var e=Vl(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+gh(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Bh(e.startAt)),e.endAt&&(n+="|ub:",n+=Bh(e.endAt)),e.h=n}return e.h}function Ih(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Hh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!hh(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zh(t.startAt,e.startAt)&&zh(t.endAt,e.endAt)}function Th(t){return ch.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ph=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Ol.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Rh(t,n,r):"array-contains"===n?new Mh(t,r):"in"===n?new Vh(t,r):"not-in"===n?new Lh(t,r):"array-contains-any"===n?new Fh(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new jh(t,n):new Nh(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(fh(e,this.value)):null!==e&&lh(this.value)===lh(e)&&this.m(fh(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Dl()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Rh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ch.fromName(r.referenceValue),i}return Object(Ol.c)(e,t),e.prototype.matches=function(t){var e=ch.comparator(t.key,this.key);return this.m(e)},e}(Ph),jh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Dh(0,n),r}return Object(Ol.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ph),Nh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Dh(0,n),r}return Object(Ol.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ph);function Dh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return ch.fromName(t.referenceValue)}))}var Mh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Ol.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return yh(e)&&dh(e.arrayValue,this.value)},e}(Ph),Vh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Ol.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&dh(this.value.arrayValue,e)},e}(Ph),Lh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Ol.c)(e,t),e.prototype.matches=function(t){if(dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!dh(this.value.arrayValue,e)},e}(Ph),Fh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Ol.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!yh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return dh(e.value.arrayValue,t)}))},e}(Ph),Uh=function(t,e){this.position=t,this.before=e};function Bh(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return gh(t)})).join(",")}var qh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Hh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Qh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?ch.comparator(ch.fromName(s.referenceValue),n.key):fh(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function zh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!hh(t.position[n],e.position[n]))return!1;return!0}var Wh=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Kh(t,e,n,r,i,o,s,a){return new Wh(t,e,n,r,i,o,s,a)}function Gh(t){return new Wh(t)}function Yh(t){return!sh(t.limit)&&"F"===t.limitType}function Xh(t){return!sh(t.limit)&&"L"===t.limitType}function Zh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Jh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function $h(t){return null!==t.collectionGroup}function td(t){var e=Vl(t);if(null===e.p){e.p=[];var n=Jh(e),r=Zh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new qh(n)),e.p.push(new qh(Zl.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new qh(Zl.keyField(),u))}}}return e.p}function ed(t){var e=Vl(t);if(!e.T)if("F"===e.limitType)e.T=Ah(e.path,e.collectionGroup,td(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=td(e);r<i.length;r++){var o=i[r];n.push(new qh(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Uh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Uh(e.startAt.position,!e.startAt.before):null;e.T=Ah(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function nd(t,e,n){return new Wh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rd(t,e){return Ih(ed(t),ed(e))&&t.limitType===e.limitType}function id(t){return kh(ed(t))+"|lt:"+t.limitType}function od(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+gh(e.value);var e})).join(", ")+"]"),sh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Bh(t.startAt)),t.endAt&&(e+=", endAt: "+Bh(t.endAt)),"Target("+e+")"}(ed(t))+"; limitType="+t.limitType+")"}function sd(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ch.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Qh(t.startAt,td(t),e)||t.endAt&&Qh(t.endAt,td(t),e))}(t,e)}function ad(t){return function(e,n){for(var r=!1,i=0,o=td(t);i<o.length;i++){var s=o[i],a=ud(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function ud(t,e,n){var r=t.field.isKeyField()?ch.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?fh(r,i):Dl()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Dl()}}function cd(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function ld(t){return{integerValue:""+t}}function hd(t,e){return uh(e)?ld(e):cd(t,e)}var dd=function(){this._=void 0};function fd(t,e,n){return t instanceof bd?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof md?yd(t,e):t instanceof vd?wd(t,e):function(t,e){var n=gd(t,e),r=Cd(n)+Cd(t.A);return mh(n)&&mh(t.A)?ld(r):cd(t.R,r)}(t,e)}function pd(t,e,n){return t instanceof md?yd(t,e):t instanceof vd?wd(t,e):n}function gd(t,e){return t instanceof _d?mh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var bd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ol.c)(e,t),e}(dd),md=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ol.c)(e,t),e}(dd);function yd(t,e){for(var n=xd(e),r=function(t){n.some((function(e){return hh(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var vd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ol.c)(e,t),e}(dd);function wd(t,e){for(var n=xd(e),r=function(t){n=n.filter((function(e){return!hh(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var _d=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Ol.c)(e,t),e}(dd);function Cd(t){return nh(t.integerValue||t.doubleValue)}function xd(t){return yh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ed=function(t,e){this.field=t,this.transform=e},Od=function(t,e){this.version=t,this.transformResults=e},Sd=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ad(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var kd=function(){};function Id(t,e,n){t instanceof Nd?function(t,e,n){var r=t.value.clone(),i=Vd(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Dd?function(t,e,n){if(Ad(t.precondition,e)){var r=Vd(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Md(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Td(t,e,n){t instanceof Nd?function(t,e,n){if(Ad(t.precondition,e)){var r=t.value.clone(),i=Ld(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(jd(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Dd?function(t,e,n){if(Ad(t.precondition,e)){var r=Ld(t.fieldTransforms,n,e),i=e.data;i.setAll(Md(t)),i.setAll(r),e.convertToFoundDocument(jd(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Ad(t.precondition,e)&&e.convertToNoDocument(Ql.min())}(t,e)}function Pd(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=gd(o.transform,s||null);null!=a&&(null==n&&(n=xh.empty()),n.set(o.field,a))}return n||null}function Rd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Bl(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof md&&e instanceof md||t instanceof vd&&e instanceof vd?Bl(t.elements,e.elements,hh):t instanceof _d&&e instanceof _d?hh(t.A,e.A):t instanceof bd&&e instanceof bd}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function jd(t){return t.isFoundDocument()?t.version:Ql.min()}var Nd=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(Ol.c)(e,t),e}(kd),Dd=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(Ol.c)(e,t),e}(kd);function Md(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Vd(t,e,n){var r=new Map;Ml(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,pd(s,a,n[i]))}return r}function Ld(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,fd(a,u,e))}return r}var Fd,Ud,Bd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Ol.c)(e,t),e}(kd),qd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Ol.c)(e,t),e}(kd),Hd=function(t){this.count=t};function Qd(t){switch(t){case Al.OK:return Dl();case Al.CANCELLED:case Al.UNKNOWN:case Al.DEADLINE_EXCEEDED:case Al.RESOURCE_EXHAUSTED:case Al.INTERNAL:case Al.UNAVAILABLE:case Al.UNAUTHENTICATED:return!1;case Al.INVALID_ARGUMENT:case Al.NOT_FOUND:case Al.ALREADY_EXISTS:case Al.PERMISSION_DENIED:case Al.FAILED_PRECONDITION:case Al.ABORTED:case Al.OUT_OF_RANGE:case Al.UNIMPLEMENTED:case Al.DATA_LOSS:return!0;default:return Dl()}}function zd(t){if(void 0===t)return Rl("GRPC error has no .code"),Al.UNKNOWN;switch(t){case Fd.OK:return Al.OK;case Fd.CANCELLED:return Al.CANCELLED;case Fd.UNKNOWN:return Al.UNKNOWN;case Fd.DEADLINE_EXCEEDED:return Al.DEADLINE_EXCEEDED;case Fd.RESOURCE_EXHAUSTED:return Al.RESOURCE_EXHAUSTED;case Fd.INTERNAL:return Al.INTERNAL;case Fd.UNAVAILABLE:return Al.UNAVAILABLE;case Fd.UNAUTHENTICATED:return Al.UNAUTHENTICATED;case Fd.INVALID_ARGUMENT:return Al.INVALID_ARGUMENT;case Fd.NOT_FOUND:return Al.NOT_FOUND;case Fd.ALREADY_EXISTS:return Al.ALREADY_EXISTS;case Fd.PERMISSION_DENIED:return Al.PERMISSION_DENIED;case Fd.FAILED_PRECONDITION:return Al.FAILED_PRECONDITION;case Fd.ABORTED:return Al.ABORTED;case Fd.OUT_OF_RANGE:return Al.OUT_OF_RANGE;case Fd.UNIMPLEMENTED:return Al.UNIMPLEMENTED;case Fd.DATA_LOSS:return Al.DATA_LOSS;default:return Dl()}}(Ud=Fd||(Fd={}))[Ud.OK=0]="OK",Ud[Ud.CANCELLED=1]="CANCELLED",Ud[Ud.UNKNOWN=2]="UNKNOWN",Ud[Ud.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ud[Ud.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ud[Ud.NOT_FOUND=5]="NOT_FOUND",Ud[Ud.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ud[Ud.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ud[Ud.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ud[Ud.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ud[Ud.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ud[Ud.ABORTED=10]="ABORTED",Ud[Ud.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ud[Ud.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ud[Ud.INTERNAL=13]="INTERNAL",Ud[Ud.UNAVAILABLE=14]="UNAVAILABLE",Ud[Ud.DATA_LOSS=15]="DATA_LOSS";var Wd=function(){function t(t,e){this.comparator=t,this.root=e||Gd.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gd.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gd.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Kd(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Kd(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Kd(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Kd(this.root,t,this.comparator,!0)},t}(),Kd=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Gd=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Dl();if(this.right.isRed())throw Dl();var t=this.left.check();if(t!==this.right.check())throw Dl();return t+(this.isRed()?0:1)},t}();Gd.EMPTY=null,Gd.RED=!0,Gd.BLACK=!1,Gd.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Dl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Dl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Dl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Dl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Dl()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Gd(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Yd=function(){function t(t){this.comparator=t,this.data=new Wd(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Xd(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Xd(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Xd=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Zd=new Wd(ch.comparator);function Jd(){return Zd}var $d=new Wd(ch.comparator);function tf(){return $d}var ef=new Wd(ch.comparator);function nf(){return ef}var rf=new Yd(ch.comparator);function of(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=rf,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var sf=new Yd(Ul);function af(){return sf}var uf=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,cf.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Ql.min(),r,af(),Jd(),of())},t}(),cf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t($l.EMPTY_BYTE_STRING,n,of(),of(),of())},t}(),lf=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},hf=function(t,e){this.targetId=t,this.V=e},df=function(t,e,n,r){void 0===n&&(n=$l.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ff=function(){function t(){this.S=0,this.D=bf(),this.C=$l.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=of(),e=of(),n=of();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Dl()}})),new cf(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=bf()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),pf=function(){function t(t){this.W=t,this.G=new Map,this.H=Jd(),this.J=gf(),this.Y=new Yd(Ul)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Dl()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Th(i))if(0===n){var o=new ch(i.path);this.tt(e,o,Oh.newNoDocument(o,Ql.min()))}else Ml(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Th(o.target)){var s=new ch(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Oh.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=of();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new uf(t,n,this.Y,this.H,r);return this.H=Jd(),this.J=gf(),this.Y=new Yd(Ul),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new ff,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Yd(Ul),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Pl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new ff),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function gf(){return new Wd(ch.comparator)}function bf(){return new Wd(ch.comparator)}var mf={asc:"ASCENDING",desc:"DESCENDING"},yf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vf=function(t,e){this.databaseId=t,this.I=e};function wf(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function _f(t,e){return t.I?e.toBase64():e.toUint8Array()}function Cf(t,e){return wf(t,e.toTimestamp())}function xf(t){return Ml(!!t),Ql.fromTimestamp(function(t){var e=eh(t);return new Hl(e.seconds,e.nanos)}(t))}function Ef(t,e){return function(t){return new Yl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Of(t){var e=Yl.fromString(t);return Ml(Gf(e)),e}function Sf(t,e){return Ef(t.databaseId,e.path)}function Af(t,e){var n=Of(e);if(n.get(1)!==t.databaseId.projectId)throw new kl(Al.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new kl(Al.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ch(Pf(n))}function kf(t,e){return Ef(t.databaseId,e)}function If(t){var e=Of(t);return 4===e.length?Yl.emptyPath():Pf(e)}function Tf(t){return new Yl(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Pf(t){return Ml(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Rf(t,e,n){return{name:Sf(t,e),fields:n.value.mapValue.fields}}function jf(t,e,n){var r=Af(t,e.name),i=xf(e.updateTime),o=new xh({mapValue:{fields:e.fields}}),s=Oh.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Nf(t,e){var n;if(e instanceof Nd)n={update:Rf(t,e.key,e.value)};else if(e instanceof Bd)n={delete:Sf(t,e.key)};else if(e instanceof Dd)n={update:Rf(t,e.key,e.data),updateMask:Kf(e.fieldMask)};else{if(!(e instanceof qd))return Dl();n={verify:Sf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof bd)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof md)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof vd)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _d)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Dl()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Cf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Dl()}(t,e.precondition)),n}function Df(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Sd.updateTime(xf(t.updateTime)):void 0!==t.exists?Sd.exists(t.exists):Sd.none()}(e.currentDocument):Sd.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Ml("REQUEST_TIME"===e.setToServerValue),n=new bd):"appendMissingElements"in e?n=new md(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new vd(e.removeAllFromArray.values||[]):"increment"in e?n=new _d(t,e.increment):Dl();var r=Zl.fromServerFormat(e.fieldPath);return new Ed(r,n)}(t,e)})):[];if(e.update){var i=Af(t,e.update.name),o=new xh({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Jl((t.fieldPaths||[]).map((function(t){return Zl.fromServerFormat(t)})))}(e.updateMask);return new Dd(i,o,s,n,r)}return new Nd(i,o,n,r)}if(e.delete){var a=Af(t,e.delete);return new Bd(a,n)}if(e.verify){var u=Af(t,e.verify);return new qd(u,n)}return Dl()}function Mf(t,e){return{documents:[kf(t,e.path)]}}function Vf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=kf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=kf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(wh(t.value))return{unaryFilter:{field:Hf(t.field),op:"IS_NAN"}};if(vh(t.value))return{unaryFilter:{field:Hf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(wh(t.value))return{unaryFilter:{field:Hf(t.field),op:"IS_NOT_NAN"}};if(vh(t.value))return{unaryFilter:{field:Hf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hf(t.field),op:qf(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Hf(t.field),direction:Bf(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||sh(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Ff(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ff(e.endAt)),n}function Lf(t){var e=If(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ml(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Wf(e)]:void 0!==e.fieldFilter?[zf(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Dl():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new qh(Qf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return sh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Uf(n.startAt));var l=null;return n.endAt&&(l=Uf(n.endAt)),Kh(e,i,a,s,u,"F",c,l)}function Ff(t){return{before:t.before,values:t.position}}function Uf(t){return new Uh(t.values||[],!!t.before)}function Bf(t){return mf[t]}function qf(t){return yf[t]}function Hf(t){return{fieldPath:t.canonicalString()}}function Qf(t){return Zl.fromServerFormat(t.fieldPath)}function zf(t){return Ph.create(Qf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Dl()}}(t.fieldFilter.op),t.fieldFilter.value)}function Wf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Qf(t.unaryFilter.field);return Ph.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Qf(t.unaryFilter.field);return Ph.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Qf(t.unaryFilter.field);return Ph.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Qf(t.unaryFilter.field);return Ph.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Dl()}}function Kf(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Gf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Yf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Zf(e)),e=Xf(t.get(n),e);return Zf(e)}function Xf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Zf(t){return t+"\x01\x01"}function Jf(t){var e=t.length;if(Ml(e>=2),2===e)return Ml("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Yl.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Dl(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Dl()}o=s+2}return new Yl(r)}var $f=function(t,e){this.seconds=t,this.nanoseconds=e},tp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};tp.store="owner",tp.key="owner";var ep=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ep.store="mutationQueues",ep.keyPath="userId";var np=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};np.store="mutations",np.keyPath="batchId",np.userMutationsIndex="userMutationsIndex",np.userMutationsKeyPath=["userId","batchId"];var rp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Yf(e)]},t.key=function(t,e,n){return[t,Yf(e),n]},t}();rp.store="documentMutations",rp.PLACEHOLDER=new rp;var ip=function(t,e){this.path=t,this.readTime=e},op=function(t,e){this.path=t,this.version=e},sp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};sp.store="remoteDocuments",sp.readTimeIndex="readTimeIndex",sp.readTimeIndexPath="readTime",sp.collectionReadTimeIndex="collectionReadTimeIndex",sp.collectionReadTimeIndexPath=["parentPath","readTime"];var ap=function(t){this.byteSize=t};ap.store="remoteDocumentGlobal",ap.key="remoteDocumentGlobalKey";var up=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};up.store="targets",up.keyPath="targetId",up.queryTargetsIndexName="queryTargetsIndex",up.queryTargetsKeyPath=["canonicalId","targetId"];var cp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};cp.store="targetDocuments",cp.keyPath=["targetId","path"],cp.documentTargetsIndex="documentTargetsIndex",cp.documentTargetsKeyPath=["path","targetId"];var lp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};lp.key="targetGlobalKey",lp.store="targetGlobal";var hp=function(t,e){this.collectionId=t,this.parent=e};hp.store="collectionParents",hp.keyPath=["collectionId","parent"];var dp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};dp.store="clientMetadata",dp.keyPath="clientId";var fp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};fp.store="bundles",fp.keyPath="bundleId";var pp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};pp.store="namedQueries",pp.keyPath="name";var gp=Object(Ol.f)(Object(Ol.f)([],Object(Ol.f)(Object(Ol.f)([],Object(Ol.f)(Object(Ol.f)([],Object(Ol.f)(Object(Ol.f)([],[ep.store,np.store,rp.store,sp.store,up.store,tp.store,lp.store,cp.store]),[dp.store])),[ap.store])),[hp.store])),[fp.store,pp.store]),bp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",mp=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),yp=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},vp=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Dl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),wp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new yp,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new xp(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=kp(e.target.error);n.ft.reject(new xp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new xp(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Pl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Op(e)},t}(),_p=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(ms.j)())&&Rl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Pl("SimpleDb","Removing database:",t),Sp(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(ms.j)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Ol.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Ol.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Pl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new xp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new kl(Al.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new xp(t,n))},i.onupgradeneeded=function(t){Pl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Pl("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Ol.b)(this,void 0,void 0,(function(){var i,o,s,a,u;return Object(Ol.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Ol.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=wp.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),vp.reject(t)})).toPromise(),u={},s.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Pl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Cp=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Sp(this.Pt.delete())},t}(),xp=function(t){function e(e,n){var r=this;return(r=t.call(this,Al.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Ol.c)(e,t),e}(kl);function Ep(t){return"IndexedDbTransactionError"===t.name}var Op=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Pl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Pl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Sp(n)},t.prototype.add=function(t){return Pl("SimpleDb","ADD",this.store.name,t,t),Sp(this.store.add(t))},t.prototype.get=function(t){var e=this;return Sp(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Pl("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Pl("SimpleDb","DELETE",this.store.name,t),Sp(this.store.delete(t))},t.prototype.count=function(){return Pl("SimpleDb","COUNT",this.store.name),Sp(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){Pl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new vp((function(n,r){e.onerror=function(t){var e=kp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new vp((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Cp(i),s=e(i.primaryKey,i.value,o);if(s instanceof vp){var a=s.catch((function(t){return o.done(),vp.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return vp.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Sp(t){return new vp((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=kp(t.target.error);n(e)}}))}var Ap=!1;function kp(t){var e=_p._t(Object(ms.j)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new kl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ap||(Ap=!0,setTimeout((function(){throw r}),0)),r}}return t}var Ip=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Ol.c)(e,t),e}(mp);function Tp(t,e){var n=Vl(t);return _p.It(n.Mt,e)}var Pp=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Id(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Td(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Td(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ql.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),of())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Bl(this.mutations,t.mutations,(function(t,e){return Rd(t,e)}))&&Bl(this.baseMutations,t.baseMutations,(function(t,e){return Rd(t,e)}))},t}(),Rp=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Ml(e.mutations.length===r.length);for(var i=nf(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),jp=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Ql.min()),void 0===o&&(o=Ql.min()),void 0===s&&(s=$l.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Np=function(t){this.Lt=t};function Dp(t,e){if(e.document)return jf(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ch.fromSegments(e.noDocument.path),r=Up(e.noDocument.readTime),i=Oh.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=ch.fromSegments(e.unknownDocument.path);return r=Up(e.unknownDocument.version),Oh.newUnknownDocument(o,r)}return Dl()}function Mp(t,e,n){var r=Vp(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Sf(t,e.key),fields:e.data.value.mapValue.fields,updateTime:wf(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new sp(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Fp(e.version);return s=e.hasCommittedMutations,new sp(null,new ip(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Fp(e.version);return new sp(new op(c,l),null,null,!0,r,i)}return Dl()}function Vp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Lp(t){var e=new Hl(t[0],t[1]);return Ql.fromTimestamp(e)}function Fp(t){var e=t.toTimestamp();return new $f(e.seconds,e.nanoseconds)}function Up(t){var e=new Hl(t.seconds,t.nanoseconds);return Ql.fromTimestamp(e)}function Bp(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Df(t.Lt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return Df(t.Lt,e)})),o=Hl.fromMillis(e.localWriteTimeMs);return new Pp(e.batchId,o,n,i)}function qp(t){var e,n,r=Up(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Up(t.lastLimboFreeSnapshotVersion):Ql.min();return void 0!==t.query.documents?(Ml(1===(n=t.query).documents.length),e=ed(Gh(If(n.documents[0])))):e=function(t){return ed(Lf(t))}(t.query),new jp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,$l.fromBase64String(t.resumeToken))}function Hp(t,e){var n,r=Fp(e.snapshotVersion),i=Fp(e.lastLimboFreeSnapshotVersion);n=Th(e.target)?Mf(t.Lt,e.target):Vf(t.Lt,e.target);var o=e.resumeToken.toBase64();return new up(e.targetId,kh(e.target),r,o,e.sequenceNumber,i,n)}function Qp(t){var e=Lf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?nd(e,e.limit,"L"):e}var zp=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Wp(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Up(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Wp(t).put({bundleId:(n=e).id,createTime:Fp(xf(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Kp(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Qp(e.bundledQuery),readTime:Up(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Kp(t).put(function(t){return{name:t.name,readTime:Fp(xf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Wp(t){return Tp(t,fp.store)}function Kp(t){return Tp(t,pp.store)}var Gp=function(){function t(){this.Bt=new Yp}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),vp.resolve()},t.prototype.getCollectionParents=function(t,e){return vp.resolve(this.Bt.getEntries(e))},t}(),Yp=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Yd(Yl.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Yd(Yl.comparator)).toArray()},t}(),Xp=function(){function t(){this.qt=new Yp}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Yf(i)};return Zp(t).put(o)}return vp.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ql(e),""],!1,!0);return Zp(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Jf(o.parent))}return n}))},t}();function Zp(t){return Tp(t,hp.store)}var Jp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$p=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function tg(t,e,n){var r=t.store(np.store),i=t.store(rp.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Ml(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=rp.key(e,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return vp.waitFor(o).next((function(){return c}))}function eg(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Dl();e=t.noDocument}return JSON.stringify(e).length}$p.DEFAULT_COLLECTION_PERCENTILE=10,$p.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$p.DEFAULT=new $p(41943040,$p.DEFAULT_COLLECTION_PERCENTILE,$p.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$p.DISABLED=new $p(-1,0,0);var ng=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Ml(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ig(t).$t({index:np.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=og(t),s=ig(t);return s.add({}).next((function(a){Ml("number"==typeof a);for(var u=new Pp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Nf(t.Lt,e)})),i=n.mutations.map((function(e){return Nf(t.Lt,e)}));return new np(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Yd((function(t,e){return Ul(t.canonicalString(),e.canonicalString())})),d=0,f=r;d<f.length;d++){var p=f[d],g=rp.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,rp.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[a]=u.keys()})),vp.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return ig(t).get(e).next((function(t){return t?(Ml(t.userId===n.userId),Bp(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?vp.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ig(t).$t({index:np.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Ml(e.batchId>=r),o=Bp(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ig(t).$t({index:np.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ig(t).Nt(np.userMutationsIndex,n).next((function(t){return t.map((function(t){return Bp(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=rp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return og(t).$t({range:i},(function(r,i,s){var a=r[0],u=r[2],c=Jf(r[1]);if(a===n.userId&&e.path.isEqual(c))return ig(t).get(u).next((function(t){if(!t)throw Dl();Ml(t.userId===n.userId),o.push(Bp(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Yd(Ul),i=[];return e.forEach((function(e){var o=rp.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=og(t).$t({range:s},(function(t,i,o){var s=t[0],a=t[2],u=Jf(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),vp.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=rp.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Yd(Ul);return og(t).$t({range:s},(function(t,e,o){var s=t[0],u=t[2],c=Jf(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(ig(t).get(e).next((function(t){if(null===t)throw Dl();Ml(t.userId===n.userId),r.push(Bp(n.R,t))})))})),vp.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return tg(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),vp.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return vp.resolve();var r=IDBKeyRange.lowerBound(rp.prefixForUser(e.userId)),i=[];return og(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Jf(t[1]);i.push(o)}else r.done()})).next((function(){Ml(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return rg(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return sg(t).get(this.userId).next((function(t){return t||new ep(e.userId,-1,"")}))},t}();function rg(t,e,n){var r=rp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return og(t).$t({range:o,kt:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function ig(t){return Tp(t,np.store)}function og(t){return Tp(t,rp.store)}function sg(t){return Tp(t,ep.store)}var ag=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),ug=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new ag(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Ql.fromTimestamp(new Hl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return cg(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Ml(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return cg(t).$t((function(s,a){var u=qp(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return vp.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return cg(t).$t((function(t,n){var r=qp(n);e(r)}))},t.prototype.Xt=function(t){return lg(t).get(lp.key).next((function(t){return Ml(null!==t),t}))},t.prototype.Zt=function(t,e){return lg(t).put(lp.key,e)},t.prototype.te=function(t,e){return cg(t).put(Hp(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=kh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return cg(t).$t({range:r,index:up.queryTargetsIndexName},(function(t,n,r){var o=qp(n);Ih(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=hg(t);return e.forEach((function(e){var s=Yf(e.path);i.push(o.put(new cp(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),vp.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=hg(t);return vp.forEach(e,(function(e){var o=Yf(e.path);return vp.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=hg(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=hg(t),i=of();return r.$t({range:n,kt:!0},(function(t,e,n){var r=Jf(t[1]),o=new ch(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Yf(e.path),r=IDBKeyRange.bound([n],[ql(n)],!1,!0),i=0;return hg(t).$t({index:cp.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return cg(t).get(e).next((function(t){return t?qp(t):null}))},t}();function cg(t){return Tp(t,up.store)}function lg(t){return Tp(t,lp.store)}function hg(t){return Tp(t,cp.store)}function dg(t){return Object(Ol.b)(this,void 0,void 0,(function(){return Object(Ol.d)(this,(function(e){if(t.code!==Al.FAILED_PRECONDITION||t.message!==bp)throw t;return Pl("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function fg(t,e){var n=t[1],r=e[1],i=Ul(t[0],e[0]);return 0===i?Ul(n,r):i}var pg=function(){function t(t){this.ne=t,this.buffer=new Yd(fg),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();fg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),gg=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Pl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(Ol.b)(e,void 0,void 0,(function(){var e;return Object(Ol.d)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ep(e=n.sent())?(Pl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,dg(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),bg=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return vp.resolve(Sl.o);var r=new pg(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Pl("LruGarbageCollector","Garbage collection skipped; disabled"),vp.resolve(Jp)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Pl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Jp):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(Pl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Tl()<=ys.a.DEBUG&&Pl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),vp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),mg=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new bg(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return yg(t,n)},t.prototype.removeReference=function(t,e,n){return yg(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return yg(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return sg(t).Ot((function(r){return rg(t,r,e).next((function(t){return t&&(n=!0),vp.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),hg(t).delete([0,Yf(s.path)])}))}));i.push(u)}})).next((function(){return vp.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return yg(t,e)},t.prototype.we=function(t,e){var n,r=hg(t),i=Sl.o;return r.$t({index:cp.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Sl.o&&e(new ch(Jf(n)),i),i=s,n=o):i=Sl.o})).next((function(){i!==Sl.o&&e(new ch(Jf(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function yg(t,e){return hg(t).put(function(t,e){return new cp(0,Yf(t.path),e)}(e,t.currentSequenceNumber))}var vg=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Wl(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return Kl(this.inner)},t}(),wg=function(){function t(){this.changes=new vg((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Ql.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Oh.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?vp.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),_g=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Eg(t).put(Og(e),n)},t.prototype.removeEntry=function(t,e){var n=Eg(t),r=Og(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Eg(t).get(Og(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Eg(t).get(Og(e)).next((function(t){return{document:n.ye(e,t),size:eg(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Jd();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Jd(),i=new Wd(ch.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,eg(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return vp.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Eg(t).$t({range:r},(function(t,e,r){for(var s=ch.fromSegments(t);o&&ch.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Jd(),o=e.path.length+1,s={};if(n.isEqual(Ql.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Vp(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=sp.collectionReadTimeIndex}return Eg(t).$t(s,(function(t,n,s){if(t.length===o){var a=Dp(r.R,n);e.path.isPrefixOf(a.key.path)?sd(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new Cg(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return xg(t).get(ap.key).next((function(t){return Ml(!!t),t}))},t.prototype.me=function(t,e){return xg(t).put(ap.key,e)},t.prototype.ye=function(t,e){if(e){var n=Dp(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Ql.min()))return n}return Oh.newInvalidDocument(t)},t}(),Cg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new vg((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Ol.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Yd((function(t,e){return Ul(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Mp(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=eg(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Mp(e.Ie.R,Oh.newNoDocument(o,Ql.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),vp.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(wg);function xg(t){return Tp(t,ap.store)}function Eg(t){return Tp(t,sp.store)}function Og(t){return t.path.toArray()}var Sg=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Ml(n<r&&n>=0&&r<=11);var o=new wp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(tp.store)}(t),function(t){t.createObjectStore(ep.store,{keyPath:ep.keyPath}),t.createObjectStore(np.store,{keyPath:np.keyPath,autoIncrement:!0}).createIndex(np.userMutationsIndex,np.userMutationsKeyPath,{unique:!0}),t.createObjectStore(rp.store)}(t),Ag(t),function(t){t.createObjectStore(sp.store)}(t));var s=vp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(cp.store),t.deleteObjectStore(up.store),t.deleteObjectStore(lp.store)}(t),Ag(t)),s=s.next((function(){return function(t){var e=t.store(lp.store),n=new lp(0,0,Ql.min().toTimestamp(),0);return e.put(lp.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(np.store).Nt().next((function(n){t.deleteObjectStore(np.store),t.createObjectStore(np.store,{keyPath:np.keyPath,autoIncrement:!0}).createIndex(np.userMutationsIndex,np.userMutationsKeyPath,{unique:!0});var r=e.store(np.store),i=n.map((function(t){return r.put(t)}));return vp.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(dp.store,{keyPath:dp.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(ap.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(sp.store);e.createIndex(sp.readTimeIndex,sp.readTimeIndexPath,{unique:!1}),e.createIndex(sp.collectionReadTimeIndex,sp.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(fp.store,{keyPath:fp.keyPath})}(t),function(t){t.createObjectStore(pp.store,{keyPath:pp.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(sp.store).$t((function(t,n){e+=eg(n)})).next((function(){var n=new ap(e);return t.store(ap.store).put(ap.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(ep.store),r=t.store(np.store);return n.Nt().next((function(n){return vp.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(np.userMutationsIndex,i).next((function(r){return vp.forEach(r,(function(r){Ml(r.userId===n.userId);var i=Bp(e.R,r);return tg(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(cp.store),n=t.store(sp.store);return t.store(lp.store).get(lp.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new Yl(n),s=function(t){return[0,Yf(t)]}(o);r.push(e.get(s).next((function(n){return n?vp.resolve():function(n){return e.put(new cp(0,Yf(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return vp.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(hp.store,{keyPath:hp.keyPath});var n=e.store(hp.store),r=new Yp,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Yf(i)})}};return e.store(sp.store).$t({kt:!0},(function(t,e){var n=new Yl(t);return i(n.popLast())})).next((function(){return e.store(rp.store).$t({kt:!0},(function(t,e){var n=Jf(t[1]);return i(n.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(up.store);return n.$t((function(t,r){var i=qp(r),o=Hp(e.R,i);return n.put(o)}))},t}();function Ag(t){t.createObjectStore(cp.store,{keyPath:cp.keyPath}).createIndex(cp.documentTargetsIndex,cp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(up.store,{keyPath:up.keyPath}).createIndex(up.queryTargetsIndexName,up.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(lp.store)}var kg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ig=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new kl(Al.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mg(this,i),this.Le=n+"main",this.R=new Np(u),this.Be=new _p(this.Le,11,new Sg(this.R)),this.qe=new ug(this.referenceDelegate,this.R),this.Ut=new Xp,this.Ue=function(t,e){return new _g(t,e)}(this.R,this.Ut),this.Qe=new zp,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Rl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new kl(Al.FAILED_PRECONDITION,kg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Sl(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Ol.b)(e,void 0,void 0,(function(){return Object(Ol.d)(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Object(Ol.b)(e,void 0,void 0,(function(){return Object(Ol.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Object(Ol.b)(e,void 0,void 0,(function(){return Object(Ol.d)(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Pg(e).put(new dp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Ep(e))return Pl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Pl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Tg(t).get(tp.key).next((function(t){return vp.resolve(e.tn(t))}))},t.prototype.en=function(t){return Pg(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Ol.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(Ol.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Tp(t,dp.store);return e.Nt().next((function(t){var n=r.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return vp.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?vp.resolve(!0):Tg(t).get(tp.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new kl(Al.FAILED_PRECONDITION,kg);return!1}}return!(!e.networkEnabled||!e.inForeground)||Pg(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Pl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Object(Ol.b)(this,void 0,void 0,(function(){var t=this;return Object(Ol.d)(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[tp.store,dp.store],(function(e){var n=new Ip(e,Sl.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Pg(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return ng.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Pl("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",gp,(function(o){return r=new Ip(o,i.Ne?i.Ne.next():Sl.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw Rl("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new kl(Al.FAILED_PRECONDITION,bp);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Tg(t).get(tp.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new kl(Al.FAILED_PRECONDITION,kg)}))},t.prototype.Ze=function(t){var e=new tp(this.clientId,this.allowTabSynchronization,Date.now());return Tg(t).put(tp.key,e)},t.yt=function(){return _p.yt()},t.prototype.Xe=function(t){var e=this,n=Tg(t);return n.get(tp.key).next((function(t){return e.tn(t)?(Pl("IndexedDbPersistence","Releasing primary lease."),n.delete(tp.key)):vp.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Rl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Pl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Rl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Rl("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Tg(t){return Tp(t,tp.store)}function Pg(t){return Tp(t,dp.store)}function Rg(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var jg=function(t,e){this.progress=t,this.wn=e},Ng=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ch.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):$h(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new ch(e)).next((function(t){var e=tf();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=tf();return this.Ut.getCollectionParents(t,i).next((function(s){return vp.forEach(s,(function(s){var a=function(t,e){return new Wh(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.Rn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Oh.newInvalidDocument(c),r=r.insert(c,l)),Td(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){sd(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=of(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Dd&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Dg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=of(),i=of(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Mg=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Ql.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var s=i.Cn(e,o);return(Yh(e)||Xh(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Tl()<=ys.a.DEBUG&&Pl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),od(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Yd(ad(t));return e.forEach((function(e,r){sd(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Tl()<=ys.a.DEBUG&&Pl("QueryEngine","Using full collection scan to execute query:",od(e)),this.Sn.getDocumentsMatchingQuery(t,e,Ql.min())},t}(),Vg=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Wd(Ul),this.kn=new vg((function(t){return kh(t)}),Ih),this.$n=Ql.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Ng(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();function Lg(t,e,n,r){return new Vg(t,e,n,r)}function Fg(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Ol.d)(this,(function(s){switch(s.label){case 0:return n=Vl(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Ng(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=of(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,b=p.mutations;g<b.length;g++)s=s.add(b[g].key)}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Ug(t,e){var n=Vl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=vp.resolve();return o.forEach((function(t){s=s.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Ml(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),s.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function Bg(t){var e=Vl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function qg(t,e){var n=Vl(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Ml(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}}));var a=Jd();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(Hg(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(Ql.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return vp.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.Fn=i,t}))}function Hg(t,e,n,r,i){var o=of();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Jd();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Ql.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Pl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function Qg(t,e){var n=Vl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function zg(t,e){var n=Vl(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?vp.resolve(r=i):n.qe.allocateTargetId(t).next((function(i){return r=new jp(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function Wg(t,e,n){return Object(Ol.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Ol.d)(this,(function(a){switch(a.label){case 0:r=Vl(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Ep(s=a.sent()))throw s;return Pl("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function Kg(t,e,n){var r=Vl(t),i=Ql.min(),o=of();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Vl(t),i=r.kn.get(n);return void 0!==i?vp.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,ed(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Ql.min(),n?o:of())})).next((function(t){return{documents:t,Bn:o}}))}))}function Gg(t,e){var n=Vl(t),r=Vl(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Yg(t){var e=Vl(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Vl(t),i=Jd(),o=Vp(n),s=Eg(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:sp.readTimeIndex,range:a},(function(t,e){var n=Dp(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:Lp(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn;return e.$n=t.readTime,n}))}function Xg(t){return Object(Ol.b)(this,void 0,void 0,(function(){var e;return Object(Ol.d)(this,(function(n){return[2,(e=Vl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Eg(t),n=Ql.min();return e.$t({index:sp.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Lp(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function Zg(t,e,n,r){return Object(Ol.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,d,f;return Object(Ol.d)(this,(function(p){switch(p.label){case 0:for(i=Vl(t),o=of(),s=Jd(),a=nf(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,zg(i,function(t){return ed(Gh(Yl.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Hg(t,d,s,Ql.min(),a).next((function(e){return d.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next((function(){return i.qe.addMatchingKeys(t,o,f.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Jg(t,e,n){return void 0===n&&(n=of()),Object(Ol.b)(this,void 0,void 0,(function(){var r,i;return Object(Ol.d)(this,(function(o){switch(o.label){case 0:return[4,zg(t,ed(Qp(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Vl(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=xf(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken($l.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(t,e)}))}))]}}))}))}var $g=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return vp.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:xf(n.createTime)}),vp.resolve()},t.prototype.getNamedQuery=function(t,e){return vp.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Qp(t.bundledQuery),readTime:xf(t.readTime)}}(e)),vp.resolve()},t}(),tb=function(){function t(){this.Wn=new Yd(eb.Gn),this.zn=new Yd(eb.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new eb(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new eb(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new ch(new Yl([])),r=new eb(n,t),i=new eb(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new ch(new Yl([])),n=new eb(e,t),r=new eb(e,t+1),i=of();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new eb(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),eb=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return ch.comparator(t.key,e.key)||Ul(t.ns,e.ns)},t.Hn=function(t,e){return Ul(t.ns,e.ns)||ch.comparator(t.key,e.key)},t}(),nb=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Yd(eb.Gn)}return t.prototype.checkEmpty=function(t){return vp.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Pp(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new eb(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return vp.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return vp.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return vp.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return vp.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return vp.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new eb(e,0),i=new eb(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),vp.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Yd(Ul);return e.forEach((function(t){var e=new eb(t,0),i=new eb(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),vp.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ch.isDocumentKey(i)||(i=i.child(""));var o=new eb(new ch(i),0),s=new Yd(Ul);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),vp.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Ml(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return vp.forEach(e.mutations,(function(i){var o=new eb(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new eb(e,0),r=this.rs.firstAfterOrEqual(n);return vp.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return vp.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),rb=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Wd(ch.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return vp.resolve(n?n.document.clone():Oh.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Jd();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Oh.newInvalidDocument(t))})),vp.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Jd(),i=new ch(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||sd(e,u)&&(r=r.insert(u.key,u.clone()))}return vp.resolve(r)},t.prototype.fs=function(t,e){return vp.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new ib(this)},t.prototype.getSize=function(t){return vp.resolve(this.size)},t}(),ib=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Ol.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),vp.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(wg),ob=function(){function t(t){this.persistence=t,this.ds=new vg((function(t){return kh(t)}),Ih),this.lastRemoteSnapshotVersion=Ql.min(),this.highestTargetId=0,this.ws=0,this._s=new tb,this.targetCount=0,this.ys=ag.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),vp.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return vp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return vp.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),vp.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),vp.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new ag(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,vp.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),vp.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,vp.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),vp.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return vp.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return vp.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),vp.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),vp.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),vp.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return vp.resolve(n)},t.prototype.containsKey=function(t,e){return vp.resolve(this._s.containsKey(e))},t}(),sb=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Sl(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new ob(this),this.Ut=new Gp,this.Ue=function(t,e){return new rb(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Np(e),this.Qe=new $g(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new nb(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Pl("MemoryPersistence","Starting transaction:",t);var i=new ab(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return vp.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),ab=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Ol.c)(e,t),e}(mp),ub=function(){function t(t){this.persistence=t,this.As=new tb,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Dl()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),vp.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),vp.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),vp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vp.forEach(this.vs,(function(r){var i=ch.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return vp.or([function(){return vp.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),cb=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function lb(t,e){return"firestore_clients_"+t+"_"+e}function hb(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function db(t,e){return"firestore_targets_"+t+"_"+e}cb.UNAUTHENTICATED=new cb(null),cb.GOOGLE_CREDENTIALS=new cb("google-credentials-uid"),cb.FIRST_PARTY=new cb("first-party-uid");var fb=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new kl(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Rl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),pb=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new kl(i.error.code,i.error.message)),o?new t(e,i.state,r):(Rl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),gb=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=af(),s=0;i&&s<r.activeTargetIds.length;++s)i=uh(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Rl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),bb=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Rl("SharedClientState","Failed to parse online state: "+e),null)},t}(),mb=function(){function t(){this.activeTargetIds=af()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),yb=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Wd(Ul),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=lb(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new mb),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Ol.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Ol.d)(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(lb(this.persistenceKey,r)))&&(o=gb.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(db(this.persistenceKey,t));if(n){var r=pb.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(db(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Pl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Pl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Pl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Pl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Rl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Object(Ol.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(Ol.d)(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Sl.o;if(null!=t)try{var n=JSON.parse(t);Ml("number"==typeof n),e=n}catch(t){Rl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Sl.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new fb(this.currentUser,t,e,n),i=hb(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=hb(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=db(this.persistenceKey,t),i=new pb(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return gb.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return fb.Vs(new cb(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return pb.Vs(r,e)},t.prototype.js=function(t){return bb.Vs(t)},t.prototype.ii=function(t){return Object(Ol.b)(this,void 0,void 0,(function(){return Object(Ol.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Pl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=af();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),vb=function(){function t(){this.li=new mb,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new mb,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),wb=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),_b=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Pl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Pl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Cb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},xb=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Eb=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(Ol.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var s=new El;s.listenOnce(wl.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case vl.NO_ERROR:var e=s.getResponseJson();Pl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case vl.TIMEOUT:Pl("Connection",'RPC "'+t+'" timed out'),o(new kl(Al.DEADLINE_EXCEEDED,"Request time out"));break;case vl.HTTP_ERROR:var n=s.getStatus();if(Pl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Al).indexOf(e)>=0?e:Al.UNKNOWN}(r.status);o(new kl(a,r.message))}else o(new kl(Al.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new kl(Al.UNAVAILABLE,"Connection failed."));break;default:Dl()}}finally{Pl("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ul,i=hu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Cl({})),this.Fi(o.initMessageHeaders,e),Object(ms.o)()||Object(ms.q)()||Object(ms.m)()||Object(ms.n)()||Object(ms.r)()||Object(ms.l)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Pl("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new xb({Ei:function(t){c?Pl("Connection","Not sending because WebChannel is closed:",t):(u||(Pl("Connection","Opening WebChannel transport."),a.open(),u=!0),Pl("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,xl.EventType.OPEN,(function(){c||Pl("Connection","WebChannel transport opened.")})),h(a,xl.EventType.CLOSE,(function(){c||(c=!0,Pl("Connection","WebChannel transport closed"),l.Vi())})),h(a,xl.EventType.ERROR,(function(t){c||(c=!0,jl("Connection","WebChannel transport errored:",t),l.Vi(new kl(Al.UNAVAILABLE,"The operation could not be completed")))})),h(a,xl.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Ml(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Pl("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Fd[t];if(void 0!==e)return zd(e)}(i),s=r.message;void 0===o&&(o=Al.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new kl(o,s)),a.close()}else Pl("Connection","WebChannel received:",n),l.Si(n)}})),h(i,_l.STAT_EVENT,(function(t){10===t.stat?Pl("Connection","Detected buffering proxy"):11===t.stat&&Pl("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Pl("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return Pl("RestConnection","Received: ",t),t}),(function(e){throw jl("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.5",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Cb[t]},t}());function Ob(){return"undefined"!=typeof window?window:null}function Sb(){return"undefined"!=typeof document?document:null}function Ab(t){return new vf(t,!0)}var kb=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Pl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Ib=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new kb(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Ol.b)(this,void 0,void 0,(function(){return Object(Ol.d)(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Ol.b)(this,void 0,void 0,(function(){return Object(Ol.d)(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){return Object(Ol.d)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Al.RESOURCE_EXHAUSTED?(Rl(e.toString()),Rl("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Al.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new kl(Al.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Object(Ol.b)(t,void 0,void 0,(function(){return Object(Ol.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Pl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Pl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Tb=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(Ol.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Dl()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Ml(void 0===e||"string"==typeof e),$l.fromBase64String(e||"")):(Ml(void 0===e||e instanceof Uint8Array),$l.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Al.UNKNOWN:zd(t.code);return new kl(e,t.message||"")}(a);n=new df(r,i,o,s||null)}else if("documentChange"in e){i=Af(t,(r=e.documentChange).document.name),o=xf(r.document.updateTime);var a=new xh({mapValue:{fields:r.document.fields}}),u=(s=Oh.newFoundDocument(i,o,a),r.targetIds||[]);n=new lf(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Af(t,(r=e.documentDelete).document),o=r.readTime?xf(r.readTime):Ql.min(),a=Oh.newNoDocument(i,o),n=new lf([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Af(t,(r=e.documentRemove).document),n=new lf([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Dl();var c=e.filter;i=new Hd(r=c.count||0),n=new hf(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Ql.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ql.min():e.readTime?xf(e.readTime):Ql.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Tf(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Th(r)?{documents:Mf(t,r)}:{query:Vf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=_f(t,e.resumeToken):e.snapshotVersion.compareTo(Ql.min())>0&&(n.readTime=wf(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dl()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Tf(this.R),e.removeTarget=t,this.cr(e)},e}(Ib),Pb=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(Ol.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Ml(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Ml(void 0!==e),t.map((function(t){return function(t,e){var n=xf(t.updateTime?t.updateTime:e);return n.isEqual(Ql.min())&&(n=xf(e)),new Od(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=xf(t.commitTime);return this.listener.Tr(n,e)}return Ml(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Tf(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Nf(e.R,t)}))};this.cr(n)},e}(Ib),Rb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Ol.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new kl(Al.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Al.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new kl(Al.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Al.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new kl(Al.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),jb=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Rl(e),this.Vr=!1):Pl("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Nb=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Object(Ol.b)(o,void 0,void 0,(function(){return Object(Ol.d)(this,(function(t){switch(t.label){case 0:return Hb(this)?(Pl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Ol.b)(this,void 0,void 0,(function(){var e;return Object(Ol.d)(this,(function(n){switch(n.label){case 0:return(e=Vl(t)).Or.add(4),[4,Mb(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Db(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new jb(n,r)};function Db(t){return Object(Ol.b)(this,void 0,void 0,(function(){var e,n;return Object(Ol.d)(this,(function(r){switch(r.label){case 0:if(!Hb(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Mb(t){return Object(Ol.b)(this,void 0,void 0,(function(){var e,n;return Object(Ol.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Vb(t,e){var n=Vl(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),qb(n)?Bb(n):im(n).er()&&Fb(n,e))}function Lb(t,e){var n=Vl(t),r=im(n);n.$r.delete(e),r.er()&&Ub(n,e),0===n.$r.size&&(r.er()?r.ir():Hb(n)&&n.Br.set("Unknown"))}function Fb(t,e){t.qr.U(e.targetId),im(t).mr(e)}function Ub(t,e){t.qr.U(e),im(t).yr(e)}function Bb(t){t.qr=new pf({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),im(t).start(),t.Br.Sr()}function qb(t){return Hb(t)&&!im(t).tr()&&t.$r.size>0}function Hb(t){return 0===Vl(t).Or.size}function Qb(t){t.qr=void 0}function zb(t){return Object(Ol.b)(this,void 0,void 0,(function(){return Object(Ol.d)(this,(function(e){return t.$r.forEach((function(e,n){Fb(t,e)})),[2]}))}))}function Wb(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){return Object(Ol.d)(this,(function(n){return Qb(t),qb(t)?(t.Br.Nr(e),Bb(t)):t.Br.set("Unknown"),[2]}))}))}function Kb(t,e,n){return Object(Ol.b)(this,void 0,void 0,(function(){var r,i,o;return Object(Ol.d)(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof df&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Ol.d)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Pl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Gb(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof lf?t.qr.X(e):e instanceof hf?t.qr.rt(e):t.qr.et(e),n.isEqual(Ql.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Bg(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken($l.EMPTY_BYTE_STRING,n.snapshotVersion)),Ub(t,e);var r=new jp(n.target,e,1,n.sequenceNumber);Fb(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Pl("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Gb(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Gb(t,e,n){return Object(Ol.b)(this,void 0,void 0,(function(){var r=this;return Object(Ol.d)(this,(function(i){switch(i.label){case 0:if(!Ep(e))throw e;return t.Or.add(1),[4,Mb(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Bg(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Object(Ol.b)(r,void 0,void 0,(function(){return Object(Ol.d)(this,(function(e){switch(e.label){case 0:return Pl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Db(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Yb(t,e){return e().catch((function(n){return Gb(t,n,e)}))}function Xb(t){return Object(Ol.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(Ol.d)(this,(function(s){switch(s.label){case 0:e=Vl(t),n=om(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Hb(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Qg(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=om(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Gb(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Zb(e)&&Jb(e),[2]}}))}))}function Zb(t){return Hb(t)&&!om(t).tr()&&t.kr.length>0}function Jb(t){om(t).start()}function $b(t){return Object(Ol.b)(this,void 0,void 0,(function(){return Object(Ol.d)(this,(function(e){return om(t).Ar(),[2]}))}))}function tm(t){return Object(Ol.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Ol.d)(this,(function(i){for(e=om(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]}))}))}function em(t,e,n){return Object(Ol.b)(this,void 0,void 0,(function(){var r,i;return Object(Ol.d)(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Rp.from(r,e,n),[4,Yb(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Xb(t)];case 2:return o.sent(),[2]}}))}))}function nm(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){return Object(Ol.d)(this,(function(n){switch(n.label){case 0:return e&&om(t).pr?[4,function(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r;return Object(Ol.d)(this,(function(i){switch(i.label){case 0:return Qd(r=e.code)&&r!==Al.ABORTED?(n=t.kr.shift(),om(t).sr(),[4,Yb(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Xb(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Zb(t)&&Jb(t),[2]}}))}))}function rm(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n;return Object(Ol.d)(this,(function(r){switch(r.label){case 0:return n=Vl(t),e?(n.Or.delete(2),[4,Db(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Mb(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function im(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Vl(t);return r.br(),new Tb(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:zb.bind(null,t),Ri:Wb.bind(null,t),_r:Kb.bind(null,t)}),t.Mr.push((function(n){return Object(Ol.b)(e,void 0,void 0,(function(){return Object(Ol.d)(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),qb(t)?Bb(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Qb(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function om(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Vl(t);return r.br(),new Pb(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:$b.bind(null,t),Ri:nm.bind(null,t),Ir:tm.bind(null,t),Tr:em.bind(null,t)}),t.Mr.push((function(n){return Object(Ol.b)(e,void 0,void 0,(function(){return Object(Ol.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Xb(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Pl("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qr}var sm=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new yp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kl(Al.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function am(t,e){if(Rl("AsyncQueue",e+": "+t),Ep(t))return new kl(Al.UNAVAILABLE,e+": "+t);throw t}var um=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ch.comparator(e.key,n.key)}:function(t,e){return ch.comparator(t.key,e.key)},this.keyedMap=tf(),this.sortedSet=new Wd(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),cm=function(){function t(){this.Kr=new Wd(ch.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Dl():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),lm=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,um.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),hm=function(){this.Wr=void 0,this.listeners=[]},dm=function(){this.queries=new vg((function(t){return id(t)}),rd),this.onlineState="Unknown",this.Gr=new Set};function fm(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(Ol.d)(this,(function(c){switch(c.label){case 0:if(n=Vl(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new hm),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=am(a,"Initialization of query '"+od(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&mm(n),[2]}}))}))}function pm(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Ol.d)(this,(function(a){return n=Vl(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function gm(t,e){for(var n=Vl(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&mm(n)}function bm(t,e,n){var r=Vl(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function mm(t){t.Gr.forEach((function(t){t.next()}))}var ym=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new lm(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=lm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),vm=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),wm=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Af(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?jf(this.R,t.document,!1):Oh.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return xf(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new wm(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||of()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Ol.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(Ol.d)(this,(function(o){switch(o.label){case 0:return[4,Zg(this.localStore,new wm(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Jg(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new jg(Object.assign({},this.progress),t))]}}))}))}}();var _m=function(t){this.key=t},Cm=function(t){this.key=t},xm=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=of(),this.mutatedKeys=of(),this.lo=ad(t),this.fo=new um(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new cm,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Yh(this.query)&&i.size===this.query.limit?i.last():null,c=Xh(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=sd(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Yh(this.query)||Xh(this.query))for(;s.size>this.query.limit;){var l=Yh(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dl()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new lm(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new cm,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=of(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new Cm(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new _m(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=of();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return lm.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Em=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Om=function(t){this.key=t,this.bo=!1},Sm=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new vg((function(t){return id(t)}),rd),this.Vo=new Map,this.So=new Set,this.Do=new Wd(ch.comparator),this.Co=new Map,this.No=new tb,this.xo={},this.Fo=new Map,this.ko=ag.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Am(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Ol.d)(this,(function(a){switch(a.label){case 0:return n=ny(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,zg(n.localStore,ed(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,km(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Vb(n.remoteStore,o),a.label=4;case 4:return[2,r]}}))}))}function km(t,e,n,r){return Object(Ol.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Object(Ol.d)(this,(function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(Ol.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Ol.d)(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Kg(t.localStore,e.query,!1).then((function(t){return e.view._o(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Bm(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,Kg(t.localStore,e,!0)];case 1:return i=l.sent(),o=new xm(e,i.Bn),s=o._o(i.documents),a=cf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Bm(t,n,u.To),c=new Em(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Im(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ol.d)(this,(function(o){switch(o.label){case 0:return n=Vl(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!rd(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Wg(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Lb(n.remoteStore,r.targetId),Fm(n,r.targetId)})).catch(dg)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Fm(n,r.targetId),[4,Wg(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Tm(t,e,n){return Object(Ol.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Ol.d)(this,(function(a){switch(a.label){case 0:r=ry(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Vl(t),i=Hl.now(),o=e.reduce((function(t,e){return t.add(e.key)}),of());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Pd(c,n.get(c.key));null!=l&&s.push(new Dd(c.key,l,Eh(l.value.mapValue),Sd.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Wd(Ul)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Qm(r,i.changes)];case 3:return a.sent(),[4,Xb(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=am(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Pm(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r;return Object(Ol.d)(this,(function(i){switch(i.label){case 0:n=Vl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,qg(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Ml(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Ml(r.bo):t.removedDocuments.size>0&&(Ml(r.bo),r.bo=!1))})),[4,Qm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,dg(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Rm(t,e,n){var r=Vl(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Vl(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&mm(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function jm(t,e,n){return Object(Ol.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Object(Ol.d)(this,(function(c){switch(c.label){case 0:return(r=Vl(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Wd(ch.comparator)).insert(o,Oh.newNoDocument(o,Ql.min())),a=of().add(o),u=new uf(Ql.min(),new Map,new Yd(Ul),s,a),[4,Pm(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Hm(r),[3,4];case 2:return[4,Wg(r.localStore,e,!1).then((function(){return Fm(r,e,n)})).catch(dg)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Nm(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ol.d)(this,(function(o){switch(o.label){case 0:n=Vl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Ug(n.localStore,e)];case 2:return i=o.sent(),Lm(n,r,null),Vm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Qm(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,dg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Dm(t,e,n){return Object(Ol.b)(this,void 0,void 0,(function(){var r,i;return Object(Ol.d)(this,(function(o){switch(o.label){case 0:r=Vl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Vl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return Ml(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),Lm(r,e,n),Vm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Qm(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,dg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Mm(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Ol.d)(this,(function(a){switch(a.label){case 0:Hb((n=Vl(t)).remoteStore)||Pl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Vl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=am(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Vm(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function Lm(t,e,n){var r=Vl(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Fm(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Um(t,e)}))}function Um(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Lb(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Hm(t))}function Bm(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof _m?(t.No.addReference(o.key,e),qm(t,o)):o instanceof Cm?(Pl("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Um(t,o.key)):Dl()}}function qm(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Pl("SyncEngine","New document in limbo: "+n),t.So.add(r),Hm(t))}function Hm(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ch(Yl.fromString(e)),r=t.ko.next();t.Co.set(r,new Om(n)),t.Do=t.Do.insert(n,r),Vb(t.remoteStore,new jp(ed(Gh(n.path)),r,2,Sl.o))}}function Qm(t,e,n){return Object(Ol.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Ol.d)(this,(function(a){switch(a.label){case 0:return r=Vl(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.Oo(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Dg.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Object(Ol.d)(this,(function(l){switch(l.label){case 0:n=Vl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return vp.forEach(e,(function(e){return vp.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return vp.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Ep(r=l.sent()))throw r;return Pl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function zm(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r;return Object(Ol.d)(this,(function(i){switch(i.label){case 0:return(n=Vl(t)).currentUser.isEqual(e)?[3,3]:(Pl("SyncEngine","User change. New user:",e.toKey()),[4,Fg(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new kl(Al.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Qm(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Wm(t,e){var n=Vl(t),r=n.Co.get(e);if(r&&r.bo)return of().add(r.key);var i=of(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function Km(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ol.d)(this,(function(o){switch(o.label){case 0:return[4,Kg((n=Vl(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Bm(n,e.targetId,i.To),i)]}}))}))}function Gm(t){return Object(Ol.b)(this,void 0,void 0,(function(){var e;return Object(Ol.d)(this,(function(n){return[2,Yg((e=Vl(t)).localStore).then((function(t){return Qm(e,t)}))]}))}))}function Ym(t,e,n,r){return Object(Ol.b)(this,void 0,void 0,(function(){var i,o;return Object(Ol.d)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=Vl(t),r=Vl(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):vp.resolve(null)}))}))}((i=Vl(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Xb(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Lm(i,e,r||null),Vm(i,e),function(t,e){Vl(Vl(t)._n).Gt(e)}(i.localStore,e)):Dl(),s.label=4;case 4:return[4,Qm(i,o)];case 5:return s.sent(),[3,7];case 6:Pl("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function Xm(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(Ol.d)(this,(function(c){switch(c.label){case 0:return ny(n=Vl(t)),ry(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Zm(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,rm(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Vb(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then((function(){return Fm(n,e),Wg(n.localStore,e,!0)})),Lb(n.remoteStore,e)})),[4,u]);case 4:return c.sent(),[4,Zm(n,a)];case 5:return c.sent(),function(t){var e=Vl(t);e.Co.forEach((function(t,n){Lb(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Wd(ch.comparator)}(n),n.$o=!1,[4,rm(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Zm(t,e,n){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,d,f,p;return Object(Ol.d)(this,(function(g){switch(g.label){case 0:n=Vl(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,zg(n.localStore,ed(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,Km(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Gg(n.localStore,a)];case 8:return p=g.sent(),[4,zg(n.localStore,p)];case 9:return u=g.sent(),[4,km(n,Jm(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Jm(t){return Kh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function $m(t){var e=Vl(t);return Vl(Vl(e.localStore).persistence).fn()}function ty(t,e,n,r){return Object(Ol.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Ol.d)(this,(function(a){switch(a.label){case 0:return(i=Vl(t)).$o?(Pl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Yg(i.localStore)];case 3:return o=a.sent(),s=uf.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Qm(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Wg(i.localStore,e,!0)];case 6:return a.sent(),Fm(i,e,r),[3,8];case 7:Dl(),a.label=8;case 8:return[2]}}))}))}function ey(t,e,n){return Object(Ol.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h;return Object(Ol.d)(this,(function(d){switch(d.label){case 0:if(!(r=ny(t)).$o)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Pl("SyncEngine","Adding an already active target "+s),[3,5]):[4,Gg(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,zg(r.localStore,a)];case 3:return u=d.sent(),[4,km(r,Jm(a),u.targetId,!1)];case 4:d.sent(),Vb(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Ol.d)(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Wg(r.localStore,t,!1).then((function(){Lb(r.remoteStore,t),Fm(r,t)})).catch(dg)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function ny(t){var e=Vl(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jm.bind(null,e),e.vo._r=gm.bind(null,e.eventManager),e.vo.Mo=bm.bind(null,e.eventManager),e}function ry(t){var e=Vl(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dm.bind(null,e),e}var iy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Ol.b)(this,void 0,void 0,(function(){return Object(Ol.d)(this,(function(e){switch(e.label){case 0:return this.R=Ab(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Lg(this.persistence,new Mg,t.initialUser,this.R)},t.prototype.qo=function(t){return new sb(ub.bs,this.R)},t.prototype.Bo=function(t){return new vb},t.prototype.terminate=function(){return Object(Ol.b)(this,void 0,void 0,(function(){return Object(Ol.d)(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),oy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Ol.c)(e,t),e.prototype.initialize=function(e){return Object(Ol.b)(this,void 0,void 0,(function(){return Object(Ol.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Xg(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,ry(this.Ko.syncEngine)];case 4:return n.sent(),[4,Xb(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return Lg(this.persistence,new Mg,t.initialUser,this.R)},e.prototype.Uo=function(t){return new gg(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Rg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?$p.withCacheSize(this.cacheSizeBytes):$p.DEFAULT;return new Ig(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Ob(),Sb(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new vb},e}(iy),sy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Ol.c)(e,t),e.prototype.initialize=function(e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Ol.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof yb?(this.sharedClientState.syncEngine={ui:Ym.bind(null,n),ai:ty.bind(null,n),hi:ey.bind(null,n),fn:$m.bind(null,n),ci:Gm.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Object(Ol.b)(r,void 0,void 0,(function(){return Object(Ol.d)(this,(function(e){switch(e.label){case 0:return[4,Xm(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Ob();if(!yb.yt(e))throw new kl(Al.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Rg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new yb(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(oy),ay=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n=this;return Object(Ol.d)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Rm(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=zm.bind(null,this.syncEngine),[4,rm(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new dm},t.prototype.createDatastore=function(t){var e=Ab(t.databaseInfo.databaseId),n=new Eb(t.databaseInfo);return function(t,e,n){return new Rb(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Rm(s.syncEngine,t,0)},o=_b.yt()?new _b:new wb,new Nb(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Sm(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Ol.b)(this,void 0,void 0,(function(){var e;return Object(Ol.d)(this,(function(n){switch(n.label){case 0:return e=Vl(t),Pl("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Mb(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),uy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),cy=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new yp,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Ol.b)(this,void 0,void 0,(function(){return Object(Ol.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return Object(Ol.b)(this,void 0,void 0,(function(){return Object(Ol.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return Object(Ol.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(Ol.d)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new vm(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return Object(Ol.b)(this,void 0,void 0,(function(){var t,e;return Object(Ol.d)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return Object(Ol.b)(this,void 0,void 0,(function(){var e;return Object(Ol.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Ol.b)(this,void 0,void 0,(function(){var t,e;return Object(Ol.d)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Ol.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Ol.d)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new kl(Al.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(Ol.d)(this,(function(u){switch(u.label){case 0:return n=Vl(t),r=Tf(n.R)+"/documents",i={documents:e.map((function(t){return Sf(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Ml(!!e.found);var n=Af(t,e.found.name),r=xf(e.found.updateTime),i=new xh({mapValue:{fields:e.found.fields}});return Oh.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Ml(!!e.missing),Ml(!!e.readTime);var n=Af(t,e.missing),r=xf(e.readTime);return Oh.newNoDocument(n,r)}(t,e):Dl()}(n.R,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Ml(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Bd(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Ol.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Ol.d)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=ch.fromPath(n);e.mutations.push(new qd(r,e.precondition(r)))})),[4,function(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ol.d)(this,(function(o){switch(o.label){case 0:return n=Vl(t),r=Tf(n.R)+"/documents",i={writes:e.map((function(t){return Nf(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Dl();e=Ql.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new kl(Al.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Sd.updateTime(e):Sd.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ql.min()))throw new kl(Al.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sd.updateTime(e)}return Sd.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),ly=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new kb(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Object(Ol.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Ol.d)(this,(function(r){return t=new cy(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!sh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Qd(e)}return!1},t}(),hy=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=cb.UNAUTHENTICATED,this.clientId=Fl.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return Object(Ol.b)(r,void 0,void 0,(function(){return Object(Ol.d)(this,(function(e){switch(e.label){case 0:return Pl("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return Object(Ol.b)(this,void 0,void 0,(function(){return Object(Ol.d)(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new kl(Al.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new yp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(Ol.b)(t,void 0,void 0,(function(){var t,n;return Object(Ol.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=am(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function dy(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(Ol.d)(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Pl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return Object(Ol.b)(i,void 0,void 0,(function(){return Object(Ol.d)(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Fg(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function fy(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r;return Object(Ol.d)(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,py(t)];case 1:return n=i.sent(),Pl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r;return Object(Ol.d)(this,(function(i){switch(i.label){case 0:return(n=Vl(t)).asyncQueue.verifyOperationInProgress(),Pl("RemoteStore","RemoteStore received new credentials"),r=Hb(n),n.Or.add(3),[4,Mb(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Db(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function py(t){return Object(Ol.b)(this,void 0,void 0,(function(){return Object(Ol.d)(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Pl("FirestoreClient","Using default OfflineComponentProvider"),[4,dy(t,new iy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function gy(t){return Object(Ol.b)(this,void 0,void 0,(function(){return Object(Ol.d)(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Pl("FirestoreClient","Using default OnlineComponentProvider"),[4,fy(t,new ay)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function by(t){return py(t).then((function(t){return t.persistence}))}function my(t){return py(t).then((function(t){return t.localStore}))}function yy(t){return gy(t).then((function(t){return t.remoteStore}))}function vy(t){return gy(t).then((function(t){return t.syncEngine}))}function wy(t){return Object(Ol.b)(this,void 0,void 0,(function(){var e,n;return Object(Ol.d)(this,(function(r){switch(r.label){case 0:return[4,gy(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Am.bind(null,e.syncEngine),n.onUnlisten=Im.bind(null,e.syncEngine),n)]}}))}))}function _y(t,e,n){var r=this;void 0===n&&(n={});var i=new yp;return t.asyncQueue.enqueueAndForget((function(){return Object(Ol.b)(r,void 0,void 0,(function(){var r;return Object(Ol.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new uy({next:function(o){e.enqueueAndForget((function(){return pm(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new kl(Al.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new kl(Al.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new ym(Gh(n.path),o,{includeMetadataChanges:!0,so:!0});return fm(t,s)},[4,wy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function Cy(t,e,n){var r=this;void 0===n&&(n={});var i=new yp;return t.asyncQueue.enqueueAndForget((function(){return Object(Ol.b)(r,void 0,void 0,(function(){var r;return Object(Ol.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new uy({next:function(n){e.enqueueAndForget((function(){return pm(t,s)})),n.fromCache&&"server"===r.source?i.reject(new kl(Al.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new ym(n,o,{includeMetadataChanges:!0,so:!0});return fm(t,s)},[4,wy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var xy=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},Ey=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Oy=new Map,Sy=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Ay=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(cb.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ky=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Iy=function(){function t(t){var e=this;this.currentUser=cb.UNAUTHENTICATED,this.oc=new yp,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.uc=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.ac=function(){e.cc++,e.currentUser=e.hc(),e.oc.resolve(),e.uc&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){Pl("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.lc(),e.auth.addAuthTokenListener(e.ac)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):e.uc&&(Pl("FirebaseCredentialsProvider","Auth not yet detected"),e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)})))}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Pl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ml("string"==typeof n.accessToken),new Sy(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){this.uc=!0,this.asyncQueue=t,this.changeListener=e},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.ac),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var t=this.auth&&this.auth.getUid();return Ml(null===t||"string"==typeof t),new cb(t)},t.prototype.lc=function(){var t=this;this.uc&&(this.uc=!1,this.asyncQueue.enqueueRetryable((function(){return Object(Ol.b)(t,void 0,void 0,(function(){return Object(Ol.d)(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,this.changeListener(this.currentUser)];case 2:return t.sent(),this.uc=!0,[2]}}))}))})))},t}(),Ty=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n,this.type="FirstParty",this.user=cb.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.dc},e=this.fc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.wc&&(t["X-Goog-Iam-Authorization-Token"]=this.wc),t},enumerable:!1,configurable:!0}),t}(),Py=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n}return t.prototype.getToken=function(){return Promise.resolve(new Ty(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(cb.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Ry(t,e,n){if(!n)throw new kl(Al.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function jy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new kl(Al.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ny(t,e,n,r){if(!0===e&&!0===r)throw new kl(Al.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Dy(t){if(!ch.isDocumentKey(t))throw new kl(Al.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function My(t){if(ch.isDocumentKey(t))throw new kl(Al.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Vy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Dl()}function Ly(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new kl(Al.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Vy(t);throw new kl(Al.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Fy(t,e){if(e<=0)throw new kl(Al.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Uy=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new kl(Al.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new kl(Al.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Ny("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),By=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uy({}),this._settingsFrozen=!1,t instanceof Ey?(this._databaseId=t,this._credentials=new Ay):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new kl(Al.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ey(t.options.projectId)}(t),this._credentials=new Iy(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new kl(Al.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new kl(Al.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uy(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Ay;switch(t.type){case"gapi":var e=t.client;return Ml(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Py(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new kl(Al.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Oy.get(this))&&(Pl("ComponentProvider","Removing Datastore"),Oy.delete(this),t.terminate()),Promise.resolve();var t},t}(),qy=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Qy(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Hy=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Qy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Gh(r))||this)._path=r,i.type="collection",i}return Object(Ol.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new qy(this.firestore,null,new ch(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Hy);function zy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(ms.i)(t),Ry("collection","path",e),t instanceof By)return My(n=Yl.fromString.apply(Yl,Object(Ol.f)([e],r))),new Qy(t,null,n);if(!(t instanceof qy||t instanceof Qy))throw new kl(Al.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return My(n=Yl.fromString.apply(Yl,Object(Ol.f)([t.path],r)).child(Yl.fromString(e))),new Qy(t.firestore,null,n)}function Wy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(ms.i)(t),1===arguments.length&&(e=Fl.u()),Ry("doc","path",e),t instanceof By)return Dy(n=Yl.fromString.apply(Yl,Object(Ol.f)([e],r))),new qy(t,null,new ch(n));if(!(t instanceof qy||t instanceof Qy))throw new kl(Al.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Dy(n=t._path.child(Yl.fromString.apply(Yl,Object(Ol.f)([e],r)))),new qy(t.firestore,t instanceof Qy?t.converter:null,new ch(n))}function Ky(t,e){return t=Object(ms.i)(t),e=Object(ms.i)(e),(t instanceof qy||t instanceof Qy)&&(e instanceof qy||e instanceof Qy)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Gy(t,e){return t=Object(ms.i)(t),e=Object(ms.i)(e),t instanceof Hy&&e instanceof Hy&&t.firestore===e.firestore&&rd(t._query,e._query)&&t.converter===e.converter}var Yy=function(){function t(){var t=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new kb(this,"async_queue_retry"),this.Ac=function(){var e=Sb();e&&Pl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Sb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Rc(),this.bc(t)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var t=Sb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(t){return this.Rc(),this.yc?new Promise((function(t){})):this.bc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.mc.push(t),e.vc()}))},t.prototype.vc=function(){return Object(Ol.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Ol.d)(this,(function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ep(t=n.sent()))throw t;return Pl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.mc.length>0&&this.Zi.ji((function(){return e.vc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.bc=function(t){var e=this,n=this._c.then((function(){return e.Tc=!0,t().catch((function(t){throw e.Ec=t,e.Tc=!1,Rl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Tc=!1,t}))}));return this._c=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Rc(),this.Ic.indexOf(t)>-1&&(e=0);var i=sm.createAndSchedule(this,t,e,n,(function(t){return r.Pc(t)}));return this.gc.push(i),i},t.prototype.Rc=function(){this.Ec&&Dl()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return Object(Ol.b)(this,void 0,void 0,(function(){var t;return Object(Ol.d)(this,(function(e){switch(e.label){case 0:return[4,t=this._c];case 1:e.sent(),e.label=2;case 2:if(t!==this._c)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Sc=function(t){for(var e=0,n=this.gc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Dc=function(t){var e=this;return this.Vc().then((function(){e.gc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Vc()}))},t.prototype.Cc=function(t){this.Ic.push(t)},t.prototype.Pc=function(t){var e=this.gc.indexOf(t);this.gc.splice(e,1)},t}();function Xy(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new yp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Zy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Yy,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Ol.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||$y(this),this._firestoreClient.terminate()},e}(By);function Jy(t){return t._firestoreClient||$y(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $y(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new xy(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new hy(t._credentials,t._queue,r)}function tv(t,e,n){var r=this,i=new yp;return t.asyncQueue.enqueue((function(){return Object(Ol.b)(r,void 0,void 0,(function(){var r;return Object(Ol.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,dy(t,n)];case 1:return o.sent(),[4,fy(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Al.FAILED_PRECONDITION||t.code===Al.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function ev(t){if(t._initialized||t._terminated)throw new kl(Al.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var nv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new kl(Al.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zl(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),rv=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t($l.fromBase64String(e))}catch(e){throw new kl(Al.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t($l.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),iv=function(t){this._methodName=t},ov=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new kl(Al.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new kl(Al.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Ul(this._lat,t._lat)||Ul(this._long,t._long)},t}(),sv=/^__.*__$/,av=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Dd(t,this.data,this.fieldMask,e,this.fieldTransforms):new Nd(t,this.data,e,this.fieldTransforms)},t}(),uv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Dd(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function cv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dl()}}var lv=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Oc(t),r},t.prototype.Mc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Nc(),r},t.prototype.Lc=function(t){return this.Fc({path:void 0,$c:!0})},t.prototype.Bc=function(t){return Tv(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Nc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Oc(this.path.get(t))},t.prototype.Oc=function(t){if(0===t.length)throw this.Bc("Document fields must not be empty");if(cv(this.xc)&&sv.test(t))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),hv=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Ab(t)}return t.prototype.Qc=function(t,e,n,r){return void 0===r&&(r=!1),new lv({xc:t,methodName:e,Uc:n,path:Zl.emptyPath(),$c:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function dv(t){var e=t._freezeSettings(),n=Ab(t._databaseId);return new hv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fv(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Qc(o.merge||o.mergeFields?2:0,e,n,i);Sv("Data must be an object, but it was:",s,r);var a,u,c=Ev(r,s);if(o.merge)a=new Jl(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=Av(e,d[h],n);if(!s.contains(f))throw new kl(Al.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Pv(l,f)||l.push(f)}a=new Jl(l),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new av(new xh(c),a,u)}var pv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ol.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.xc)throw t.Bc(1===t.xc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(iv);function gv(t,e,n){return new lv({xc:3,Uc:e.settings.Uc,methodName:t._methodName,$c:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var bv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ol.c)(e,t),e.prototype._toFieldTransform=function(t){return new Ed(t.path,new bd)},e.prototype.isEqual=function(t){return t instanceof e},e}(iv),mv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(Ol.c)(e,t),e.prototype._toFieldTransform=function(t){var e=gv(this,t,!0),n=this.Kc.map((function(t){return xv(t,e)})),r=new md(n);return new Ed(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(iv),yv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(Ol.c)(e,t),e.prototype._toFieldTransform=function(t){var e=gv(this,t,!0),n=this.Kc.map((function(t){return xv(t,e)})),r=new vd(n);return new Ed(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(iv),vv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(Ol.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new _d(t.R,hd(t.R,this.jc));return new Ed(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(iv);function wv(t,e,n,r){var i=t.Qc(1,e,n);Sv("Data must be an object, but it was:",i,r);var o=[],s=xh.empty();Wl(r,(function(t,r){var a=Iv(e,t,n);r=Object(ms.i)(r);var u=i.Mc(a);if(r instanceof pv)o.push(a);else{var c=xv(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Jl(o);return new uv(s,a,i.fieldTransforms)}function _v(t,e,n,r,i,o){var s=t.Qc(1,e,n),a=[Av(e,r,n)],u=[i];if(o.length%2!=0)throw new kl(Al.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Av(e,o[c])),u.push(o[c+1]);for(var l=[],h=xh.empty(),d=a.length-1;d>=0;--d)if(!Pv(l,a[d])){var f=a[d],p=u[d];p=Object(ms.i)(p);var g=s.Mc(f);if(p instanceof pv)l.push(f);else{var b=xv(p,g);null!=b&&(l.push(f),h.set(f,b))}}var m=new Jl(l);return new uv(h,m,s.fieldTransforms)}function Cv(t,e,n,r){return void 0===r&&(r=!1),xv(n,t.Qc(r?4:3,e))}function xv(t,e){if(Ov(t=Object(ms.i)(t)))return Sv("Unsupported field value:",e,t),Ev(t,e);if(t instanceof iv)return function(t,e){if(!cv(e.xc))throw e.Bc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Bc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.$c&&4!==e.xc)throw e.Bc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=xv(o[i],e.Lc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(ms.i)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return hd(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Hl.fromDate(t);return{timestampValue:wf(e.R,n)}}if(t instanceof Hl)return n=new Hl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:wf(e.R,n)};if(t instanceof ov)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rv)return{bytesValue:_f(e.R,t._byteString)};if(t instanceof qy){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ef(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Bc("Unsupported field value: "+Vy(t))}(t,e)}function Ev(t,e){var n={};return Kl(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wl(t,(function(t,r){var i=xv(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Ov(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Hl||t instanceof ov||t instanceof rv||t instanceof qy||t instanceof iv)}function Sv(t,e,n){if(!Ov(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Vy(n);throw e.Bc("an object"===r?t+" a custom object":t+" "+r)}}function Av(t,e,n){if((e=Object(ms.i)(e))instanceof nv)return e._internalPath;if("string"==typeof e)return Iv(t,e);throw Tv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var kv=new RegExp("[~\\*/\\[\\]]");function Iv(t,e,n){if(e.search(kv)>=0)throw Tv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(nv.bind.apply(nv,Object(Ol.f)([void 0],e.split(".")))))._internalPath}catch(r){throw Tv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Tv(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new kl(Al.INVALID_ARGUMENT,(a+=". ")+t+u)}function Pv(t,e){return t.some((function(t){return t.isEqual(e)}))}var Rv=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new qy(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new jv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Nv("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),jv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ol.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Rv);function Nv(t,e){return"string"==typeof e?Iv(t,e):e instanceof nv?e._internalPath:e._delegate._internalPath}var Dv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Mv=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(Ol.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Vv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Nv("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Rv),Vv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ol.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Mv),Lv=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Dv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Vv(n._firestore,n._userDataWriter,r.key,r,new Dv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new kl(Al.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Vv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Dv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Vv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Dv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Fv(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Fv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dl()}}function Uv(t,e){return t instanceof Mv&&e instanceof Mv?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Lv&&e instanceof Lv&&t._firestore===e._firestore&&Gy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Bv(t){if(Xh(t)&&0===t.explicitOrderBy.length)throw new kl(Al.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var qv=function(){};function Hv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Qv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wc=e,i.Gc=n,i.zc=r,i.type="where",i}return Object(Ol.c)(e,t),e.prototype._apply=function(t){var e=dv(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new kl(Al.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Zv(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Xv(r,t,l[c]));a={arrayValue:{values:u}}}else a=Xv(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Zv(s,o),a=Cv(n,"where",s,"in"===o||"not-in"===o);var h=Ph.create(i,o,a);return function(t,e){if(e.g()){var n=Jh(t);if(null!==n&&!n.isEqual(e.field))throw new kl(Al.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Zh(t);null!==r&&Jv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new kl(Al.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Wc,this.Gc,this.zc);return new Hy(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Wh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(qv),zv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wc=e,r.Hc=n,r.type="orderBy",r}return Object(Ol.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new kl(Al.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new kl(Al.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new qh(e,n);return function(t,e){if(null===Zh(t)){var n=Jh(t);null!==n&&Jv(0,n,e.field)}}(t,r),r}(t._query,this.Wc,this.Hc);return new Hy(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Wh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(qv),Wv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(Ol.c)(e,t),e.prototype._apply=function(t){return new Hy(t.firestore,t.converter,nd(t._query,this.Jc,this.Yc))},e}(qv),Kv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(Ol.c)(e,t),e.prototype._apply=function(t){var e=Yv(t,this.type,this.Xc,this.Zc);return new Hy(t.firestore,t.converter,function(t,e){return new Wh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(qv),Gv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(Ol.c)(e,t),e.prototype._apply=function(t){var e=Yv(t,this.type,this.Xc,this.Zc);return new Hy(t.firestore,t.converter,function(t,e){return new Wh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(qv);function Yv(t,e,n,r){if(n[0]=Object(ms.i)(n[0]),n[0]instanceof Rv)return function(t,e,n,r,i){if(!r)throw new kl(Al.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=td(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(bh(e,r.key));else{var c=r.data.field(u.field);if(ih(c))throw new kl(Al.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new kl(Al.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Uh(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=dv(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new kl(Al.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new kl(Al.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!$h(t)&&-1!==c.indexOf("/"))throw new kl(Al.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Yl.fromString(c));if(!ch.isDocumentKey(l))throw new kl(Al.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ch(l);a.push(bh(e,h))}else{var d=Cv(n,r,c);a.push(d)}}return new Uh(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Xv(t,e,n){if("string"==typeof(n=Object(ms.i)(n))){if(""===n)throw new kl(Al.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!$h(e)&&-1!==n.indexOf("/"))throw new kl(Al.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Yl.fromString(n));if(!ch.isDocumentKey(r))throw new kl(Al.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return bh(t,new ch(r))}if(n instanceof qy)return bh(t,n._key);throw new kl(Al.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Vy(n)+".")}function Zv(t,e){if(!Array.isArray(t)||0===t.length)throw new kl(Al.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new kl(Al.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Jv(t,e,n){if(!n.isEqual(e))throw new kl(Al.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var $v=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),lh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return nh(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(rh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Dl()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Wl(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new ov(nh(t.latitude),nh(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return ih(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(oh(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=eh(t);return new Hl(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Yl.fromString(t);Ml(Gf(n));var r=new Ey(n.get(1),n.get(3)),i=new ch(n.popFirst(5));return r.isEqual(e)||Rl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function tw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var ew=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ol.c)(e,t),e.prototype.convertBytes=function(t){return new rv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new qy(this.firestore,null,e)},e}($v),nw=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=dv(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=rw(t,this._firestore),i=tw(r.converter,e,n),o=fv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Sd.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=rw(t,this._firestore);return o="string"==typeof(e=Object(ms.i)(e))||e instanceof nv?_v(this._dataReader,"WriteBatch.update",s._key,e,n,r):wv(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Sd.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=rw(t,this._firestore);return this._mutations=this._mutations.concat(new Bd(e._key,Sd.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new kl(Al.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function rw(t,e){if((t=Object(ms.i)(t)).firestore!==e)throw new kl(Al.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var iw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ol.c)(e,t),e.prototype.convertBytes=function(t){return new rv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new qy(this.firestore,null,e)},e}($v);function ow(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ly(t,qy);var o=Ly(t.firestore,Zy),s=dv(o);return aw(o,[("string"==typeof(e=Object(ms.i)(e))||e instanceof nv?_v(s,"updateDoc",t._key,e,n,r):wv(s,"updateDoc",t._key,e)).toMutation(t._key,Sd.exists(!0))])}function sw(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(ms.i)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Xy(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Xy(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof qy)c=Ly(t.firestore,Zy),l=Gh(t._key.path),u={next:function(e){i[a]&&i[a](uw(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=Ly(t,Hy);c=Ly(f.firestore,Zy),l=f._query;var p=new iw(c);u={next:function(t){i[a]&&i[a](new Lv(c,p,f,t))},error:i[a+1],complete:i[a+2]},Bv(t._query)}return function(t,e,n,r){var i=this,o=new uy(r),s=new ym(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Object(Ol.b)(i,void 0,void 0,(function(){var e;return Object(Ol.d)(this,(function(n){switch(n.label){case 0:return e=fm,[4,wy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Object(Ol.b)(i,void 0,void 0,(function(){var e;return Object(Ol.d)(this,(function(n){switch(n.label){case 0:return e=pm,[4,wy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Jy(c),l,h,u)}function aw(t,e){return function(t,e){var n=this,r=new yp;return t.asyncQueue.enqueueAndForget((function(){return Object(Ol.b)(n,void 0,void 0,(function(){var n;return Object(Ol.d)(this,(function(i){switch(i.label){case 0:return n=Tm,[4,vy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Jy(t),e)}function uw(t,e,n){var r=n.docs.get(e._key),i=new iw(t);return new Mv(t,i,e._key,r,new Dv(n.hasPendingWrites,n.fromCache),e.converter)}var cw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Ol.c)(e,t),e.prototype.get=function(e){var n=this,r=rw(e,this._firestore),i=new iw(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Mv(n._firestore,i,r._key,t._document,new Dv(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=dv(t)}return t.prototype.get=function(t){var e=this,n=rw(t,this._firestore),r=new ew(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Dl();var i=t[0];if(i.isFoundDocument())return new Rv(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Rv(e._firestore,r,n._key,null,n.converter);throw Dl()}))},t.prototype.set=function(t,e,n){var r=rw(t,this._firestore),i=tw(r.converter,e,n),o=fv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=rw(t,this._firestore);return o="string"==typeof(e=Object(ms.i)(e))||e instanceof nv?_v(this._dataReader,"Transaction.update",s._key,e,n,r):wv(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=rw(t,this._firestore);return this._transaction.delete(e._key),this},t}());function lw(){if("undefined"==typeof Uint8Array)throw new kl(Al.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function hw(){if("undefined"==typeof atob)throw new kl(Al.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var dw=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return hw(),new t(rv.fromBase64String(e))},t.fromUint8Array=function(e){return lw(),new t(rv.fromUint8Array(e))},t.prototype.toBase64=function(){return hw(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return lw(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),fw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){ev(t=Ly(t,Zy));var n=Jy(t),r=t._freezeSettings(),i=new ay;return tv(n,i,new oy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){ev(t=Ly(t,Zy));var e=Jy(t),n=t._freezeSettings(),r=new ay;return tv(e,r,new sy(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new kl(Al.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new yp;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(Ol.b)(e,void 0,void 0,(function(){var e;return Object(Ol.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Ol.b)(this,void 0,void 0,(function(){return Object(Ol.d)(this,(function(e){switch(e.label){case 0:return _p.yt()?[4,_p.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Rg(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),pw=function(){function t(t,e,n){var r=this;this._delegate=e,this.tu=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Ey||(this.eu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||jl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=Ly(t,By))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&jl("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=Object(ms.e)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new kl(Al.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new ky(new Sy(o,new cb(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(Ol.b)(e,void 0,void 0,(function(){var e,n;return Object(Ol.d)(this,(function(r){switch(r.label){case 0:return[4,by(t)];case 1:return e=r.sent(),[4,yy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Vl(t);return e.Or.delete(0),Db(e)}(n))]}}))}))}))}(Jy(Ly(this._delegate,Zy)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(Ol.b)(e,void 0,void 0,(function(){var e,n;return Object(Ol.d)(this,(function(r){switch(r.label){case 0:return[4,by(t)];case 1:return e=r.sent(),[4,yy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Ol.b)(this,void 0,void 0,(function(){var e;return Object(Ol.d)(this,(function(n){switch(n.label){case 0:return(e=Vl(t)).Or.add(0),[4,Mb(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Jy(Ly(this._delegate,Zy)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ny("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.tu.enableMultiTabIndexedDbPersistence(this):this.tu.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.tu.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.eu&&(this.eu._removeServiceInstance("firestore"),this.eu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new yp;return t.asyncQueue.enqueueAndForget((function(){return Object(Ol.b)(e,void 0,void 0,(function(){var e;return Object(Ol.d)(this,(function(r){switch(r.label){case 0:return e=Mm,[4,vy(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Jy(Ly(this._delegate,Zy)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new uy(e);return t.asyncQueue.enqueueAndForget((function(){return Object(Ol.b)(n,void 0,void 0,(function(){var e;return Object(Ol.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Vl(t).Gr.add(e),e.next()},[4,wy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Object(Ol.b)(n,void 0,void 0,(function(){var e;return Object(Ol.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Vl(t).Gr.delete(e)},[4,wy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Jy(t=Ly(t,Zy)),Xy(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.eu)throw new kl(Al.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.eu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new kw(this,zy(this._delegate,t))}catch(t){throw ww(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new vw(this,Wy(this._delegate,t))}catch(t){throw ww(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Ow(this,function(t,e){if(t=Ly(t,By),Ry("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new kl(Al.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Hy(t,null,function(t){return new Wh(Yl.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw ww(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new yp;return t.asyncQueue.enqueueAndForget((function(){return Object(Ol.b)(n,void 0,void 0,(function(){var n;return Object(Ol.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return gy(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new ly(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(Jy(t),(function(n){return e(new cw(t,n))}))}(this._delegate,(function(n){return t(new bw(e,n))}))},t.prototype.batch=function(){var t=this;return Jy(this._delegate),new mw(new nw(this._delegate,(function(e){return aw(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new kl(Al.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new kl(Al.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),gw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ol.c)(e,t),e.prototype.convertBytes=function(t){return new dw(new rv(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return vw.nu(e,this.firestore,null)},e}($v),bw=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new gw(t)}return t.prototype.get=function(t){var e=this,n=Iw(t);return this._delegate.get(n).then((function(t){return new xw(e._firestore,new Mv(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Iw(t);return n?(jy("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Iw(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Ol.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Iw(t);return this._delegate.delete(e),this},t}(),mw=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Iw(t);return n?(jy("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Iw(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Ol.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Iw(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),yw=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Vv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ew(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.su=function(e,n){var r=t.iu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new gw(e),n),i.set(n,o)),o},t}();yw.iu=new WeakMap;var vw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new gw(t)}return t.ru=function(e,n,r){if(e.length%2!=0)throw new kl(Al.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new qy(n._delegate,r,new ch(e)))},t.nu=function(e,n,r){return new t(n,new qy(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new kw(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new kw(this.firestore,zy(this._delegate,t))}catch(t){throw ww(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(ms.i)(t))instanceof qy&&Ky(this._delegate,t)},t.prototype.set=function(t,e){e=jy("DocumentReference.set",e);try{return function(t,e,n){t=Ly(t,qy);var r=Ly(t.firestore,Zy),i=tw(t.converter,e,n);return aw(r,[fv(dv(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Sd.none())])}(this._delegate,t,e)}catch(t){throw ww(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ow(this._delegate,t):ow.apply(void 0,Object(Ol.f)([this._delegate,t,e],n))}catch(t){throw ww(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return aw(Ly((t=this._delegate).firestore,Zy),[new Bd(t._key,Sd.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=_w(e),i=Cw(e,(function(e){return new xw(t.firestore,new Mv(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return sw(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ly(t,qy);var e=Ly(t.firestore,Zy),n=Jy(e),r=new iw(e);return function(t,e){var n=this,r=new yp;return t.asyncQueue.enqueueAndForget((function(){return Object(Ol.b)(n,void 0,void 0,(function(){var n;return Object(Ol.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ol.b)(this,void 0,void 0,(function(){var r,i;return Object(Ol.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Vl(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new kl(Al.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=am(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,my(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new Mv(e,r,t._key,n,new Dv(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ly(t,qy);var e=Ly(t.firestore,Zy);return _y(Jy(e),t._key,{source:"server"}).then((function(n){return uw(e,t,n)}))}(this._delegate):function(t){t=Ly(t,qy);var e=Ly(t.firestore,Zy);return _y(Jy(e),t._key).then((function(n){return uw(e,t,n)}))}(this._delegate)).then((function(t){return new xw(e.firestore,new Mv(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?yw.su(this.firestore,e):null))},t}();function ww(t,e,n){return t.message=t.message.replace(e,n),t}function _w(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Xy(r))return r}return{}}function Cw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Xy(t[0])?t[0]:Xy(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var xw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new vw(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Uv(this._delegate,t._delegate)},t}(),Ew=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ol.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(xw),Ow=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new gw(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Hv(this._delegate,function(t,e,n){var r=e,i=Nv("where",t);return new Qv(i,r,n)}(e,n,r)))}catch(e){throw ww(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Hv(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Nv("orderBy",t);return new zv(r,n)}(e,n)))}catch(e){throw ww(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Hv(this._delegate,function(t){return Fy("limit",t),new Wv("limit",t,"F")}(e)))}catch(e){throw ww(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Hv(this._delegate,function(t){return Fy("limitToLast",t),new Wv("limitToLast",t,"L")}(e)))}catch(e){throw ww(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Kv("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw ww(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Kv("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw ww(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gv("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw ww(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gv("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw ww(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Gy(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ly(t,Hy);var e=Ly(t.firestore,Zy),n=Jy(e),r=new iw(e);return function(t,e){var n=this,r=new yp;return t.asyncQueue.enqueueAndForget((function(){return Object(Ol.b)(n,void 0,void 0,(function(){var n;return Object(Ol.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ol.b)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(Ol.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Kg(t,e,!0)];case 1:return a=u.sent(),r=new xm(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=am(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,my(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Lv(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ly(t,Hy);var e=Ly(t.firestore,Zy),n=Jy(e),r=new iw(e);return Cy(n,t._query,{source:"server"}).then((function(n){return new Lv(e,r,t,n)}))}(this._delegate):function(t){t=Ly(t,Hy);var e=Ly(t.firestore,Zy),n=Jy(e),r=new iw(e);return Bv(t._query),Cy(n,t._query).then((function(n){return new Lv(e,r,t,n)}))}(this._delegate)).then((function(t){return new Aw(e.firestore,new Lv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=_w(e),i=Cw(e,(function(e){return new Aw(t.firestore,new Lv(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return sw(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?yw.su(this.firestore,e):null))},t}(),Sw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Ew(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Aw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Ow(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Ew(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Sw(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Ew(n._firestore,r))}))},t.prototype.isEqual=function(t){return Uv(this._delegate,t._delegate)},t}(),kw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Ol.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new vw(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new vw(this.firestore,void 0===t?Wy(this._delegate):Wy(this._delegate,t))}catch(t){throw ww(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ly(t.firestore,Zy),r=Wy(t),i=tw(t.converter,e);return aw(n,[fv(dv(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Sd.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new vw(e.firestore,t)}))},e.prototype.isEqual=function(t){return Ky(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?yw.su(this.firestore,t):null))},e}(Ow);function Iw(t){return Ly(t,qy)}var Tw,Pw=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(nv.bind.apply(nv,Object(Ol.f)([void 0],t)))}return t.documentId=function(){return new t(Zl.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(ms.i)(t))instanceof nv&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Rw=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new bv("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new pv("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mv("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yv("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new vv("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),jw=n("/6Yf"),Nw={Firestore:pw,GeoPoint:ov,Timestamp:Hl,Blob:dw,Transaction:bw,WriteBatch:mw,DocumentReference:vw,DocumentSnapshot:xw,Query:Ow,QueryDocumentSnapshot:Ew,QuerySnapshot:Aw,CollectionReference:kw,FieldPath:Pw,FieldValue:Rw,setLogLevel:function(t){Il.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new jw.a("firestore",(function(t){return function(t,e){return new pw(t,new Zy(t,e),new fw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Nw)))})(Tw=bs.a),Tw.registerVersion("@firebase/firestore","2.3.4");var Dw=n("VRyK"),Mw=n("qgXg"),Vw=n("Ylt2");class Lw extends zt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Fw(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Wt.a;if(this.isStopped||this.hasError?o=We.a.EMPTY:(this.observers.push(t),o=new Vw.a(this,t)),r&&t.add(t=new fs.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Mw.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Fw{constructor(t,e){this.time=t,this.value=e}}function Uw(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Lw(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Bw(t,e){return e?ke(()=>t,e):ke(()=>t)}var qw=n("tf+s");const Hw=new r.q("angularfire2.auth.use-emulator"),Qw=new r.q("angularfire2.auth.settings"),zw=new r.q("angularfire2.auth.tenant-id"),Ww=new r.q("angularfire2.auth.langugage-code"),Kw=new r.q("angularfire2.auth.use-device-language"),Gw=new r.q("angularfire.auth.persistence");let Yw=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new ps.d(i),d=Object(ps.h)(h),f=new zt.a,p=Object(Ht.a)(void 0).pipe(Object(fs.b)(h.outsideAngular),ke(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(ce.a)(()=>Object(ps.g)(t,i,e)),Object(ce.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(ps.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Uw({bufferSize:1,refCount:!1}));if(lt(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ht.a)(null);else{p.pipe(Qe()).subscribe();const t=p.pipe(ke(t=>t.getRedirectResult().then(t=>t,()=>null)),d,Uw({bufferSize:1,refCount:!1})),e=t=>new te.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(ke(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(ke(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Bw(n),Object(qw.a)(h.outsideAngular),Object(fs.b)(h.insideAngular)),this.user=t.pipe(Bw(r),Object(qw.a)(h.outsideAngular),Object(fs.b)(h.insideAngular)),this.idToken=this.user.pipe(ke(t=>t?Object(Qt.a)(t.getIdToken()):Object(Ht.a)(null))),this.idTokenResult=this.user.pipe(ke(t=>t?Object(Qt.a)(t.getIdTokenResult()):Object(Ht.a)(null))),this.credential=Object(Dw.a)(t,f,this.authState.pipe(de(t=>!t))).pipe(Object(ce.a)(t=>(null==t?void 0:t.user)?t:null),Object(qw.a)(h.outsideAngular),Object(fs.b)(h.insideAngular))}return Object(ps.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ps.c),r.Ub(ps.b,8),r.Ub(r.B),r.Ub(r.z),r.Ub(Hw,8),r.Ub(Qw,8),r.Ub(zw,8),r.Ub(Ww,8),r.Ub(Kw,8),r.Ub(Gw,8))},t.\u0275prov=r.Jb({factory:function(){return new t(r.Ub(ps.c),r.Ub(ps.b,8),r.Ub(r.B),r.Ub(r.z),r.Ub(Hw,8),r.Ub(Qw,8),r.Ub(zw,8),r.Ub(Ww,8),r.Ub(Kw,8),r.Ub(Gw,8))},token:t,providedIn:"any"}),t})(),Xw=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[Yw]}),t})();function Zw(t,e){return function(t,e=as.b){return new te.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Jw(t,e){return Zw(t,e).pipe(Object(ce.a)(t=>({payload:t,type:"query"})))}function $w(t,e){return Jw(t,e).pipe(De(void 0),us(),Object(ce.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function t_(t,e,n){return $w(t,n).pipe(Me((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return e_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return e_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return e_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new hs(void 0,void 0)),Object(ce.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function e_(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function n_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class r_{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=$w(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(ce.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(De(void 0),us(),de(([t,e])=>e.length>0||!t),Object(ce.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Me((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=n_(t);return t_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Jw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ce.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Qt.a)(this.query.get(t)).pipe(Object(fs.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new i_(this.ref.doc(t),this.afs)}}class i_{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=l_(n,e);return new r_(r,i,this.afs)}snapshotChanges(){return Zw(this.ref,this.afs.schedulers.outsideAngular).pipe(De(void 0),us(),Object(ce.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(ce.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Qt.a)(this.ref.get(t)).pipe(Object(fs.b)(this.afs.schedulers.insideAngular))}}class o_{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?$w(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ce.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),de(t=>t.length>0),this.afs.keepUnstableUntilFirst):$w(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Me((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=n_(t);return t_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Jw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ce.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Qt.a)(this.query.get(t)).pipe(Object(fs.b)(this.afs.schedulers.insideAngular))}}const s_=new r.q("angularfire2.enableFirestorePersistence"),a_=new r.q("angularfire2.firestore.persistenceSettings"),u_=new r.q("angularfire2.firestore.settings"),c_=new r.q("angularfire2.firestore.use-emulator");function l_(t,e=(t=>t)){return{query:e(t),ref:t}}let h_=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new ps.d(o),this.keepUnstableUntilFirst=Object(ps.h)(this.schedulers);const c=Object(ps.g)(t,o,e);!gs.a.auth&&u&&Object(ps.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(ps.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!lt(i)){const e=()=>{try{return Object(Qt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Tw){return"undefined"!=typeof console&&console.warn(Tw),Object(Ht.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Ht.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=l_(n,e),o=this.schedulers.ngZone.run(()=>r);return new r_(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new o_(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new i_(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ps.c),r.Ub(ps.b,8),r.Ub(s_,8),r.Ub(u_,8),r.Ub(r.B),r.Ub(r.z),r.Ub(a_,8),r.Ub(c_,8),r.Ub(Hw,8))},t.\u0275prov=r.Jb({factory:function(){return new t(r.Ub(ps.c),r.Ub(ps.b,8),r.Ub(s_,8),r.Ub(u_,8),r.Ub(r.B),r.Ub(r.z),r.Ub(a_,8),r.Ub(c_,8),r.Ub(Hw,8))},token:t,providedIn:"any"}),t})();class d_{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new f_(t,this.dueTime,this.scheduler))}}class f_ extends Xt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(p_,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function p_(t){t.debouncedNext()}var g_=function(t){function e(n,r){var i=t.call(this,b_(n),"Firebase Storage: "+r+" ("+b_(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Object(Ol.c)(e,t),e.prototype._codeEquals=function(t){return b_(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(ms.c);function b_(t){return"storage/"+t}function m_(){return new g_("unknown","An unknown error occurred, please check the error payload for server response.")}function y_(){return new g_("canceled","User canceled the upload/download.")}function v_(){return new g_("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function w_(t){return new g_("invalid-argument",t)}function __(){return new g_("app-deleted","The Firebase app was deleted.")}function C_(t){return new g_("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function x_(t,e){return new g_("invalid-format","String does not match format '"+t+"': "+e)}function E_(t){throw new g_("internal-error","Internal error: "+t)}var O_={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},S_=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function A_(t,e){switch(t){case O_.RAW:return new S_(k_(e));case O_.BASE64:case O_.BASE64URL:return new S_(I_(t,e));case O_.DATA_URL:return new S_((n=new T_(e)).base64?I_(O_.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(Tw){throw x_(O_.DATA_URL,"Malformed data URL.")}return k_(e)}(n.rest),new T_(e).contentType)}var n;throw m_()}function k_(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function I_(t,e){switch(t){case O_.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw x_(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case O_.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw x_(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(Tw){throw x_(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var T_=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw x_(O_.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),P_={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function R_(t){switch(t){case"running":case"pausing":case"canceling":return P_.RUNNING;case"paused":return P_.PAUSED;case"success":return P_.SUCCESS;case"canceled":return P_.CANCELED;case"error":default:return P_.ERROR}}var j_=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),N_=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=j_.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=j_.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=j_.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw E_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw E_("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw E_("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Tw){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw E_("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),D_=function(){function t(){}return t.prototype.createXhrIo=function(){return new N_},t}(),M_=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(Tw){return new t(e,"")}if(""===r.path)return r;throw new g_("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=n.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),r=new t(l[c.indices.bucket],h),c.postModify(r);break}}if(null==r)throw function(t){return new g_("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),V_=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function L_(t){return"string"==typeof t||t instanceof String}function F_(t){return U_()&&t instanceof Blob}function U_(){return"undefined"!=typeof Blob}function B_(t,e,n,r){if(r<e)throw w_("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw w_("Invalid value for '"+t+"'. Expected "+n+" or less.")}function q_(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function H_(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var Q_=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(Tw){o(Tw)}else null!==s?((r=m_()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?__():y_():new g_("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new z_(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new z_(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===j_.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new z_(s,n))}else{var a=n.getErrorCode()===j_.ABORT;e(!1,new z_(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,u())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(Ol.f)([null,t],e));else{var r;u()||s?l.call.apply(l,Object(Ol.f)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout((function(){s=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),z_=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function W_(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function K_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=W_();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(U_())return new Blob(t);throw new g_("unsupported-environment","This browser doesn't seem to support creating Blobs")}var G_=function(){function t(t,e){var n=0,r="";F_(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(F_(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(U_()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(K_.apply(null,r))}var i=e.map((function(t){return L_(t)?A_(O_.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function Y_(t){var e,n;try{e=JSON.parse(t)}catch(Tw){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function X_(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Z_(t,e){return e}var J_=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Z_}}(),$_=null;function tC(){if($_)return $_;var t=[];t.push(new J_("bucket")),t.push(new J_("generation")),t.push(new J_("metageneration")),t.push(new J_("name","fullPath",!0));var e=new J_("name");e.xform=function(t,e){return function(t){return!L_(t)||t.length<2?t:X_(t)}(e)},t.push(e);var n=new J_("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new J_("timeCreated")),t.push(new J_("updated")),t.push(new J_("md5Hash",null,!0)),t.push(new J_("cacheControl",null,!0)),t.push(new J_("contentDisposition",null,!0)),t.push(new J_("contentEncoding",null,!0)),t.push(new J_("contentLanguage",null,!0)),t.push(new J_("contentType",null,!0)),t.push(new J_("metadata","customMetadata",!0)),$_=t}function eC(t,e,n){var r=Y_(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new M_(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function nC(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var rC=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function iC(t){if(!t)throw m_()}function oC(t,e){return function(n,r){var i=eC(t,r,e);return iC(null!==i),i}}function sC(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new g_("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new g_("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new g_("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new g_("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function aC(t){var e=sC(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new g_("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function uC(t,e,n){var r=q_(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new rC(r,"GET",oC(t,n),i);return o.errorHandler=aC(e),o}function cC(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var lC=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function hC(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(Tw){iC(!1)}return iC(!!n&&-1!==(e||["active"]).indexOf(n)),n}var dC=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function fC(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var pC=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=tC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=cC(e,r,i),a={name:s.fullPath},u=q_(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=nC(s,n),h=new rC(u,"POST",(function(t){var e;hC(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(Tw){iC(!1)}return iC(L_(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=sC(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,r){var i=function(t,e,n,r){var i=new rC(n,"POST",(function(t){var e=hC(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Tw){iC(!1)}n||iC(!1);var i=Number(n);return iC(!isNaN(i)),new lC(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=sC(e),i}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new lC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var s;try{s=function(t,e,n,r,i,o,s,a){var u=new lC(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new g_("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},f=r.slice(h,h+l);if(null===f)throw v_();var p=new rC(n,"POST",(function(t,n){var i,s=hC(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?oC(e,o)(t,n):null,new lC(a,c,"final"===s,i)}),e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=sC(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(Tw){return t._error=Tw,void t._transition("error")}var a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var r=uC(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=cC(e,r,i),c=nC(u,n),l=G_.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw v_();var h={name:u.fullPath},d=q_(o,t.host),f=t.maxUploadRetryTime,p=new rC(d,"POST",oC(t,n),f);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=sC(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=y_(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=R_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new dC(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(R_(this._state)){case P_.SUCCESS:fC(this._resolve.bind(null,this.snapshot))();break;case P_.CANCELED:case P_.ERROR:fC(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(R_(this._state)){case P_.RUNNING:case P_.PAUSED:t.next&&fC(t.next.bind(t,this.snapshot))();break;case P_.SUCCESS:t.complete&&fC(t.complete.bind(t))();break;case P_.CANCELED:case P_.ERROR:t.error&&fC(t.error.bind(t,this._error))();break;default:t.error&&fC(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),gC=function(){function t(t,e){this._service=t,this._location=e instanceof M_?e:M_.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new M_(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return X_(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new M_(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw C_(t)},t}();function bC(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n,r;return Object(Ol.d)(this,(function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&B_("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=q_(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new rC(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=Y_(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new M_(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new M_(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return iC(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=sC(e),u}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function mC(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new M_(t._location.bucket,n);return new gC(t.storage,r)}function yC(t){return/^[A-Za-z]+:\/\//.test(t)}function vC(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:M_.makeFromBucketSpec(n,t)}var wC=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?M_.makeFromBucketSpec(i,this._host):vC(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?M_.makeFromBucketSpec(this._url,t):vC(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){B_("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){B_("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(Ol.b)(this,void 0,void 0,(function(){var t,e;return Object(Ol.d)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return Object(Ol.b)(this,void 0,void 0,(function(){var t;return Object(Ol.d)(this,(function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new gC(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new V_(__());var i=function(t,e,n,r,i,o){var s=H_(t.urlParams),a=t.url+s,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new Q_(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},t.prototype.makeRequestWithTokens=function(t){return Object(Ol.b)(this,void 0,void 0,(function(){var e;return Object(Ol.d)(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}}))}))},t}();function _C(t,e){return function(t,e){if(e&&yC(e)){if(t instanceof wC)return new gC(t,e);throw w_("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof wC){var r=e;if(null==r._bucket)throw new g_("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new gC(r,r._bucket);return null!=n?t(i,n):i}if(void 0!==n){if(n.includes(".."))throw w_('`path` param cannot contain ".."');return mC(e,n)}return e}(t,e)}(t=Object(ms.i)(t),e)}var CC,xC,EC=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),OC=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new EC(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new EC(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new EC(t,i,i._ref))}:{next:e.next?function(t){return e.next(new EC(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),SC=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new AC(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new AC(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),AC=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return mC(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new OC(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new pC(t,new G_(e),n)}(t=Object(ms.i)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=O_.RAW),this._throwIfRoot("putString");var r=A_(e,t),i=Object(Ol.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new OC(new pC(this._delegate,new G_(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,function(t){var e={prefixes:[],items:[]};return function t(e,n,r){return Object(Ol.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Ol.d)(this,(function(a){switch(a.label){case 0:return[4,bC(e,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(s=n.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))}(t=Object(ms.i)(t))).then((function(t){return new SC(t,e.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return bC(t=Object(ms.i)(t),e)}(this._delegate,t||void 0).then((function(t){return new SC(t,e.storage)}))},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Object(Ol.b)(this,void 0,void 0,(function(){var e;return Object(Ol.d)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=uC(t.storage,t._location,tC()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(ms.i)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(Ol.b)(this,void 0,void 0,(function(){var n;return Object(Ol.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=q_(e.fullServerUrl(),t.host),o=nC(n,r),s=t.maxOperationRetryTime,a=new rC(i,"PATCH",oC(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=aC(e),a}(t.storage,t._location,e,tC()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}(t=Object(ms.i)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Object(Ol.b)(this,void 0,void 0,(function(){var e;return Object(Ol.d)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=q_(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new rC(r,"GET",function(t,e){return function(n,r){var i=eC(t,r,e);return iC(null!==i),function(t,e,n){var r=Y_(e);if(null===r)return null;if(!L_(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(e){var r=t.fullPath;return q_("/b/"+o(t.bucket)+"/o/"+o(r),n)+H_({alt:"media",token:e})}))[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=aC(e),o}(t.storage,t._location,tC()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw new g_("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(t=Object(ms.i)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Object(Ol.b)(this,void 0,void 0,(function(){var e;return Object(Ol.d)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=q_(e.fullServerUrl(),t.host),r=new rC(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=aC(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(ms.i)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw C_(t)},t}(),kC=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(yC(t))throw w_("ref() expected a child path but got a URL, use refFromURL instead.");return new AC(_C(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!yC(t))throw w_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{M_.makeFromUrl(t,this._delegate.host)}catch(Tw){throw w_("refFromUrl() expected a valid full URL but got an invalid one.")}return new AC(_C(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function IC(t){const e=function(t){return new te.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=as.a){return n=>n.lift(new d_(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(ce.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function TC(t,e,n){return{getDownloadURL:()=>Object(Ht.a)(void 0).pipe(Object(fs.b)(e.outsideAngular),ke(()=>t.getDownloadURL()),n),getMetadata:()=>Object(Ht.a)(void 0).pipe(Object(fs.b)(e.outsideAngular),ke(()=>t.getMetadata()),n),delete:()=>Object(Qt.a)(t.delete()),child:r=>TC(t.child(r),e,n),updateMetadata:e=>Object(Qt.a)(t.updateMetadata(e)),put:(e,n)=>IC(t.put(e,n)),putString:(e,n,r)=>IC(t.putString(e,n,r)),listAll:()=>Object(Qt.a)(t.listAll())}}xC={TaskState:P_,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:O_,Storage:wC,Reference:AC},(CC=bs.a).INTERNAL.registerComponent(new jw.a("storage",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new kC(r,new wC(r,i,o,new D_,n,bs.a.SDK_VERSION))}),"PUBLIC").setServiceProps(xC).setMultipleInstances(!0)),CC.registerVersion("@firebase/storage","0.5.3");const PC=new r.q("angularfire2.storageBucket"),RC=new r.q("angularfire2.storage.maxUploadRetryTime"),jC=new r.q("angularfire2.storage.maxOperationRetryTime");let NC=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new ps.d(i),this.keepUnstableUntilFirst=Object(ps.h)(this.schedulers);const a=Object(ps.g)(t,i,e);this.storage=Object(ps.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return TC(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return TC(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return TC(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ps.c),r.Ub(ps.b,8),r.Ub(PC,8),r.Ub(r.B),r.Ub(r.z),r.Ub(RC,8),r.Ub(jC,8))},t.\u0275prov=r.Jb({factory:function(){return new t(r.Ub(ps.c),r.Ub(ps.b,8),r.Ub(PC,8),r.Ub(r.B),r.Ub(r.z),r.Ub(RC,8),r.Ub(jC,8))},token:t,providedIn:"any"}),t})(),DC=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t})(),MC=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[NC],imports:[DC]}),t})();function VC(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",1),r.Qb(1,"div",2),r.Qb(2,"div",3),r.Qb(3,"div",4),r.Qb(4,"button",5),r.Wb("click",(function(){return r.lc(t),r.Yb().novo=!1})),r.uc(5," Voltar "),r.Pb(),r.Qb(6,"h1",6),r.uc(7," Nova categoria "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(8,"div",7),r.Qb(9,"div",8),r.Qb(10,"div",9),r.Qb(11,"div",10),r.Qb(12,"label",11),r.uc(13," Nome "),r.Pb(),r.Qb(14,"input",12),r.Wb("ngModelChange",(function(e){return r.lc(t),r.Yb().categoria.titulo=e})),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(15,"div",2),r.Qb(16,"div",3),r.Qb(17,"div",4),r.Qb(18,"button",13),r.Wb("click",(function(){return r.lc(t),r.Yb().adicionar()})),r.uc(19," Adicionar "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.Yb();r.dc("ngClass","light"===t.color?"bg-white":"bg-white text-white"),r.Bb(14),r.dc("ngModel",t.categoria.titulo)}}function LC(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr"),r.Qb(1,"th",19),r.Qb(2,"span",20),r.uc(3),r.Pb(),r.Pb(),r.Qb(4,"td",21),r.Qb(5,"div",22),r.Wb("click",(function(){r.lc(t);const n=e.$implicit;return r.Yb(2).excluir(n.id)})),r.uc(6,"Excluir"),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit,n=r.Yb(2);r.Bb(2),r.dc("ngClass","light"===n.color?"text-gray-700":"text-gray-700 "),r.Bb(1),r.wc(" ",t.titulo," ")}}function FC(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",1),r.Qb(1,"div",2),r.Qb(2,"div",3),r.Qb(3,"div",4),r.Qb(4,"button",14),r.Wb("click",(function(){return r.lc(t),r.Yb().novo=!0})),r.uc(5," Adicionar nova "),r.Pb(),r.Qb(6,"h1",15),r.uc(7," Categorias "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(8,"div",7),r.Qb(9,"table",16),r.Qb(10,"thead"),r.Qb(11,"tr"),r.Qb(12,"th",17),r.uc(13," Nome "),r.Pb(),r.Qb(14,"th",17),r.uc(15," A\xe7\xf5es "),r.Pb(),r.Pb(),r.Pb(),r.Qb(16,"tbody"),r.tc(17,LC,7,2,"tr",18),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.Yb();r.dc("ngClass","light"===t.color?"bg-white":"bg-white text-white"),r.Bb(12),r.dc("ngClass","light"===t.color?"bg-gray-100 text-gray-600 border-gray-200":"bg-gray-1000 text-gray-700 "),r.Bb(2),r.dc("ngClass","light"===t.color?"bg-gray-100 text-gray-600 border-gray-200":"bg-gray-1000 text-gray-700 "),r.Bb(3),r.dc("ngForOf",t.categorias)}}let UC=(()=>{class t{constructor(t,e,n){this.afs=t,this.afAuth=e,this.storage=n,this.categorias=[],this.novo=!1,this.categoria={titulo:null}}carregar(){this.afs.firestore.collection("categorias").get().then(t=>{let e=[];t.forEach(t=>{let n=t.data();n.id=t.id,e.push(n)}),this.categorias=e})}excluir(t){this.afs.firestore.collection("categorias").doc(t).delete().then(()=>{this.carregar()})}ngOnInit(){this.carregar()}adicionar(){this.categoria.titulo&&this.afs.firestore.collection("categorias").add(this.categoria).then(()=>{this.novo=!1,this.carregar()})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(h_),r.Nb(Yw),r.Nb(NC))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-categorias"]],decls:2,vars:2,consts:[["class","relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded",3,"ngClass",4,"ngIf"],[1,"relative","flex","flex-col","min-w-0","break-words","w-full","mb-6","shadow-lg","rounded",3,"ngClass"],[1,"rounded-t","mb-0","px-4","py-3","border-0"],[1,"flex","flex-wrap","items-center"],[1,"relative","w-full","px-4","max-w-full","flex-grow","flex-1"],["type","button",1,"text-gray-700","bg-gray-1000","active:bg-gray-1100","font-bold","uppercase","text-xs","px-4","py-2","rounded","shadow","hover:shadow-md","outline-none","focus:outline-none","mr-1","ease-linear","transition-all","duration-150",3,"click"],[1,"text-base","text-gray-700",2,"margin-top","20px","font-size","24px","font-weight","500"],[1,"block","w-full","overflow-x-auto"],[1,"flex","flex-wrap",2,"padding","15px"],[1,"w-full","lg:w-6/12","px-4"],[1,"relative","w-full","mb-3"],["htmlFor","grid-password",1,"block","uppercase","text-gray-700","text-base","font-bold","mb-2"],["type","text",1,"px-3","py-3","placeholder-gray-400","text-gray-700","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:shadow-outline","w-full","ease-linear","transition-all","duration-150",2,"border","solid 1px #718096",3,"ngModel","ngModelChange"],["type","button",1,"text-gray-700","bg-gray-1000","active:bg-red-700","font-bold","uppercase","text-xs","px-4","py-2","rounded","shadow","hover:shadow-md","outline-none","focus:outline-none","mr-1","ease-linear","transition-all","duration-150",3,"click"],["type","button",1,"text-gray-700","bg-gray-1000","text-white","active:bg-red-1100","font-bold","uppercase","text-xs","px-4","py-2","rounded","shadow","hover:shadow-md","outline-none","focus:outline-none","mr-1","ease-linear","transition-all","duration-150",3,"click"],[1,"text-base","text-gray-700",2,"margin-top","20px","font-weight","500"],[1,"items-center","w-full","bg-transparent","border-collapse"],[1,"px-6","align-middle","border","border-solid","py-3","text-base","uppercase","border-l-0","border-r-0","whitespace-no-wrap","font-semibold","text-left",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"border-t-0","px-6","align-middle","border-l-0","border-r-0","text-base","whitespace-no-wrap","p-4","text-left","flex","items-center"],[1,"ml-3","font-bold",3,"ngClass"],[1,"border-t-0","px-6","align-middle","border-l-0","border-r-0","text-xs","whitespace-no-wrap","p-4","text-right"],[1,"excluirDiv",3,"click"]],template:function(t,e){1&t&&(r.tc(0,VC,20,2,"div",0),r.tc(1,FC,18,4,"div",0)),2&t&&(r.dc("ngIf",e.novo),r.Bb(1),r.dc("ngIf",!e.novo))},directives:[ot,et,Qi,Xi,Qo,rt],encapsulation:2}),t})();function BC(t,e){if(1&t&&(r.Qb(0,"p"),r.uc(1),r.Pb()),2&t){const t=r.Yb().$implicit;r.Bb(1),r.xc("+ ",t.titulo," | R$",t.preco,"")}}function qC(t,e){if(1&t&&(r.Qb(0,"div"),r.tc(1,BC,2,2,"p",23),r.Pb()),2&t){const t=e.$implicit;r.Bb(1),r.dc("ngIf",t.checked)}}function HC(t,e){if(1&t&&(r.Qb(0,"p"),r.uc(1),r.Pb()),2&t){const t=r.Yb().$implicit;r.Bb(1),r.vc(t.titulo)}}function QC(t,e){if(1&t&&(r.Qb(0,"div"),r.tc(1,HC,2,1,"p",23),r.Pb()),2&t){const t=e.$implicit;r.Bb(1),r.dc("ngIf",t.checked)}}function zC(t,e){if(1&t&&(r.Qb(0,"p"),r.uc(1),r.Pb()),2&t){const t=r.Yb().$implicit;r.Bb(1),r.wc("Obs: ",t.obs,"")}}function WC(t,e){if(1&t&&(r.Qb(0,"div",22),r.Qb(1,"span",14),r.uc(2),r.Pb(),r.tc(3,qC,2,1,"div",15),r.tc(4,QC,2,1,"div",15),r.tc(5,zC,2,1,"p",23),r.Pb()),2&t){const t=e.$implicit;r.Bb(2),r.yc("",t.quantidade,"x ",t.titulo," | R$",t.preco,""),r.Bb(1),r.dc("ngForOf",t.adicionais),r.Bb(1),r.dc("ngForOf",t.variacoes),r.Bb(1),r.dc("ngIf",t.obs)}}function KC(t,e){if(1&t&&(r.Qb(0,"p"),r.uc(1),r.Pb()),2&t){const t=r.Yb().$implicit;r.Bb(1),r.vc(t.titulo)}}function GC(t,e){if(1&t&&(r.Qb(0,"p"),r.uc(1),r.Pb()),2&t){const t=r.Yb(2).$implicit;r.Bb(1),r.wc("Troco: ",t.cliente.troco,"")}}function YC(t,e){if(1&t&&(r.Qb(0,"div"),r.tc(1,KC,2,1,"p",23),r.tc(2,GC,2,1,"p",23),r.Pb()),2&t){const t=e.$implicit;r.Bb(1),r.dc("ngIf",t.checked),r.Bb(1),r.dc("ngIf",t.troco)}}function XC(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",24),r.Wb("click",(function(){r.lc(t);const e=r.Yb().$implicit;return r.Yb().aceitar(e.id)})),r.uc(1," Aceitar "),r.Pb()}}function ZC(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",25),r.Wb("click",(function(){r.lc(t);const e=r.Yb().$implicit;return r.Yb().recusar(e.id)})),r.uc(1," Recusar "),r.Pb()}}function JC(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",26),r.Wb("click",(function(){r.lc(t);const e=r.Yb().$implicit;return r.Yb().saiuEntrega(e.id)})),r.uc(1," Marcar como saiu para entrega "),r.Pb()}}function $C(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",27),r.Wb("click",(function(){r.lc(t);const e=r.Yb().$implicit;return r.Yb().finalizado(e.id)})),r.uc(1," Marcar como entregue "),r.Pb()}}function tx(t,e){if(1&t&&(r.Qb(0,"tr",10),r.Qb(1,"th",11),r.uc(2),r.Zb(3,"date"),r.Pb(),r.Qb(4,"td",12),r.uc(5),r.Pb(),r.Qb(6,"td",12),r.tc(7,WC,6,6,"div",13),r.Pb(),r.Qb(8,"td",12),r.Qb(9,"p"),r.Qb(10,"span",14),r.uc(11,"Cliente: "),r.Pb(),r.uc(12),r.Pb(),r.Qb(13,"p"),r.Qb(14,"span",14),r.uc(15,"Rua: "),r.Pb(),r.uc(16),r.Pb(),r.Qb(17,"p"),r.Qb(18,"span",14),r.uc(19,"N\xb0: "),r.Pb(),r.uc(20),r.Pb(),r.Qb(21,"p"),r.Qb(22,"span",14),r.uc(23,"Telefone: "),r.Pb(),r.uc(24),r.Pb(),r.Pb(),r.Qb(25,"td",12),r.tc(26,YC,3,2,"div",15),r.Pb(),r.Qb(27,"td",16),r.Qb(28,"p",17),r.uc(29),r.Pb(),r.tc(30,XC,2,0,"button",18),r.tc(31,ZC,2,0,"button",19),r.tc(32,JC,2,0,"button",20),r.tc(33,$C,2,0,"button",21),r.Pb(),r.Pb()),2&t){const t=e.$implicit;r.Bb(2),r.wc(" ",r.ac(3,13,t.data.toDate(),"dd/MM/yyyy HH:mm")," "),r.Bb(3),r.wc(" R$",t.total," "),r.Bb(2),r.dc("ngForOf",t.itens),r.Bb(5),r.vc(t.cliente.nome),r.Bb(4),r.vc(t.cliente.rua),r.Bb(4),r.vc(t.cliente.numero),r.Bb(4),r.vc(t.cliente.telefone),r.Bb(2),r.dc("ngForOf",t.cliente.pagamentos),r.Bb(3),r.wc(" ",t.status," "),r.Bb(1),r.dc("ngIf","aguardando"==t.status),r.Bb(1),r.dc("ngIf","aguardando"==t.status),r.Bb(1),r.dc("ngIf","preparando"==t.status),r.Bb(1),r.dc("ngIf","saiu para entrega"==t.status)}}let ex=(()=>{class t{constructor(t,e,n){this.afs=t,this.afAuth=e,this.storage=n,this.pedidos=[],this.config={nome:null,whatsapp:null,color:null,logo:null,banner:null},this.selectedFile=null,this.selectedFile2=null}onFileSelected(t){var e=Date.now();const n=t.target.files[0],r=this.storage.ref("imagems/"+e);this.storage.upload("imagems/"+e,n).snapshotChanges().pipe(Ke(()=>{this.downloadURL=r.getDownloadURL(),this.downloadURL.subscribe(t=>{t&&(this.fb=t,this.config.logo=this.fb)})})).subscribe(t=>{t&&console.log(t)})}onFileSelected2(t){var e=Date.now();const n=t.target.files[0],r=this.storage.ref("imagems/"+e);this.storage.upload("imagems/"+e,n).snapshotChanges().pipe(Ke(()=>{this.downloadURL2=r.getDownloadURL(),this.downloadURL2.subscribe(t=>{t&&(this.fb2=t,this.config.banner=this.fb)})})).subscribe(t=>{t&&console.log(t)})}carregar(){this.afs.firestore.collection("config").doc("config").get().then(t=>{this.config=JSON.parse(JSON.stringify(t.data()))}),this.afs.collection("pedidos",t=>t.orderBy("data","desc")).snapshotChanges().subscribe(t=>{let e=[];t.forEach(t=>{let n=t.payload.doc.data();n.id=t.payload.doc.id,e.push(n)}),console.log("pedidos",e),this.pedidos=e})}ngOnInit(){this.carregar()}aceitar(t){this.afs.firestore.collection("pedidos").doc(t).update({status:"preparando"}).then(()=>{this.carregar()})}recusar(t){this.afs.firestore.collection("pedidos").doc(t).update({status:"recusado"}).then(()=>{this.carregar()})}saiuEntrega(t){this.afs.firestore.collection("pedidos").doc(t).update({status:"saiu para entrega"}).then(()=>{this.carregar()})}finalizado(t){this.afs.firestore.collection("pedidos").doc(t).update({status:"entregue"}).then(()=>{this.carregar()})}salvar(){this.afs.firestore.collection("config").doc("config").update(this.config)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(h_),r.Nb(Yw),r.Nb(NC))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-pedidos"]],decls:25,vars:1,consts:[[1,"relative","flex","flex-col","min-w-0","break-words","bg-white","w-full","mb-6","shadow-lg","rounded"],[1,"rounded-t","mb-0","px-4","py-3","border-0",2,"margin-top","30px"],[1,"flex","flex-wrap","items-center"],[1,"relative","w-full","px-4","max-w-full","flex-grow","flex-1"],[1,"font-semibold","text-base","text-gray-800"],[1,"relative","w-full","px-4","max-w-full","flex-grow","flex-1","text-right"],[1,"block","w-full","overflow-x-auto"],[1,"items-center","w-full","bg-transparent","border-collapse"],[1,"px-6","bg-gray-1000","bg-gray-1000","align-middle","border","border-solid","border-gray-200","py-3","text-xs","uppercase","border-l-0","border-r-0","whitespace-no-wrap","font-semibold","text-left"],["style","border-bottom: 1px solid rgb(211, 211, 211);",4,"ngFor","ngForOf"],[2,"border-bottom","1px solid rgb(211, 211, 211)"],[1,"border-t-0","px-6","align-middle","border-l-0","border-r-0","text-sm","whitespace-no-wrap","p-4","text-left"],[1,"border-t-0","px-6","align-middle","border-l-0","border-r-0","text-sm","whitespace-no-wrap","p-4"],["style","border-radius: 5px; border: rgb(187, 187, 187) 1px solid; padding: 5px; margin-bottom: 10px;",4,"ngFor","ngForOf"],[2,"font-weight","700"],[4,"ngFor","ngForOf"],[1,"border-t-0","px-6","align-middle","border-l-0","border-r-0","text-sm","whitespace-no-wrap","p-4",2,"text-align","center"],[2,"margin-bottom","5px","text-transform","capitalize","text-align","center","font-weight","700"],["class","bg-indigo-500 text-white active:bg-indigo-600 text-sm font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150","type","button","style","background: rgb(0, 148, 13);",3,"click",4,"ngIf"],["class","bg-indigo-500 text-white active:bg-indigo-600 text-sm font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150","type","button","style","background: rgb(163, 4, 4);",3,"click",4,"ngIf"],["class","bg-indigo-500 text-white active:bg-indigo-600 text-sm font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150","type","button","style","background: rgb(224, 183, 0);",3,"click",4,"ngIf"],["class","bg-indigo-500 text-white active:bg-indigo-600 text-sm font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150","type","button","style","background: rgb(224, 119, 0);",3,"click",4,"ngIf"],[2,"border-radius","5px","border","rgb(187, 187, 187) 1px solid","padding","5px","margin-bottom","10px"],[4,"ngIf"],["type","button",1,"bg-indigo-500","text-white","active:bg-indigo-600","text-sm","font-bold","uppercase","px-3","py-1","rounded","outline-none","focus:outline-none","mr-1","mb-1","ease-linear","transition-all","duration-150",2,"background","rgb(0, 148, 13)",3,"click"],["type","button",1,"bg-indigo-500","text-white","active:bg-indigo-600","text-sm","font-bold","uppercase","px-3","py-1","rounded","outline-none","focus:outline-none","mr-1","mb-1","ease-linear","transition-all","duration-150",2,"background","rgb(163, 4, 4)",3,"click"],["type","button",1,"bg-indigo-500","text-white","active:bg-indigo-600","text-sm","font-bold","uppercase","px-3","py-1","rounded","outline-none","focus:outline-none","mr-1","mb-1","ease-linear","transition-all","duration-150",2,"background","rgb(224, 183, 0)",3,"click"],["type","button",1,"bg-indigo-500","text-white","active:bg-indigo-600","text-sm","font-bold","uppercase","px-3","py-1","rounded","outline-none","focus:outline-none","mr-1","mb-1","ease-linear","transition-all","duration-150",2,"background","rgb(224, 119, 0)",3,"click"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"h1",4),r.uc(5," Pedidos "),r.Pb(),r.Pb(),r.Ob(6,"div",5),r.Pb(),r.Pb(),r.Qb(7,"div",6),r.Qb(8,"table",7),r.Qb(9,"thead"),r.Qb(10,"tr"),r.Qb(11,"th",8),r.uc(12," Data "),r.Pb(),r.Qb(13,"th",8),r.uc(14," Total "),r.Pb(),r.Qb(15,"th",8),r.uc(16," Pedido "),r.Pb(),r.Qb(17,"th",8),r.uc(18," Entrega "),r.Pb(),r.Qb(19,"th",8),r.uc(20," Pagamento "),r.Pb(),r.Qb(21,"th",8),r.uc(22," Status "),r.Pb(),r.Pb(),r.Pb(),r.Qb(23,"tbody"),r.tc(24,tx,34,16,"tr",9),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Bb(24),r.dc("ngForOf",e.pedidos))},directives:[rt,ot],pipes:[ut],encapsulation:2}),t})();function nx(t,e){if(1&t&&(r.Qb(0,"option",22),r.uc(1),r.Pb()),2&t){const t=e.$implicit;r.ec("value",t.id),r.Bb(1),r.wc("",t.titulo," ")}}function rx(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",18),r.Qb(1,"div",10),r.Qb(2,"label",23),r.uc(3),r.Qb(4,"span",24),r.Wb("click",(function(){r.lc(t);const n=e.index;return r.Yb(2).removerOpcional(n)})),r.uc(5,"Remover"),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.Bb(3),r.wc(" ",t.titulo," ")}}function ix(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",18),r.Qb(1,"div",10),r.Qb(2,"label",11),r.uc(3),r.Qb(4,"span",24),r.Wb("click",(function(){r.lc(t);const n=e.index;return r.Yb(2).removerAdicional(n)})),r.uc(5,"Remover"),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.Bb(3),r.xc(" ",t.titulo," - R$",t.preco," ")}}function ox(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",1),r.Qb(1,"div",2),r.Qb(2,"div",3),r.Qb(3,"div",4),r.Qb(4,"button",5),r.Wb("click",(function(){return r.lc(t),r.Yb().novo=!1})),r.uc(5," Voltar "),r.Pb(),r.Qb(6,"h1",6),r.uc(7," Novo produto "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(8,"div",7),r.Qb(9,"div",8),r.Qb(10,"div",9),r.Qb(11,"div",10),r.Qb(12,"label",11),r.uc(13," Imagem de destaque "),r.Pb(),r.Qb(14,"input",12,13),r.Wb("change",(function(e){return r.lc(t),r.Yb().onFileSelected(e)})),r.Pb(),r.Pb(),r.Pb(),r.Qb(16,"div",9),r.Qb(17,"div",10),r.Qb(18,"label",11),r.uc(19," Categoria "),r.Pb(),r.Qb(20,"select",14),r.Wb("ngModelChange",(function(e){return r.lc(t),r.Yb().produto.categoria=e})),r.tc(21,nx,2,2,"option",15),r.Pb(),r.Pb(),r.Pb(),r.Qb(22,"div",9),r.Qb(23,"div",10),r.Qb(24,"label",11),r.uc(25," Nome "),r.Pb(),r.Qb(26,"input",16),r.Wb("ngModelChange",(function(e){return r.lc(t),r.Yb().produto.titulo=e})),r.Pb(),r.Pb(),r.Pb(),r.Qb(27,"div",9),r.Qb(28,"div",10),r.Qb(29,"label",11),r.uc(30," Pre\xe7o (R$) "),r.Pb(),r.Qb(31,"input",17),r.Wb("ngModelChange",(function(e){return r.lc(t),r.Yb().produto.preco=e})),r.Pb(),r.Pb(),r.Pb(),r.Qb(32,"div",18),r.Qb(33,"div",10),r.Qb(34,"label",11),r.uc(35," Descri\xe7\xe3o "),r.Pb(),r.Qb(36,"textarea",16),r.Wb("ngModelChange",(function(e){return r.lc(t),r.Yb().produto.descricao=e})),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(37,"div",2),r.Qb(38,"div",3),r.Qb(39,"div",4),r.Qb(40,"h1",19),r.uc(41," Op\xe7\xf5es (varia\xe7\xf5es do produto) "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(42,"div",7),r.Qb(43,"div",8),r.Qb(44,"div",9),r.Qb(45,"div",10),r.Qb(46,"label",11),r.uc(47," T\xedtulo "),r.Pb(),r.Qb(48,"input",16),r.Wb("ngModelChange",(function(e){return r.lc(t),r.Yb().opcional=e})),r.Pb(),r.Pb(),r.Pb(),r.tc(49,rx,6,1,"div",20),r.Pb(),r.Pb(),r.Qb(50,"div",2),r.Qb(51,"div",3),r.Qb(52,"div",4),r.Qb(53,"button",5),r.Wb("click",(function(){return r.lc(t),r.Yb().addOpcional()})),r.uc(54," Adicionar "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(55,"div",2),r.Qb(56,"div",3),r.Qb(57,"div",4),r.Qb(58,"h1",19),r.uc(59," Adicionais "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(60,"div",7),r.Qb(61,"div",8),r.Qb(62,"div",9),r.Qb(63,"div",10),r.Qb(64,"label",11),r.uc(65," T\xedtulo "),r.Pb(),r.Qb(66,"input",16),r.Wb("ngModelChange",(function(e){return r.lc(t),r.Yb().adicional.titulo=e})),r.Pb(),r.Pb(),r.Pb(),r.Qb(67,"div",9),r.Qb(68,"div",10),r.Qb(69,"label",11),r.uc(70," Pre\xe7o "),r.Pb(),r.Qb(71,"input",17),r.Wb("ngModelChange",(function(e){return r.lc(t),r.Yb().adicional.preco=e})),r.Pb(),r.Pb(),r.Pb(),r.tc(72,ix,6,2,"div",20),r.Pb(),r.Pb(),r.Qb(73,"div",2),r.Qb(74,"div",3),r.Qb(75,"div",4),r.Qb(76,"button",5),r.Wb("click",(function(){return r.lc(t),r.Yb().addAdicional()})),r.uc(77," Adicionar "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(78,"div",2),r.Qb(79,"div",3),r.Qb(80,"div",4),r.Qb(81,"button",21),r.Wb("click",(function(){return r.lc(t),r.Yb().salvar()})),r.uc(82," Salvar "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.Yb();r.dc("ngClass","light"===t.color?"bg-white":"bg-white text-white"),r.Bb(6),r.dc("ngClass","light"===t.color?"text-gray-800":"text-white"),r.Bb(14),r.dc("ngModel",t.produto.categoria),r.Bb(1),r.dc("ngForOf",t.categorias),r.Bb(5),r.dc("ngModel",t.produto.titulo),r.Bb(5),r.dc("ngModel",t.produto.preco),r.Bb(5),r.dc("ngModel",t.produto.descricao),r.Bb(4),r.dc("ngClass","light"===t.color?"text-gray-800":"text-white"),r.Bb(8),r.dc("ngModel",t.opcional),r.Bb(1),r.dc("ngForOf",t.produto.variacoes),r.Bb(9),r.dc("ngClass","light"===t.color?"text-gray-800":"text-white"),r.Bb(8),r.dc("ngModel",t.adicional.titulo),r.Bb(5),r.dc("ngModel",t.adicional.preco),r.Bb(1),r.dc("ngForOf",t.produto.adicionais)}}function sx(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr"),r.Qb(1,"th",28),r.Ob(2,"img",29),r.Qb(3,"span",30),r.uc(4),r.Pb(),r.Pb(),r.Qb(5,"td",31),r.uc(6),r.Pb(),r.Qb(7,"td",32),r.Qb(8,"div",33),r.Wb("click",(function(){r.lc(t);const n=e.$implicit;return r.Yb(2).excluir(n.id)})),r.uc(9,"Excluir"),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.Yb(2),r.Bb(2),r.dc("src",t.imagem,r.mc),r.Bb(1),r.dc("ngClass","text-gray-700"),r.Bb(1),r.wc(" ",t.titulo," "),r.Bb(2),r.wc(" R$",t.preco," ")}}function ax(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",1),r.Qb(1,"div",2),r.Qb(2,"div",3),r.Qb(3,"div",4),r.Qb(4,"button",5),r.Wb("click",(function(){return r.lc(t),r.Yb().novo=!0})),r.uc(5," Adicionar novo "),r.Pb(),r.Qb(6,"h1",6),r.uc(7," Produtos "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(8,"div",7),r.Qb(9,"table",25),r.Qb(10,"thead"),r.Qb(11,"tr"),r.Qb(12,"th",26),r.uc(13," Nome "),r.Pb(),r.Qb(14,"th",26),r.uc(15," Pre\xe7o "),r.Pb(),r.Qb(16,"th",26),r.uc(17," A\xe7\xf5es "),r.Pb(),r.Pb(),r.Pb(),r.Qb(18,"tbody"),r.tc(19,sx,10,4,"tr",27),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.Yb();r.dc("ngClass","light"===t.color?"bg-white":"bg-white text-white"),r.Bb(6),r.dc("ngClass","light"===t.color?"text-gray-800":"text-white"),r.Bb(6),r.dc("ngClass","light"===t.color?"bg-gray-100 text-gray-600 border-gray-200":"bg-gray-1000 text-gray-700 border-gray-1000"),r.Bb(2),r.dc("ngClass","light"===t.color?"bg-gray-100 text-gray-600 border-gray-200":"bg-gray-1000 text-gray-700 border-gray-1000"),r.Bb(2),r.dc("ngClass","light"===t.color?"bg-gray-100 text-gray-600 border-gray-200":"bg-gray-1000 text-gray-700 border-gray-1000"),r.Bb(3),r.dc("ngForOf",t.produtos)}}let ux=(()=>{class t{constructor(t,e,n){this.afs=t,this.afAuth=e,this.storage=n,this.produtos=[],this.novo=!1,this.produto={titulo:null,preco:null,adicionais:[],variacoes:[],imagem:null,categoria:null,descricao:null},this.title="cloudsSorage",this.selectedFile=null,this.opcional=null,this.adicional={titulo:null,preco:null},this.categorias=[]}onFileSelected(t){var e=Date.now();const n=t.target.files[0],r=this.storage.ref("imagems/"+e);this.storage.upload("imagems/"+e,n).snapshotChanges().pipe(Ke(()=>{this.downloadURL=r.getDownloadURL(),this.downloadURL.subscribe(t=>{t&&(this.fb=t,this.produto.imagem=this.fb)})})).subscribe(t=>{t&&console.log(t)})}carregar(){this.afs.firestore.collection("categorias").get().then(t=>{let e=[];t.forEach(t=>{let n=t.data();n.id=t.id,e.push(n)}),this.categorias=e}),this.afs.firestore.collection("produtos").get().then(t=>{let e=[];t.forEach(t=>{let n=t.data();n.id=t.id,e.push(n)}),this.produtos=e,console.log(this.produtos)})}ngOnInit(){this.carregar()}addOpcional(){""!=this.opcional&&(this.produto.variacoes.push({titulo:this.opcional,checked:!1}),this.opcional="")}excluir(t){this.afs.firestore.collection("produtos").doc(t).delete().then(()=>{this.carregar()})}removerOpcional(t){this.produto.variacoes.splice(t,1)}addAdicional(){""!=this.adicional.titulo&&this.adicional.preco>0&&(this.produto.adicionais.push({titulo:this.adicional.titulo,preco:this.adicional.preco,checked:!1}),this.adicional.preco="",this.adicional.titulo="")}removerAdicional(t){this.produto.adicionais.splice(t,1)}salvar(){this.produto.titulo&&this.produto.imagem&&this.produto.descricao&&this.produto.preco&&this.produto.categoria?this.afs.firestore.collection("produtos").add(this.produto).then(()=>{this.carregar(),this.novo=!1,this.produto={titulo:null,preco:null,adicionais:[],variacoes:[],imagem:null,categoria:null,descricao:null}}):alert("Por favor, preencha todos os campos")}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(h_),r.Nb(Yw),r.Nb(NC))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-produtos"]],decls:2,vars:2,consts:[["class","relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded",3,"ngClass",4,"ngIf"],[1,"relative","flex","flex-col","min-w-0","break-words","w-full","mb-6","shadow-lg","rounded",3,"ngClass"],[1,"rounded-t","mb-0","px-4","py-3","border-0"],[1,"flex","flex-wrap","items-center"],[1,"relative","w-full","px-4","max-w-full","flex-grow","flex-1"],["type","button",1,"text-gray-700","bg-gray-1000","active:bg-gray-1100","font-bold","uppercase","text-xs","px-4","py-2","rounded","shadow","hover:shadow-md","outline-none","focus:outline-none","mr-1","ease-linear","transition-all","duration-150",3,"click"],[1,"text-base","text-gray-700",2,"margin-top","20px","font-weight","500",3,"ngClass"],[1,"block","w-full","overflow-x-auto"],[1,"flex","flex-wrap",2,"padding","15px"],[1,"w-full","lg:w-6/12","px-4"],[1,"relative","w-full","mb-3"],["htmlFor","grid-password",1,"block","uppercase","text-gray-700","text-base","font-bold","mb-2"],["type","file","id","file","name","image","autocomplete","off",1,"border-gray-700","px-3","py-3","placeholder-gray-400","text-gray-700","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:shadow-outline","w-full","ease-linear","transition-all","duration-150",3,"change"],["userPhoto",""],[1,"border-gray-700","px-3","py-3","placeholder-gray-400","text-gray-700","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:shadow-outline","w-full","ease-linear","transition-all","duration-150",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","text",1,"border-gray-700","px-3","py-3","placeholder-gray-400","text-gray-700","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:shadow-outline","w-full","ease-linear","transition-all","duration-150",3,"ngModel","ngModelChange"],["type","number",1,"border-gray-700","px-3","py-3","placeholder-gray-400","text-gray-700","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:shadow-outline","w-full","ease-linear","transition-all","duration-150",3,"ngModel","ngModelChange"],[1,"w-full","lg:w-12","px-4"],[1,"block","uppercase","text-gray-700","text-base","font-bold","mb-2",2,"margin-top","20px",3,"ngClass"],["class","w-full lg:w-12 px-4",4,"ngFor","ngForOf"],["type","button",1,"text-gray-700","bg-gray-1000","active:bg-gray-1100","font-bold","uppercase","text-xs","px-4","py-2","rounded","shadow","hover:shadow-md","outline-none","focus:outline-none","mr-1","ease-linear","transition-all","duration-150",2,"margin-left","90%",3,"click"],[3,"value"],["htmlFor","grid-password",1,"border-gray-700","block","uppercase","text-gray-700","text-base","font-bold","mb-2"],[1,"remover",3,"click"],[1,"items-center","w-full","bg-transparent","border-collapse"],[1,"px-6","align-middle","border","border-solid","py-3","text-base","uppercase","border-l-0","border-r-0","whitespace-no-wrap","font-semibold","text-left",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"border-t-0","px-6","align-middle","border-l-0","border-r-0","text-lg","whitespace-no-wrap","p-4","text-left","flex","items-center"],["alt","...",1,"h-16","w-16","bg-white","rounded-full","border",3,"src"],[1,"ml-3","font-semibold",3,"ngClass"],[1,"text-gray-700","border-t-0","px-6","align-middle","border-l-0","border-r-0","text-lg","whitespace-no-wrap","p-4"],[1,"border-t-0","px-6","align-middle","border-l-0","border-r-0","text-base","whitespace-no-wrap","p-4","text-right"],[1,"excluirDiv",3,"click"]],template:function(t,e){1&t&&(r.tc(0,ox,83,14,"div",0),r.tc(1,ax,20,6,"div",0)),2&t&&(r.dc("ngIf",e.novo),r.Bb(1),r.dc("ngIf",!e.novo))},directives:[ot,et,vo,Xi,Qo,rt,Qi,lo,wo,Eo],encapsulation:2}),t})(),cx=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-tables"]],decls:2,vars:0,consts:[[1,"flex","flex-wrap","mt-4"],[1,"w-full","mb-12","px-4"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Ob(1,"div",1),r.Pb())},encapsulation:2}),t})();function lx(t,e){1&t&&r.Ob(0,"img",13)}let hx=(()=>{class t{constructor(t,e,n){this.afAuth=t,this.afs=e,this.router=n,this.isLoading=!1,this.usuario={email:null,senha:null}}ngOnInit(){}fazerLogin(){console.log(this.usuario),this.afAuth.signInWithEmailAndPassword(this.usuario.email,this.usuario.senha).then(()=>{this.afAuth.setPersistence(gs.a.auth.Auth.Persistence.SESSION),console.log("logado"),setTimeout(()=>{this.isLoading=!1,this.afs.firestore.collection("admins").where("email","==",this.usuario.email).get().then(t=>{let e=[];t.forEach(t=>{e.push(t.data())}),e.length>0?this.router.navigate(["admin/pedidos"]):alert("Ops! Acesso n\xe3o liberado")})},3e3),this.isLoading=!0}).catch(()=>{alert("Ops! Acesso n\xe3o liberado")})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Yw),r.Nb(h_),r.Nb(fi))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-login"]],decls:20,vars:4,consts:[[1,"container","mx-auto","px-4","h-full"],[1,"flex","content-center","items-center","justify-center","h-full"],[1,"w-full","lg:w-4/12","px-4"],[1,"relative","flex","flex-col","min-w-0","break-words","w-full","mb-6","shadow-lg","rounded-lg","bg-gray-300","border-0"],[1,"flex-auto","px-4","lg:px-10","py-10","pt-0"],[1,"text-gray-500","text-center","mb-3","font-bold",2,"margin-top","15px !important"],[1,"relative","w-full","mb-3"],["htmlFor","grid-password",1,"block","uppercase","text-gray-700","text-xs","font-bold","mb-2"],["type","email","placeholder","Email",1,"px-3","py-3","placeholder-gray-400","text-gray-700","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:shadow-outline","w-full","ease-linear","transition-all","duration-150",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",1,"px-3","py-3","placeholder-gray-400","text-gray-700","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:shadow-outline","w-full","ease-linear","transition-all","duration-150",3,"ngModel","ngModelChange"],[1,"text-center","mt-6",3,"click"],["type","button",1,"text-white","btnLogin","text-sm","font-bold","uppercase",3,"disabled"],["class","h-6 pr-4","src","../../../../assets/img/download.gif",4,"ngIf"],["src","../../../../assets/img/download.gif",1,"h-6","pr-4"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Qb(5,"div",5),r.Qb(6,"small"),r.uc(7,"Entrar"),r.Pb(),r.Pb(),r.Qb(8,"div",6),r.Qb(9,"label",7),r.uc(10," E-mail "),r.Pb(),r.Qb(11,"input",8),r.Wb("ngModelChange",(function(t){return e.usuario.email=t})),r.Pb(),r.Pb(),r.Qb(12,"div",6),r.Qb(13,"label",7),r.uc(14," Senha "),r.Pb(),r.Qb(15,"input",9),r.Wb("ngModelChange",(function(t){return e.usuario.senha=t})),r.Pb(),r.Pb(),r.Qb(16,"div",10),r.Wb("click",(function(){return e.fazerLogin()})),r.Qb(17,"button",11),r.tc(18,lx,1,0,"img",12),r.uc(19," Fazer login "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Bb(11),r.dc("ngModel",e.usuario.email),r.Bb(4),r.dc("ngModel",e.usuario.senha),r.Bb(2),r.dc("disabled",e.isLoading),r.Bb(1),r.dc("ngIf",e.isLoading))},directives:[Qi,Xi,Qo,ot],encapsulation:2}),t})(),dx=(()=>{class t{constructor(t){this.afAuth=t}logado(){return new Promise((t,e)=>{this.afAuth.authState.subscribe(n=>{n?t(n):e(n)})})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Yw))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),fx=(()=>{class t{constructor(t,e){this.authService=t,this._router=e}canActivate(t,e){return this.authService.logado().then(t=>(console.log(t),!!t||(this._router.navigate(["/auth/login"]),!1)))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(dx),r.Ub(fi))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const px=["dialogPopup"],gx=["hueSlider"],bx=["alphaSlider"];function mx(t,e){if(1&t&&r.Ob(0,"div"),2&t){const t=r.Yb();r.Eb("arrow arrow-",t.cpUsePosition,""),r.qc("top",t.arrowTop,"px")}}function yx(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",26),r.Wb("newValue",(function(e){return r.lc(t),r.Yb().onColorChange(e)}))("dragStart",(function(){return r.lc(t),r.Yb().onDragStart("saturation-lightness")}))("dragEnd",(function(){return r.lc(t),r.Yb().onDragEnd("saturation-lightness")})),r.Ob(1,"div",13),r.Pb()}if(2&t){const t=r.Yb();r.qc("background-color",t.hueSliderColor),r.dc("rgX",1)("rgY",1),r.Bb(1),r.qc("top",null==t.slider?null:t.slider.v,"px")("left",null==t.slider?null:t.slider.s,"px")}}function vx(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",27),r.Wb("click",(function(e){r.lc(t);const n=r.Yb();return n.onAddPresetColor(e,n.selectedColor)})),r.uc(1),r.Pb()}if(2&t){const t=r.Yb();r.Db(t.cpAddColorButtonClass),r.dc("disabled",t.cpPresetColors&&t.cpPresetColors.length>=t.cpMaxPresetColorsLength),r.Bb(1),r.wc(" ",t.cpAddColorButtonText," ")}}function wx(t,e){1&t&&r.Ob(0,"div",28)}function _x(t,e){if(1&t){const t=r.Rb();r.Qb(0,"input",34),r.Wb("keyup.enter",(function(e){return r.lc(t),r.Yb(2).onAcceptColor(e)}))("newValue",(function(e){return r.lc(t),r.Yb(2).onAlphaInput(e)})),r.Pb()}if(2&t){const t=r.Yb(2);r.dc("rg",1)("value",null==t.cmykText?null:t.cmykText.a)}}function Cx(t,e){1&t&&(r.Qb(0,"div"),r.uc(1,"A"),r.Pb())}function xx(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",29),r.Qb(1,"div",30),r.Qb(2,"input",31),r.Wb("keyup.enter",(function(e){return r.lc(t),r.Yb().onAcceptColor(e)}))("newValue",(function(e){return r.lc(t),r.Yb().onCyanInput(e)})),r.Pb(),r.Qb(3,"input",31),r.Wb("keyup.enter",(function(e){return r.lc(t),r.Yb().onAcceptColor(e)}))("newValue",(function(e){return r.lc(t),r.Yb().onMagentaInput(e)})),r.Pb(),r.Qb(4,"input",31),r.Wb("keyup.enter",(function(e){return r.lc(t),r.Yb().onAcceptColor(e)}))("newValue",(function(e){return r.lc(t),r.Yb().onYellowInput(e)})),r.Pb(),r.Qb(5,"input",31),r.Wb("keyup.enter",(function(e){return r.lc(t),r.Yb().onAcceptColor(e)}))("newValue",(function(e){return r.lc(t),r.Yb().onBlackInput(e)})),r.Pb(),r.tc(6,_x,1,2,"input",32),r.Pb(),r.Qb(7,"div",30),r.Qb(8,"div"),r.uc(9,"C"),r.Pb(),r.Qb(10,"div"),r.uc(11,"M"),r.Pb(),r.Qb(12,"div"),r.uc(13,"Y"),r.Pb(),r.Qb(14,"div"),r.uc(15,"K"),r.Pb(),r.tc(16,Cx,2,0,"div",33),r.Pb(),r.Pb()}if(2&t){const t=r.Yb();r.qc("display",3!==t.format?"none":"block"),r.Bb(2),r.dc("rg",100)("value",null==t.cmykText?null:t.cmykText.c),r.Bb(1),r.dc("rg",100)("value",null==t.cmykText?null:t.cmykText.m),r.Bb(1),r.dc("rg",100)("value",null==t.cmykText?null:t.cmykText.y),r.Bb(1),r.dc("rg",100)("value",null==t.cmykText?null:t.cmykText.k),r.Bb(1),r.dc("ngIf","disabled"!==t.cpAlphaChannel),r.Bb(10),r.dc("ngIf","disabled"!==t.cpAlphaChannel)}}function Ex(t,e){if(1&t){const t=r.Rb();r.Qb(0,"input",34),r.Wb("keyup.enter",(function(e){return r.lc(t),r.Yb(2).onAcceptColor(e)}))("newValue",(function(e){return r.lc(t),r.Yb(2).onAlphaInput(e)})),r.Pb()}if(2&t){const t=r.Yb(2);r.dc("rg",1)("value",null==t.hslaText?null:t.hslaText.a)}}function Ox(t,e){1&t&&(r.Qb(0,"div"),r.uc(1,"A"),r.Pb())}function Sx(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",35),r.Qb(1,"div",30),r.Qb(2,"input",36),r.Wb("keyup.enter",(function(e){return r.lc(t),r.Yb().onAcceptColor(e)}))("newValue",(function(e){return r.lc(t),r.Yb().onHueInput(e)})),r.Pb(),r.Qb(3,"input",31),r.Wb("keyup.enter",(function(e){return r.lc(t),r.Yb().onAcceptColor(e)}))("newValue",(function(e){return r.lc(t),r.Yb().onSaturationInput(e)})),r.Pb(),r.Qb(4,"input",31),r.Wb("keyup.enter",(function(e){return r.lc(t),r.Yb().onAcceptColor(e)}))("newValue",(function(e){return r.lc(t),r.Yb().onLightnessInput(e)})),r.Pb(),r.tc(5,Ex,1,2,"input",32),r.Pb(),r.Qb(6,"div",30),r.Qb(7,"div"),r.uc(8,"H"),r.Pb(),r.Qb(9,"div"),r.uc(10,"S"),r.Pb(),r.Qb(11,"div"),r.uc(12,"L"),r.Pb(),r.tc(13,Ox,2,0,"div",33),r.Pb(),r.Pb()}if(2&t){const t=r.Yb();r.qc("display",2!==t.format?"none":"block"),r.Bb(2),r.dc("rg",360)("value",null==t.hslaText?null:t.hslaText.h),r.Bb(1),r.dc("rg",100)("value",null==t.hslaText?null:t.hslaText.s),r.Bb(1),r.dc("rg",100)("value",null==t.hslaText?null:t.hslaText.l),r.Bb(1),r.dc("ngIf","disabled"!==t.cpAlphaChannel),r.Bb(8),r.dc("ngIf","disabled"!==t.cpAlphaChannel)}}function Ax(t,e){if(1&t){const t=r.Rb();r.Qb(0,"input",34),r.Wb("keyup.enter",(function(e){return r.lc(t),r.Yb(2).onAcceptColor(e)}))("newValue",(function(e){return r.lc(t),r.Yb(2).onAlphaInput(e)})),r.Pb()}if(2&t){const t=r.Yb(2);r.dc("rg",1)("value",null==t.rgbaText?null:t.rgbaText.a)}}function kx(t,e){1&t&&(r.Qb(0,"div"),r.uc(1,"A"),r.Pb())}function Ix(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",37),r.Qb(1,"div",30),r.Qb(2,"input",38),r.Wb("keyup.enter",(function(e){return r.lc(t),r.Yb().onAcceptColor(e)}))("newValue",(function(e){return r.lc(t),r.Yb().onRedInput(e)})),r.Pb(),r.Qb(3,"input",38),r.Wb("keyup.enter",(function(e){return r.lc(t),r.Yb().onAcceptColor(e)}))("newValue",(function(e){return r.lc(t),r.Yb().onGreenInput(e)})),r.Pb(),r.Qb(4,"input",38),r.Wb("keyup.enter",(function(e){return r.lc(t),r.Yb().onAcceptColor(e)}))("newValue",(function(e){return r.lc(t),r.Yb().onBlueInput(e)})),r.Pb(),r.tc(5,Ax,1,2,"input",32),r.Pb(),r.Qb(6,"div",30),r.Qb(7,"div"),r.uc(8,"R"),r.Pb(),r.Qb(9,"div"),r.uc(10,"G"),r.Pb(),r.Qb(11,"div"),r.uc(12,"B"),r.Pb(),r.tc(13,kx,2,0,"div",33),r.Pb(),r.Pb()}if(2&t){const t=r.Yb();r.qc("display",1!==t.format?"none":"block"),r.Bb(2),r.dc("rg",255)("value",null==t.rgbaText?null:t.rgbaText.r),r.Bb(1),r.dc("rg",255)("value",null==t.rgbaText?null:t.rgbaText.g),r.Bb(1),r.dc("rg",255)("value",null==t.rgbaText?null:t.rgbaText.b),r.Bb(1),r.dc("ngIf","disabled"!==t.cpAlphaChannel),r.Bb(8),r.dc("ngIf","disabled"!==t.cpAlphaChannel)}}function Tx(t,e){if(1&t){const t=r.Rb();r.Qb(0,"input",34),r.Wb("keyup.enter",(function(e){return r.lc(t),r.Yb(2).onAcceptColor(e)}))("newValue",(function(e){return r.lc(t),r.Yb(2).onAlphaInput(e)})),r.Pb()}if(2&t){const t=r.Yb(2);r.dc("rg",1)("value",t.hexAlpha)}}function Px(t,e){1&t&&(r.Qb(0,"div"),r.uc(1,"A"),r.Pb())}function Rx(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",39),r.Qb(1,"div",30),r.Qb(2,"input",40),r.Wb("blur",(function(){return r.lc(t),r.Yb().onHexInput(null)}))("keyup.enter",(function(e){return r.lc(t),r.Yb().onAcceptColor(e)}))("newValue",(function(e){return r.lc(t),r.Yb().onHexInput(e)})),r.Pb(),r.tc(3,Tx,1,2,"input",32),r.Pb(),r.Qb(4,"div",30),r.Qb(5,"div"),r.uc(6,"Hex"),r.Pb(),r.tc(7,Px,2,0,"div",33),r.Pb(),r.Pb()}if(2&t){const t=r.Yb();r.qc("display",0!==t.format?"none":"block"),r.Fb("hex-alpha","forced"===t.cpAlphaChannel),r.Bb(2),r.dc("value",t.hexText),r.Bb(1),r.dc("ngIf","forced"===t.cpAlphaChannel),r.Bb(4),r.dc("ngIf","forced"===t.cpAlphaChannel)}}function jx(t,e){if(1&t){const t=r.Rb();r.Qb(0,"input",34),r.Wb("keyup.enter",(function(e){return r.lc(t),r.Yb(2).onAcceptColor(e)}))("newValue",(function(e){return r.lc(t),r.Yb(2).onAlphaInput(e)})),r.Pb()}if(2&t){const t=r.Yb(2);r.dc("rg",1)("value",null==t.hslaText?null:t.hslaText.a)}}function Nx(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",41),r.Qb(1,"div",30),r.Qb(2,"input",31),r.Wb("keyup.enter",(function(e){return r.lc(t),r.Yb().onAcceptColor(e)}))("newValue",(function(e){return r.lc(t),r.Yb().onValueInput(e)})),r.Pb(),r.tc(3,jx,1,2,"input",32),r.Pb(),r.Qb(4,"div",30),r.Qb(5,"div"),r.uc(6,"V"),r.Pb(),r.Qb(7,"div"),r.uc(8,"A"),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.Yb();r.Bb(2),r.dc("rg",100)("value",null==t.hslaText?null:t.hslaText.l),r.Bb(1),r.dc("ngIf","disabled"!==t.cpAlphaChannel)}}function Dx(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",42),r.Qb(1,"span",43),r.Wb("click",(function(){return r.lc(t),r.Yb().onFormatToggle(-1)})),r.Pb(),r.Qb(2,"span",43),r.Wb("click",(function(){return r.lc(t),r.Yb().onFormatToggle(1)})),r.Pb(),r.Pb()}}function Mx(t,e){if(1&t){const t=r.Rb();r.Qb(0,"span",50),r.Wb("click",(function(e){r.lc(t);const n=r.Yb().$implicit;return r.Yb(3).onRemovePresetColor(e,n)})),r.Pb()}if(2&t){const t=r.Yb(4);r.Db(t.cpRemoveColorButtonClass)}}function Vx(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",48),r.Wb("click",(function(){r.lc(t);const n=e.$implicit;return r.Yb(3).setColorFromString(n)})),r.tc(1,Mx,1,3,"span",49),r.Pb()}if(2&t){const t=e.$implicit,n=r.Yb(3);r.qc("background-color",t),r.Bb(1),r.dc("ngIf",n.cpAddColorButton)}}function Lx(t,e){if(1&t&&(r.Qb(0,"div"),r.tc(1,Vx,2,3,"div",47),r.Pb()),2&t){const t=r.Yb(2);r.Db(t.cpPresetColorsClass),r.Bb(1),r.dc("ngForOf",t.cpPresetColors)}}function Fx(t,e){if(1&t&&(r.Qb(0,"div"),r.uc(1),r.Pb()),2&t){const t=r.Yb(2);r.Db(t.cpPresetEmptyMessageClass),r.Bb(1),r.vc(t.cpPresetEmptyMessage)}}function Ux(t,e){if(1&t&&(r.Qb(0,"div",44),r.Ob(1,"hr"),r.Qb(2,"div",45),r.uc(3),r.Pb(),r.tc(4,Lx,2,4,"div",46),r.tc(5,Fx,2,4,"div",46),r.Pb()),2&t){const t=r.Yb();r.Bb(3),r.vc(t.cpPresetLabel),r.Bb(1),r.dc("ngIf",null==t.cpPresetColors?null:t.cpPresetColors.length),r.Bb(1),r.dc("ngIf",!(null!=t.cpPresetColors&&t.cpPresetColors.length)&&t.cpAddColorButton)}}function Bx(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",53),r.Wb("click",(function(e){return r.lc(t),r.Yb(2).onCancelColor(e)})),r.uc(1),r.Pb()}if(2&t){const t=r.Yb(2);r.Db(t.cpCancelButtonClass),r.Bb(1),r.vc(t.cpCancelButtonText)}}function qx(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",53),r.Wb("click",(function(e){return r.lc(t),r.Yb(2).onAcceptColor(e)})),r.uc(1),r.Pb()}if(2&t){const t=r.Yb(2);r.Db(t.cpOKButtonClass),r.Bb(1),r.vc(t.cpOKButtonText)}}function Hx(t,e){if(1&t&&(r.Qb(0,"div",51),r.tc(1,Bx,2,4,"button",52),r.tc(2,qx,2,4,"button",52),r.Pb()),2&t){const t=r.Yb();r.Bb(1),r.dc("ngIf",t.cpCancelButton),r.Bb(1),r.dc("ngIf",t.cpOKButton)}}var Qx=function(t){return t[t.HEX=0]="HEX",t[t.RGBA=1]="RGBA",t[t.HSLA=2]="HSLA",t[t.CMYK=3]="CMYK",t}({});class zx{constructor(t,e,n,r){this.r=t,this.g=e,this.b=n,this.a=r}}class Wx{constructor(t,e,n,r){this.h=t,this.s=e,this.v=n,this.a=r}}class Kx{constructor(t,e,n,r){this.h=t,this.s=e,this.l=n,this.a=r}}class Gx{constructor(t,e,n,r,i=1){this.c=t,this.m=e,this.y=n,this.k=r,this.a=i}}let Yx=(()=>{class t{constructor(){this.newValue=new r.n}inputChange(t){const e=t.target.value;if(void 0===this.rg)this.newValue.emit(e);else{const t=parseFloat(e);this.newValue.emit({v:t,rg:this.rg})}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","text",""]],hostBindings:function(t,e){1&t&&r.Wb("input",(function(t){return e.inputChange(t)}))},inputs:{rg:"rg",text:"text"},outputs:{newValue:"newValue"}}),t})(),Xx=(()=>{class t{constructor(t){this.elRef=t,this.dragEnd=new r.n,this.dragStart=new r.n,this.newValue=new r.n,this.listenerMove=t=>this.move(t),this.listenerStop=()=>this.stop()}mouseDown(t){this.start(t)}touchStart(t){this.start(t)}move(t){t.preventDefault(),this.setCursor(t)}start(t){this.setCursor(t),t.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(t){const e=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageX?t.pageX:t.touches[0].pageX)-e.left-window.pageXOffset}getY(t){const e=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageY?t.pageY:t.touches[0].pageY)-e.top-window.pageYOffset}setCursor(t){const e=this.elRef.nativeElement.offsetWidth,n=this.elRef.nativeElement.offsetHeight,r=Math.max(0,Math.min(this.getX(t),e)),i=Math.max(0,Math.min(this.getY(t),n));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:r/e,v:1-i/n,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:i/n,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:r/e,rgX:this.rgX})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["","slider",""]],hostBindings:function(t,e){1&t&&r.Wb("mousedown",(function(t){return e.mouseDown(t)}))("touchstart",(function(t){return e.touchStart(t)}))},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),t})();class Zx{constructor(t,e,n,r){this.h=t,this.s=e,this.v=n,this.a=r}}class Jx{constructor(t,e,n,r){this.h=t,this.s=e,this.v=n,this.a=r}}let $x=(()=>{class t{constructor(){this.active=null}setActive(t){this.active&&this.active!==t&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=t}hsva2hsla(t){const e=t.h,n=t.s,r=t.v,i=t.a;if(0===r)return new Kx(e,0,0,i);if(0===n&&1===r)return new Kx(e,1,1,i);{const t=r*(2-n)/2;return new Kx(e,r*n/(1-Math.abs(2*t-1)),t,i)}}hsla2hsva(t){const e=Math.min(t.h,1),n=Math.min(t.s,1),r=Math.min(t.l,1),i=Math.min(t.a,1);if(0===r)return new Wx(e,0,0,i);{const t=r+n*(1-Math.abs(2*r-1))/2;return new Wx(e,2*(t-r)/t,t,i)}}hsvaToRgba(t){let e,n,r;const i=t.h,o=t.s,s=t.v,a=t.a,u=Math.floor(6*i),c=6*i-u,l=s*(1-o),h=s*(1-c*o),d=s*(1-(1-c)*o);switch(u%6){case 0:e=s,n=d,r=l;break;case 1:e=h,n=s,r=l;break;case 2:e=l,n=s,r=d;break;case 3:e=l,n=h,r=s;break;case 4:e=d,n=l,r=s;break;case 5:e=s,n=l,r=h;break;default:e=0,n=0,r=0}return new zx(e,n,r,a)}cmykToRgb(t){return new zx((1-t.c)*(1-t.k),(1-t.m)*(1-t.k),(1-t.y)*(1-t.k),t.a)}rgbaToCmyk(t){const e=1-Math.max(t.r,t.g,t.b);return 1===e?new Gx(0,0,0,1,t.a):new Gx((1-t.r-e)/(1-e),(1-t.g-e)/(1-e),(1-t.b-e)/(1-e),e,t.a)}rgbaToHsva(t){let e,n;const r=Math.min(t.r,1),i=Math.min(t.g,1),o=Math.min(t.b,1),s=Math.min(t.a,1),a=Math.max(r,i,o),u=Math.min(r,i,o),c=a,l=a-u;if(n=0===a?0:l/a,a===u)e=0;else{switch(a){case r:e=(i-o)/l+(i<o?6:0);break;case i:e=(o-r)/l+2;break;case o:e=(r-i)/l+4;break;default:e=0}e/=6}return new Wx(e,n,c,s)}rgbaToHex(t,e){let n="#"+(1<<24|t.r<<16|t.g<<8|t.b).toString(16).substr(1);return e&&(n+=(256|Math.round(255*t.a)).toString(16).substr(1)),n}normalizeCMYK(t){return new Gx(t.c/100,t.m/100,t.y/100,t.k/100,t.a)}denormalizeCMYK(t){return new Gx(Math.floor(100*t.c),Math.floor(100*t.m),Math.floor(100*t.y),Math.floor(100*t.k),t.a)}denormalizeRGBA(t){return new zx(Math.round(255*t.r),Math.round(255*t.g),Math.round(255*t.b),t.a)}stringToHsva(t="",e=!1){let n=null;t=(t||"").toLowerCase();const r=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return new zx(parseInt(t[2],10)/255,parseInt(t[3],10)/255,parseInt(t[4],10)/255,isNaN(parseFloat(t[5]))?1:parseFloat(t[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return new Kx(parseInt(t[2],10)/360,parseInt(t[3],10)/100,parseInt(t[4],10)/100,isNaN(parseFloat(t[5]))?1:parseFloat(t[5]))}}];r.push(e?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(t){return new zx(parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255,parseInt(t[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(t){return new zx(parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255,1)}}),r.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(t){return new zx(parseInt(t[1]+t[1],16)/255,parseInt(t[2]+t[2],16)/255,parseInt(t[3]+t[3],16)/255,1)}});for(const i in r)if(r.hasOwnProperty(i)){const e=r[i],o=e.re.exec(t),s=o&&e.parse(o);if(s)return s instanceof zx?n=this.rgbaToHsva(s):s instanceof Kx&&(n=this.hsla2hsva(s)),n}return n}outputFormat(t,e,n){switch("auto"===e&&(e=t.a<1?"rgba":"hex"),e){case"hsla":const e=this.hsva2hsla(t),r=new Kx(Math.round(360*e.h),Math.round(100*e.s),Math.round(100*e.l),Math.round(100*e.a)/100);return t.a<1||"always"===n?"hsla("+r.h+","+r.s+"%,"+r.l+"%,"+r.a+")":"hsl("+r.h+","+r.s+"%,"+r.l+"%)";case"rgba":const i=this.denormalizeRGBA(this.hsvaToRgba(t));return t.a<1||"always"===n?"rgba("+i.r+","+i.g+","+i.b+","+Math.round(100*i.a)/100+")":"rgb("+i.r+","+i.g+","+i.b+")";default:const o="always"===n||"forced"===n;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(t)),o)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),tE=(()=>{class t{constructor(t,e,n){this.elRef=t,this.cdRef=e,this.service=n,this.isIE10=!1,this.dialogArrowSize=10,this.dialogArrowOffset=15,this.dialogInputFields=[Qx.HEX,Qx.RGBA,Qx.HSLA,Qx.CMYK],this.useRootViewContainer=!1}handleEsc(t){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(t)}handleEnter(t){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(t)}ngOnInit(){this.slider=new Zx(0,0,0,0),this.sliderDimMax=new Jx(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpCmykEnabled?Qx.CMYK:"rgba"===this.cpOutputFormat?Qx.RGBA:"hsla"===this.cpOutputFormat?Qx.HSLA:Qx.HEX,this.listenerMouseDown=t=>{this.onMouseDown(t)},this.listenerResize=()=>{this.onResize()},this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewInit(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new Jx(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())}openDialog(t,e=!0){this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(t),this.setColorFromString(t,e),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,b,m,y,v,w,_,C,x,E,O,S,A,k,I,T,P,R,j,N,D){this.setInitialColor(n),this.setColorMode(a),this.isIE10=10===function(){let t="";"undefined"!=typeof navigator&&(t=navigator.userAgent.toLowerCase());const e=t.indexOf("msie ");return e>0&&parseInt(t.substring(e+5,t.indexOf(".",e)),10)}(),this.directiveInstance=t,this.directiveElementRef=e,this.cpDisableInput=h,this.cpCmykEnabled=u,this.cpAlphaChannel=c,this.cpOutputFormat=l,this.cpDialogDisplay=o,this.cpIgnoredElements=d,this.cpSaveClickOutside=f,this.cpCloseClickOutside=p,this.useRootViewContainer=g,this.width=this.cpWidth=parseInt(r,10),this.height=this.cpHeight=parseInt(i,10),this.cpPosition=b,this.cpPositionOffset=parseInt(m,10),this.cpOKButton=O,this.cpOKButtonText=A,this.cpOKButtonClass=S,this.cpCancelButton=k,this.cpCancelButtonText=T,this.cpCancelButtonClass=I,this.fallbackColor=s||"#fff",this.setPresetConfig(v,w),this.cpPresetColorsClass=_,this.cpMaxPresetColorsLength=C,this.cpPresetEmptyMessage=x,this.cpPresetEmptyMessageClass=E,this.cpAddColorButton=P,this.cpAddColorButtonText=j,this.cpAddColorButtonClass=R,this.cpRemoveColorButtonClass=N,this.cpTriggerElement=D,y||(this.dialogArrowOffset=0),"inline"===o&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===l&&"always"!==c&&"forced"!==c&&(this.cpAlphaChannel="disabled")}setColorMode(t){switch(t.toString().toUpperCase()){case"1":case"C":case"COLOR":this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3;break;default:this.cpColorMode=1}}setInitialColor(t){this.initialColor=t}setPresetConfig(t,e){this.cpPresetLabel=t,this.cpPresetColors=e}setColorFromString(t,e=!0,n=!0){let r;"always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel?(r=this.service.stringToHsva(t,!0),r||this.hsva||(r=this.service.stringToHsva(t,!1))):r=this.service.stringToHsva(t,!1),r||this.hsva||(r=this.service.stringToHsva(this.fallbackColor,!1)),r&&(this.hsva=r,this.sliderH=this.hsva.h,"hex"===this.cpOutputFormat&&"disabled"===this.cpAlphaChannel&&(this.hsva.a=1),this.updateColorPicker(e,n))}onResize(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()}onDragEnd(t){this.directiveInstance.sliderDragEnd({slider:t,color:this.outputColor})}onDragStart(t){this.directiveInstance.sliderDragStart({slider:t,color:this.outputColor})}onMouseDown(t){!this.show||this.isIE10||"popup"!==this.cpDialogDisplay||t.target===this.directiveElementRef.nativeElement||this.isDescendant(this.elRef.nativeElement,t.target)||this.isDescendant(this.directiveElementRef.nativeElement,t.target)||0!==this.cpIgnoredElements.filter(e=>e===t.target).length||(this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.hsva=null,this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor),this.directiveInstance.colorCanceled()),this.cpCloseClickOutside&&this.closeColorPicker())}onAcceptColor(t){t.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),"popup"===this.cpDialogDisplay&&this.closeColorPicker()}onCancelColor(t){this.hsva=null,t.stopPropagation(),this.directiveInstance.colorCanceled(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker())}onFormatToggle(t){const e=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),n=((this.dialogInputFields.indexOf(this.format)+t)%e+e)%e;this.format=this.dialogInputFields[n]}onColorChange(t){this.hsva.s=t.s/t.rgX,this.hsva.v=t.v/t.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})}onHueChange(t){this.hsva.h=t.v/t.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})}onValueChange(t){this.hsva.v=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})}onAlphaChange(t){this.hsva.a=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})}onHexInput(t){if(null===t)this.updateColorPicker();else{t&&"#"!==t[0]&&(t="#"+t);let e=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(e=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);const n=e.test(t);n&&(t.length<5&&(t="#"+t.substring(1).split("").map(t=>t+t).join("")),"forced"===this.cpAlphaChannel&&(t+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(t,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:n,value:t,color:this.outputColor})}}onRedInput(t){const e=this.service.hsvaToRgba(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(e.r=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:n,value:e.r,color:this.outputColor})}onBlueInput(t){const e=this.service.hsvaToRgba(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(e.b=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:n,value:e.b,color:this.outputColor})}onGreenInput(t){const e=this.service.hsvaToRgba(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(e.g=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:n,value:e.g,color:this.outputColor})}onHueInput(t){const e=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;e&&(this.hsva.h=t.v/t.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:e,value:this.hsva.h,color:this.outputColor})}onValueInput(t){const e=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;e&&(this.hsva.v=t.v/t.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:e,value:this.hsva.v,color:this.outputColor})}onAlphaInput(t){const e=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;e&&(this.hsva.a=t.v/t.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:e,value:this.hsva.a,color:this.outputColor})}onLightnessInput(t){const e=this.service.hsva2hsla(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(e.l=t.v/t.rg,this.hsva=this.service.hsla2hsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:n,value:e.l,color:this.outputColor})}onSaturationInput(t){const e=this.service.hsva2hsla(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(e.s=t.v/t.rg,this.hsva=this.service.hsla2hsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:n,value:e.s,color:this.outputColor})}onCyanInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.c=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}onMagentaInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.m=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}onYellowInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.y=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}onBlackInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.k=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}onAddPresetColor(t,e){t.stopPropagation(),this.cpPresetColors.filter(t=>t===e).length||(this.cpPresetColors=this.cpPresetColors.concat(e),this.directiveInstance.presetColorsChanged(this.cpPresetColors))}onRemovePresetColor(t,e){t.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(t=>t!==e),this.directiveInstance.presetColorsChanged(this.cpPresetColors)}openColorPicker(){this.show||(this.show=!0,this.hidden=!0,setTimeout(()=>{this.hidden=!1,this.setDialogPosition(),this.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||(document.addEventListener("mousedown",this.listenerMouseDown),document.addEventListener("touchstart",this.listenerMouseDown)),window.addEventListener("resize",this.listenerResize))}closeColorPicker(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||(document.removeEventListener("mousedown",this.listenerMouseDown),document.removeEventListener("touchstart",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())}updateColorPicker(t=!0,e=!0,n=!1){if(this.sliderDimMax){let r,i,o;2===this.cpColorMode&&(this.hsva.s=0);const s=this.outputColor;if(i=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(n?(o=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(o)):(o=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(o))),o=this.service.denormalizeRGBA(o),this.sliderH=this.hsva.h):o=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),r=this.service.denormalizeRGBA(this.service.hsvaToRgba(new Wx(this.sliderH||this.hsva.h,1,1,1))),e&&(this.hslaText=new Kx(Math.round(360*i.h),Math.round(100*i.s),Math.round(100*i.l),Math.round(100*i.a)/100),this.rgbaText=new zx(o.r,o.g,o.b,Math.round(100*o.a)/100),this.cpCmykEnabled&&(this.cmykText=new Gx(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(100*this.cmyk.a)/100)),this.hexText=this.service.rgbaToHex(o,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.format!==Qx.RGBA&&this.format!==Qx.CMYK&&this.hsva.a<1&&(this.format=this.hsva.a<1?Qx.RGBA:Qx.HEX),this.hueSliderColor="rgb("+r.r+","+r.g+","+r.b+")",this.alphaSliderColor="rgb("+o.r+","+o.g+","+o.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==Qx.CMYK)this.cmykColor="";else if("always"===this.cpAlphaChannel||"enabled"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel){const t=Math.round(100*this.cmyk.a)/100;this.cmykColor=`cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${t})`}else this.cmykColor=`cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;this.slider=new Zx((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),t&&s!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}}setDialogPosition(){if("inline"===this.cpDialogDisplay)this.position="relative";else{let t,e="static",n="",r=null,i=null,o=this.directiveElementRef.nativeElement.parentNode;const s=this.dialogElement.nativeElement.offsetHeight;for(;null!==o&&"HTML"!==o.tagName;){if(t=window.getComputedStyle(o),e=t.getPropertyValue("position"),n=t.getPropertyValue("transform"),"static"!==e&&null===r&&(r=o),n&&"none"!==n&&null===i&&(i=o),"fixed"===e){r=i;break}o=o.parentNode}const a=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==e);if(this.useRootViewContainer||"fixed"===e&&(!r||r instanceof HTMLUnknownElement))this.top=a.top,this.left=a.left;else{null===r&&(r=o);const t=this.createDialogBox(r,"fixed"!==e);this.top=a.top-t.top,this.left=a.left-t.left}"fixed"===e&&(this.position="fixed");let u=this.cpPosition;"auto"===this.cpPosition&&(u=function(t,e){let n="right",r="bottom";const{height:i,width:o}=t,{top:s,left:a}=e,u=s+e.height,c=a+e.width,l=s-i<0,h=u+i>(window.innerHeight||document.documentElement.clientHeight),d=a-o<0,f=c+o>(window.innerWidth||document.documentElement.clientWidth);return h&&(r="top"),l&&(r="bottom"),d&&(n="right"),f&&(n="left"),l&&h&&d&&f?["left","right","top","bottom"].reduce((e,n)=>t[e]>t[n]?e:n):d&&f?l?"bottom":h||s>u?"top":"bottom":l&&h?d?"right":f||a>c?"left":"right":`${r}-${n}`}(this.dialogElement.nativeElement.getBoundingClientRect(),this.cpTriggerElement.nativeElement.getBoundingClientRect())),"top"===u?(this.arrowTop=s-1,this.top-=s+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*a.width-this.dialogArrowOffset):"bottom"===u?(this.top+=a.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*a.width-this.dialogArrowOffset):"top-left"===u||"left-top"===u?(this.top-=s-a.height+a.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset):"top-right"===u||"right-top"===u?(this.top-=s-a.height+a.height*this.cpPositionOffset/100,this.left+=a.width+this.dialogArrowSize-2-this.dialogArrowOffset):"left"===u||"bottom-left"===u||"left-bottom"===u?(this.top+=a.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2):(this.top+=a.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=a.width+this.dialogArrowSize-2),this.cpUsePosition=u}}isDescendant(t,e){let n=e.parentNode;for(;null!==n;){if(n===t)return!0;n=n.parentNode}return!1}createDialogBox(t,e){return{top:t.getBoundingClientRect().top+(e?window.pageYOffset:0),left:t.getBoundingClientRect().left+(e?window.pageXOffset:0),width:t.offsetWidth,height:t.offsetHeight}}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.h),r.Nb($x))},t.\u0275cmp=r.Hb({type:t,selectors:[["color-picker"]],viewQuery:function(t,e){var n;1&t&&(r.pc(px,!0),r.pc(gx,!0),r.pc(bx,!0)),2&t&&(r.ic(n=r.Xb())&&(e.dialogElement=n.first),r.ic(n=r.Xb())&&(e.hueSlider=n.first),r.ic(n=r.Xb())&&(e.alphaSlider=n.first))},hostBindings:function(t,e){1&t&&r.Wb("keyup.esc",(function(t){return e.handleEsc(t)}),!1,r.kc)("keyup.enter",(function(t){return e.handleEnter(t)}),!1,r.kc)},decls:28,vars:47,consts:[[1,"color-picker",3,"click"],["dialogPopup",""],[3,"class","top",4,"ngIf"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue","dragStart","dragEnd",4,"ngIf"],[1,"hue-alpha","box"],[1,"left"],[1,"selected-color-background"],[1,"selected-color"],["type","button",3,"class","disabled","click",4,"ngIf"],[1,"right"],["style","height: 16px;",4,"ngIf"],[1,"hue",3,"slider","rgX","newValue","dragStart","dragEnd"],["hueSlider",""],[1,"cursor"],[1,"value",3,"slider","rgX","newValue","dragStart","dragEnd"],["valueSlider",""],[1,"alpha",3,"slider","rgX","newValue","dragStart","dragEnd"],["alphaSlider",""],["class","cmyk-text",3,"display",4,"ngIf"],["class","hsla-text",3,"display",4,"ngIf"],["class","rgba-text",3,"display",4,"ngIf"],["class","hex-text",3,"hex-alpha","display",4,"ngIf"],["class","value-text",4,"ngIf"],["class","type-policy",4,"ngIf"],["class","preset-area",4,"ngIf"],["class","button-area",4,"ngIf"],[1,"saturation-lightness",3,"slider","rgX","rgY","newValue","dragStart","dragEnd"],["type","button",3,"disabled","click"],[2,"height","16px"],[1,"cmyk-text"],[1,"box"],["type","number","pattern","[0-9]*","min","0","max","100",3,"text","rg","value","keyup.enter","newValue"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue",4,"ngIf"],[4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue"],[1,"hsla-text"],["type","number","pattern","[0-9]*","min","0","max","360",3,"text","rg","value","keyup.enter","newValue"],[1,"rgba-text"],["type","number","pattern","[0-9]*","min","0","max","255",3,"text","rg","value","keyup.enter","newValue"],[1,"hex-text"],[3,"text","value","blur","keyup.enter","newValue"],[1,"value-text"],[1,"type-policy"],[1,"type-policy-arrow",3,"click"],[1,"preset-area"],[1,"preset-label"],[3,"class",4,"ngIf"],["class","preset-color",3,"backgroundColor","click",4,"ngFor","ngForOf"],[1,"preset-color",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"button-area"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"]],template:function(t,e){1&t&&(r.Qb(0,"div",0,1),r.Wb("click",(function(t){return t.stopPropagation()})),r.tc(2,mx,1,5,"div",2),r.tc(3,yx,2,8,"div",3),r.Qb(4,"div",4),r.Qb(5,"div",5),r.Ob(6,"div",6),r.Ob(7,"div",7),r.tc(8,vx,2,5,"button",8),r.Pb(),r.Qb(9,"div",9),r.tc(10,wx,1,0,"div",10),r.Qb(11,"div",11,12),r.Wb("newValue",(function(t){return e.onHueChange(t)}))("dragStart",(function(){return e.onDragStart("hue")}))("dragEnd",(function(){return e.onDragEnd("hue")})),r.Ob(13,"div",13),r.Pb(),r.Qb(14,"div",14,15),r.Wb("newValue",(function(t){return e.onValueChange(t)}))("dragStart",(function(){return e.onDragStart("value")}))("dragEnd",(function(){return e.onDragEnd("value")})),r.Ob(16,"div",13),r.Pb(),r.Qb(17,"div",16,17),r.Wb("newValue",(function(t){return e.onAlphaChange(t)}))("dragStart",(function(){return e.onDragStart("alpha")}))("dragEnd",(function(){return e.onDragEnd("alpha")})),r.Ob(19,"div",13),r.Pb(),r.Pb(),r.Pb(),r.tc(20,xx,17,12,"div",18),r.tc(21,Sx,14,10,"div",19),r.tc(22,Ix,14,10,"div",20),r.tc(23,Rx,8,7,"div",21),r.tc(24,Nx,9,3,"div",22),r.tc(25,Dx,3,0,"div",23),r.tc(26,Ux,6,3,"div",24),r.tc(27,Hx,3,2,"div",25),r.Pb()),2&t&&(r.qc("display",e.show?"block":"none")("visibility",e.hidden?"hidden":"visible")("top",e.top,"px")("left",e.left,"px")("position",e.position)("height",e.cpHeight,"px")("width",e.cpWidth,"px"),r.Fb("open",e.show),r.Bb(2),r.dc("ngIf","popup"==e.cpDialogDisplay),r.Bb(1),r.dc("ngIf",1===(e.cpColorMode||1)),r.Bb(4),r.qc("background-color",e.selectedColor),r.Bb(1),r.dc("ngIf",e.cpAddColorButton),r.Bb(2),r.dc("ngIf","disabled"===e.cpAlphaChannel),r.Bb(1),r.qc("display",1===(e.cpColorMode||1)?"block":"none"),r.dc("rgX",1),r.Bb(2),r.qc("left",null==e.slider?null:e.slider.h,"px"),r.Bb(1),r.qc("display",2===(e.cpColorMode||1)?"block":"none"),r.dc("rgX",1),r.Bb(2),r.qc("right",null==e.slider?null:e.slider.v,"px"),r.Bb(1),r.qc("display","disabled"===e.cpAlphaChannel?"none":"block")("background-color",e.alphaSliderColor),r.dc("rgX",1),r.Bb(2),r.qc("left",null==e.slider?null:e.slider.a,"px"),r.Bb(1),r.dc("ngIf",!e.cpDisableInput&&1===(e.cpColorMode||1)),r.Bb(1),r.dc("ngIf",!e.cpDisableInput&&1===(e.cpColorMode||1)),r.Bb(1),r.dc("ngIf",!e.cpDisableInput&&1===(e.cpColorMode||1)),r.Bb(1),r.dc("ngIf",!e.cpDisableInput&&1===(e.cpColorMode||1)),r.Bb(1),r.dc("ngIf",!e.cpDisableInput&&2===(e.cpColorMode||1)),r.Bb(1),r.dc("ngIf",!e.cpDisableInput&&1===(e.cpColorMode||1)),r.Bb(1),r.dc("ngIf",(null==e.cpPresetColors?null:e.cpPresetColors.length)||e.cpAddColorButton),r.Bb(1),r.dc("ngIf",e.cpOKButton||e.cpCancelButton))},directives:[ot,Xx,Yx,rt],styles:['.color-picker{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;background-color:#fff;border:1px solid #777;cursor:default;height:auto;position:absolute;user-select:none;width:230px;z-index:1000}.color-picker *{box-sizing:border-box;font-size:11px;margin:0}.color-picker input{color:#000;font-size:13px;height:26px;min-width:0;text-align:center;width:0}.color-picker input:-moz-submit-invalid,.color-picker input:-moz-ui-invalid,.color-picker input:invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.color-picker .arrow{border-style:solid;height:0;position:absolute;width:0;z-index:999999}.color-picker .arrow.arrow-top{border-color:#777 transparent transparent;border-width:10px 5px;left:8px}.color-picker .arrow.arrow-bottom{border-color:transparent transparent #777;border-width:10px 5px;left:8px;top:-20px}.color-picker .arrow.arrow-left-top,.color-picker .arrow.arrow-top-left{border-color:transparent transparent transparent #777;border-width:5px 10px;bottom:8px;right:-21px}.color-picker .arrow.arrow-right-top,.color-picker .arrow.arrow-top-right{border-color:transparent #777 transparent transparent;border-width:5px 10px;bottom:8px;left:-20px}.color-picker .arrow.arrow-bottom-left,.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom{border-color:transparent transparent transparent #777;border-width:5px 10px;right:-21px;top:8px}.color-picker .arrow.arrow-bottom-right,.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom{border-color:transparent #777 transparent transparent;border-width:5px 10px;left:-20px;top:8px}.color-picker .cursor{border:2px solid #222;border-radius:50%;cursor:default;height:16px;position:relative;width:16px}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{padding:16px 8px;position:relative}.color-picker .right{flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{color:#555;font-size:11px;overflow:hidden;padding:4px;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%}.color-picker .preset-area .preset-color{border:1px solid #a9a9a9;border-radius:25%;cursor:pointer;display:inline-block;height:18px;margin:4px 6px 8px;position:relative;width:18px}.color-picker .preset-area .preset-empty-message{font-style:italic;margin-bottom:8px;margin-top:4px;min-height:18px;text-align:center}.color-picker .hex-text{font-size:11px;padding:4px 8px;width:100%}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{clear:left;color:#555;flex:1 1 auto;float:left;text-align:center}.color-picker .hex-text .box input{border:1px solid #a9a9a9;flex:1 1 auto;padding:1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{font-size:11px;padding:4px 8px;width:100%}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{color:#555;flex:1 1 auto;margin-right:8px;text-align:center}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{border:1px solid #a9a9a9;flex:1;float:left;margin:0 8px 0 0;padding:1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC");direction:ltr}.color-picker .hue,.color-picker .value{background-size:100% 100%;border:none;cursor:pointer;height:16px;margin-bottom:16px;width:100%}.color-picker .value{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=");direction:rtl}.color-picker .alpha{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==");background-size:100% 100%;border:none;cursor:pointer;direction:ltr;height:16px;width:100%}.color-picker .type-policy{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==");background-position:50%;background-repeat:no-repeat;background-size:8px 16px;height:24px;position:absolute;right:12px;top:218px;width:16px}.color-picker .type-policy .type-policy-arrow{display:block;height:50%;width:100%}.color-picker .selected-color{border:1px solid #a9a9a9;border-radius:50%;height:40px;left:8px;position:absolute;top:16px;width:40px}.color-picker .selected-color-background{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC");border-radius:50%;height:40px;width:40px}.color-picker .saturation-lightness{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==");background-size:100% 100%;border:none;cursor:pointer;direction:ltr;height:130px;touch-action:manipulation;width:100%}.color-picker .cp-add-color-button-class{background:transparent;border:0;cursor:pointer;display:inline;margin:3px -3px;padding:0;position:absolute}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{color:#999;cursor:not-allowed}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{background:#fff;border-radius:50%;box-shadow:1px 1px 5px #333;cursor:pointer;display:block;height:10px;position:absolute;right:-5px;text-align:center;top:-5px;width:10px}.color-picker .cp-remove-color-button-class:before{bottom:3.5px;content:"x";display:inline-block;font-size:10px;position:relative}'],encapsulation:2}),t})(),eE=(()=>{class t{constructor(t,e,n,i,o,s){this.injector=t,this.cfr=e,this.appRef=n,this.vcRef=i,this.elRef=o,this._service=s,this.dialogCreated=!1,this.ignoreChanges=!1,this.viewAttachedToAppRef=!1,this.cpWidth="230px",this.cpHeight="auto",this.cpToggle=!1,this.cpDisabled=!1,this.cpIgnoredElements=[],this.cpFallbackColor="",this.cpColorMode="color",this.cpCmykEnabled=!1,this.cpOutputFormat="auto",this.cpAlphaChannel="enabled",this.cpDisableInput=!1,this.cpDialogDisplay="popup",this.cpSaveClickOutside=!0,this.cpCloseClickOutside=!0,this.cpUseRootViewContainer=!1,this.cpPosition="auto",this.cpPositionOffset="0%",this.cpPositionRelativeToArrow=!1,this.cpOKButton=!1,this.cpOKButtonText="OK",this.cpOKButtonClass="cp-ok-button-class",this.cpCancelButton=!1,this.cpCancelButtonText="Cancel",this.cpCancelButtonClass="cp-cancel-button-class",this.cpPresetLabel="Preset colors",this.cpPresetColorsClass="cp-preset-colors-class",this.cpMaxPresetColorsLength=6,this.cpPresetEmptyMessage="No colors added",this.cpPresetEmptyMessageClass="preset-empty-message",this.cpAddColorButton=!1,this.cpAddColorButtonText="Add color",this.cpAddColorButtonClass="cp-add-color-button-class",this.cpRemoveColorButtonClass="cp-remove-color-button-class",this.cpInputChange=new r.n(!0),this.cpToggleChange=new r.n(!0),this.cpSliderChange=new r.n(!0),this.cpSliderDragEnd=new r.n(!0),this.cpSliderDragStart=new r.n(!0),this.colorPickerOpen=new r.n(!0),this.colorPickerClose=new r.n(!0),this.colorPickerCancel=new r.n(!0),this.colorPickerSelect=new r.n(!0),this.colorPickerChange=new r.n(!1),this.cpCmykColorChange=new r.n(!0),this.cpPresetColorsChange=new r.n(!0)}handleClick(){this.inputFocus()}handleFocus(){this.inputFocus()}handleInput(t){this.inputChange(t)}ngOnDestroy(){null!=this.cmpRef&&(this.viewAttachedToAppRef&&this.appRef.detachView(this.cmpRef.hostView),this.cmpRef.destroy(),this.cmpRef=null,this.dialog=null)}ngOnChanges(t){t.cpToggle&&!this.cpDisabled&&(t.cpToggle.currentValue?this.openDialog():t.cpToggle.currentValue||this.closeDialog()),t.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(t.colorPicker.currentValue),this.dialog.setColorFromString(t.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(t.cpPresetLabel||t.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)}openDialog(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{let t=this.vcRef;if(this.dialogCreated=!0,this.viewAttachedToAppRef=!1,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){const e=this.injector.get(this.appRef.componentTypes[0],r.r.NULL);e!==r.r.NULL?(t=e.vcRef||e.viewContainerRef||this.vcRef,t===this.vcRef&&console.warn("You are using cpUseRootViewContainer, but the root component is not exposing viewContainerRef!Please expose it by adding 'public vcRef: ViewContainerRef' to the constructor.")):this.viewAttachedToAppRef=!0}const e=this.cfr.resolveComponentFactory(tE);if(this.viewAttachedToAppRef)this.cmpRef=e.create(this.injector),this.appRef.attachView(this.cmpRef.hostView),document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);else{const n=r.E.fromResolvedProviders([],t.parentInjector);this.cmpRef=t.createComponent(e,0,n,[])}this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass,this.elRef),this.dialog=this.cmpRef.instance,this.vcRef!==t&&this.cmpRef.changeDetectorRef.detectChanges()}}closeDialog(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()}cmykChanged(t){this.cpCmykColorChange.emit(t)}stateChanged(t){this.cpToggleChange.emit(t),t?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)}colorChanged(t,e=!0){this.ignoreChanges=e,this.colorPickerChange.emit(t)}colorSelected(t){this.colorPickerSelect.emit(t)}colorCanceled(){this.colorPickerCancel.emit()}inputFocus(){const t=this.elRef.nativeElement,e=this.cpIgnoredElements.filter(e=>e===t);this.cpDisabled||e.length||("undefined"!=typeof document&&t===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())}inputChange(t){this.dialog?this.dialog.setColorFromString(t.target.value,!0):(this.colorPicker=t.target.value,this.colorPickerChange.emit(this.colorPicker))}inputChanged(t){this.cpInputChange.emit(t)}sliderChanged(t){this.cpSliderChange.emit(t)}sliderDragEnd(t){this.cpSliderDragEnd.emit(t)}sliderDragStart(t){this.cpSliderDragStart.emit(t)}presetColorsChanged(t){this.cpPresetColorsChange.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.r),r.Nb(r.j),r.Nb(r.g),r.Nb(r.R),r.Nb(r.l),r.Nb($x))},t.\u0275dir=r.Ib({type:t,selectors:[["","colorPicker",""]],hostBindings:function(t,e){1&t&&r.Wb("click",(function(){return e.handleClick()}))("focus",(function(){return e.handleFocus()}))("input",(function(t){return e.handleInput(t)}))},inputs:{cpWidth:"cpWidth",cpHeight:"cpHeight",cpToggle:"cpToggle",cpDisabled:"cpDisabled",cpIgnoredElements:"cpIgnoredElements",cpFallbackColor:"cpFallbackColor",cpColorMode:"cpColorMode",cpCmykEnabled:"cpCmykEnabled",cpOutputFormat:"cpOutputFormat",cpAlphaChannel:"cpAlphaChannel",cpDisableInput:"cpDisableInput",cpDialogDisplay:"cpDialogDisplay",cpSaveClickOutside:"cpSaveClickOutside",cpCloseClickOutside:"cpCloseClickOutside",cpUseRootViewContainer:"cpUseRootViewContainer",cpPosition:"cpPosition",cpPositionOffset:"cpPositionOffset",cpPositionRelativeToArrow:"cpPositionRelativeToArrow",cpOKButton:"cpOKButton",cpOKButtonText:"cpOKButtonText",cpOKButtonClass:"cpOKButtonClass",cpCancelButton:"cpCancelButton",cpCancelButtonText:"cpCancelButtonText",cpCancelButtonClass:"cpCancelButtonClass",cpPresetLabel:"cpPresetLabel",cpPresetColorsClass:"cpPresetColorsClass",cpMaxPresetColorsLength:"cpMaxPresetColorsLength",cpPresetEmptyMessage:"cpPresetEmptyMessage",cpPresetEmptyMessageClass:"cpPresetEmptyMessageClass",cpAddColorButton:"cpAddColorButton",cpAddColorButtonText:"cpAddColorButtonText",cpAddColorButtonClass:"cpAddColorButtonClass",cpRemoveColorButtonClass:"cpRemoveColorButtonClass",colorPicker:"colorPicker",cpPresetColors:"cpPresetColors"},outputs:{cpInputChange:"cpInputChange",cpToggleChange:"cpToggleChange",cpSliderChange:"cpSliderChange",cpSliderDragEnd:"cpSliderDragEnd",cpSliderDragStart:"cpSliderDragStart",colorPickerOpen:"colorPickerOpen",colorPickerClose:"colorPickerClose",colorPickerCancel:"colorPickerCancel",colorPickerSelect:"colorPickerSelect",colorPickerChange:"colorPickerChange",cpCmykColorChange:"cpCmykColorChange",cpPresetColorsChange:"cpPresetColorsChange"},exportAs:["ngxColorPicker"],features:[r.zb]}),t})(),nE=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[$x],imports:[[ct]]}),t})();function rE(t,e){1&t&&r.Ob(0,"img",22)}const iE=[{path:"admin",component:rs,canActivate:[fx],children:[{path:"configuracao",component:(()=>{class t{constructor(t,e,n){this.afs=t,this.afAuth=e,this.storage=n,this.isLoading=!1,this.pedidos=[],this.config={nome:null,whatsapp:null,color:null,color2:null,logo:null,banner:null},this.selectedFile=null,this.selectedFile2=null}onFileSelected(t){var e=Date.now();const n=t.target.files[0],r=this.storage.ref("imagems/"+e);this.storage.upload("imagems/"+e,n).snapshotChanges().pipe(Ke(()=>{this.downloadURL=r.getDownloadURL(),this.downloadURL.subscribe(t=>{t&&(this.fb=t,this.config.logo=this.fb)})})).subscribe(t=>{t&&console.log(t)})}onFileSelected2(t){var e=Date.now();const n=t.target.files[0],r=this.storage.ref("imagems/"+e);this.storage.upload("imagems/"+e,n).snapshotChanges().pipe(Ke(()=>{this.downloadURL2=r.getDownloadURL(),this.downloadURL2.subscribe(t=>{t&&(this.fb2=t,this.config.banner=this.fb2)})})).subscribe(t=>{t&&console.log(t)})}carregar(){this.afs.firestore.collection("config").doc("config").get().then(t=>{this.config=JSON.parse(JSON.stringify(t.data()))}),this.afs.firestore.collection("pedidos").orderBy("data","desc").get().then(t=>{let e=[];t.forEach(t=>{let n=t.data();n.id=t.id,e.push(n)}),this.pedidos=e,console.log(this.pedidos)})}ngOnInit(){this.carregar()}aceitar(t){this.afs.firestore.collection("pedidos").doc(t).update({status:"preparando"}).then(()=>{this.carregar()})}recusar(t){this.afs.firestore.collection("pedidos").doc(t).update({status:"recusado"}).then(()=>{this.carregar()})}saiuEntrega(t){this.afs.firestore.collection("pedidos").doc(t).update({status:"saiu para entrega"}).then(()=>{this.carregar()})}finalizado(t){this.afs.firestore.collection("pedidos").doc(t).update({status:"entregue"}).then(()=>{this.carregar()})}salvar(){this.afs.firestore.collection("config").doc("config").update(this.config),setTimeout(()=>{this.isLoading=!1},3e3),this.isLoading=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(h_),r.Nb(Yw),r.Nb(NC))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-configuracao"]],decls:49,vars:12,consts:[[1,"relative","flex","flex-col","min-w-0","break-words","bg-white","w-full","mb-6","shadow-lg","rounded"],[1,"flex-auto","px-4","lg:px-10","py-10","pt-0"],[1,"text-base","text-gray-700",2,"margin-top","20px"],[1,"flex","flex-wrap",2,"margin-top","10px"],[1,"w-full","lg:w-6/12","px-4",2,"padding-left","0px !important"],[1,"relative","w-full","mb-3"],["htmlFor","grid-password",1,"block","uppercase","text-gray-700","text-base","font-bold","mb-2"],["type","text",1,"border-gray-700","px-3","py-3","placeholder-gray-400","text-gray-700","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:shadow-outline","w-full","ease-linear","transition-all","duration-150",3,"ngModel","ngModelChange"],[1,"w-full","lg:w-6/12","px-4"],[1,"w-full","lg:w-12","px-4",2,"padding","0px !important"],[1,"px-3","py-3","placeholder-gray-400","text-gray-700","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:shadow-outline","w-full","ease-linear","transition-all","duration-150",3,"colorPicker","colorPickerChange"],["type","file","id","file","name","image","autocomplete","off",1,"border-gray-700","px-3","py-3","placeholder-gray-400","text-gray-700","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:shadow-outline","w-full","ease-linear","transition-all","duration-150",3,"change"],["userPhoto",""],[1,"relative","w-full","mb-3",2,"text-align","center"],[2,"width","80px",3,"src"],["type","file","id","file2","name","image","autocomplete","off",1,"border-gray-700","px-3","py-3","placeholder-gray-400","text-gray-700","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:shadow-outline","w-full","ease-linear","transition-all","duration-150",3,"change"],[2,"width","80%",3,"src"],[1,"rounded-t","mb-0","px-4","py-3","border-0"],[1,"flex","flex-wrap","items-center"],[1,"relative","w-full","px-4","max-w-full","flex-grow","flex-1"],["type","button",1,"bg-loading","text-gray-700","bg-gray-1000","inline-flex","justify-center","items-center","font-semibold","uppercase","text-xs","px-4","py-2","rounded","shadow","hover:shadow-md","outline-none","focus:outline-none","mr-1",3,"disabled","click"],["class","h-5 pr-4","src","../../../../assets/img/download.gif",4,"ngIf"],["src","../../../../assets/img/download.gif",1,"h-5","pr-4"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"h3",2),r.uc(3," Configura\xe7\xf5es do estabelecimento "),r.Pb(),r.Qb(4,"div",3),r.Qb(5,"div",4),r.Qb(6,"div",5),r.Qb(7,"label",6),r.uc(8," Nome "),r.Pb(),r.Qb(9,"input",7),r.Wb("ngModelChange",(function(t){return e.config.nome=t})),r.Pb(),r.Pb(),r.Pb(),r.Qb(10,"div",8),r.Qb(11,"div",5),r.Qb(12,"label",6),r.uc(13," Whatsapp "),r.Pb(),r.Qb(14,"input",7),r.Wb("ngModelChange",(function(t){return e.config.whatsapp=t})),r.Pb(),r.Pb(),r.Pb(),r.Qb(15,"div",9),r.Qb(16,"div",5),r.Qb(17,"label",6),r.uc(18," Cor principal "),r.Pb(),r.Qb(19,"input",10),r.Wb("colorPickerChange",(function(t){return e.config.color=t})),r.Pb(),r.Pb(),r.Pb(),r.Qb(20,"div",9),r.Qb(21,"div",5),r.Qb(22,"label",6),r.uc(23," Cor menu "),r.Pb(),r.Qb(24,"input",10),r.Wb("colorPickerChange",(function(t){return e.config.color2=t})),r.Pb(),r.Pb(),r.Pb(),r.Qb(25,"div",4),r.Qb(26,"div",5),r.Qb(27,"label",6),r.uc(28," Logo "),r.Pb(),r.Qb(29,"input",11,12),r.Wb("change",(function(t){return e.onFileSelected(t)})),r.Pb(),r.Pb(),r.Pb(),r.Qb(31,"div",8),r.Qb(32,"div",13),r.Ob(33,"img",14),r.Pb(),r.Pb(),r.Qb(34,"div",4),r.Qb(35,"div",5),r.Qb(36,"label",6),r.uc(37," Banner "),r.Pb(),r.Qb(38,"input",15,12),r.Wb("change",(function(t){return e.onFileSelected2(t)})),r.Pb(),r.Pb(),r.Pb(),r.Qb(40,"div",8),r.Qb(41,"div",13),r.Ob(42,"img",16),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(43,"div",17),r.Qb(44,"div",18),r.Qb(45,"div",19),r.Qb(46,"button",20),r.Wb("click",(function(){return e.salvar()})),r.tc(47,rE,1,0,"img",21),r.uc(48," Salvar "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Bb(9),r.dc("ngModel",e.config.nome),r.Bb(5),r.dc("ngModel",e.config.whatsapp),r.Bb(5),r.qc("background",e.config.color),r.dc("colorPicker",e.config.color),r.Bb(5),r.qc("background",e.config.color2),r.dc("colorPicker",e.config.color2),r.Bb(9),r.dc("src",e.config.logo,r.mc),r.Bb(9),r.dc("src",e.config.banner,r.mc),r.Bb(4),r.dc("disabled",e.isLoading),r.Bb(1),r.dc("ngIf",e.isLoading))},directives:[Qi,Xi,Qo,eE,ot],encapsulation:2}),t})()},{path:"tables",component:cx},{path:"produtos",component:ux},{path:"categorias",component:UC},{path:"pedidos",component:ex},{path:"",redirectTo:"pedidos",pathMatch:"full"}]},{path:"auth",component:ss,children:[{path:"login",component:hx},{path:"",redirectTo:"login",pathMatch:"full"}]},{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"**",redirectTo:"",pathMatch:"full"}];let oE,sE=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[ki.forRoot(iE)],ki]}),t})(),aE=(()=>{class t{constructor(){this.title="angular-dashboard-page"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Ob(0,"router-outlet")},directives:[yi],encapsulation:2}),t})();try{oE="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(LE){oE=!1}let uE=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!oE)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.B))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Ub)(r.B))},token:t,providedIn:"root"}),t})(),cE=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t})(),lE=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),hE=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[lE]}),t})();"undefined"!=typeof Element&&Element;let dE=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(uE),r.Ub(a))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Ub)(uE),Object(r.Ub)(a))},token:t,providedIn:"root"}),t})(),fE=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)(r.Ub(dE))},imports:[[cE,hE]]}),t})(),pE=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t})();const gE=new r.Q("10.2.7");function bE(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}let mE=(t,e)=>!1,yE=(t,e)=>!1,vE=(t,e,n)=>[];const wE=bE();(wE||"undefined"!=typeof Element)&&((t,e)=>t.contains(e),yE=(()=>{if(wE||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):yE}})());const _E=new r.Q("10.2.7"),CE=new r.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let xE,EE=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Object(r.X)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&_E.full!==gE.full&&console.warn("The Angular Material version ("+_E.full+") does not match the Angular CDK version ("+gE.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)(r.Ub(dE),r.Ub(CE,8),r.Ub(a,8))},imports:[[pE],pE]}),t})();try{xE="undefined"!=typeof Intl}catch(LE){xE=!1}let OE=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[EE],EE]}),t})(),SE=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[EE,cE],EE]}),t})(),AE=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t})(),kE=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[EE],EE]}),t})();n("n6bG"),n("3N8a"),n("IjjT"),n("7Hc7"),n("Y7HM");let IE=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t})(),TE=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[ct,EE,cE,IE],IE,EE]}),t})();n("z6cu"),n("w1tV");let PE=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[EE],EE]}),t})(),RE=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[EE],EE]}),t})(),jE=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[OE,SE,EE,AE,ct],OE,EE,AE,RE]}),t})(),NE=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[SE,EE],EE]}),t})(),DE=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t})(),ME=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[ct,EE,DE,SE,hE,fE],EE]}),t})(),VE=(()=>{class t{}return t.\u0275mod=r.Lb({type:t,bootstrap:[aE]}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[fx,dx],imports:[[qt,sE,ps.a.initializeApp(i),Xw,Ko,MC,nE,kE,TE,PE,jE,NE,ME]]}),t})();Object(r.U)(),Ut().bootstrapModule(VE).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);